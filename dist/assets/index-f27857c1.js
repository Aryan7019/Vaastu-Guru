import{j as h,P as Mn,c as Pw,a as Rw,u as Km,B as Nw,b as kw,d as Vw,e as fo,f as xt,R as jw,g as Dw,h as Ow,i as Mw,S as Lw,_ as mc,k as Qm,O as Xm,C as Jm,l as Fw,T as Zm,D as ep,m as Uw,n as Bw}from"./ui-6de7d4d1.js";import{a as tp,r as I,c as Yw,R as Be,u as cr,S as Uh,U as Bh,d as Yh,e as $t,g as zo,C as $w}from"./vendor-5aa8e2b5.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var yl={},$h=tp;yl.createRoot=$h.createRoot,yl.hydrateRoot=$h.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ys(){return Ys=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ys.apply(this,arguments)}var mn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(mn||(mn={}));const zh="popstate";function zw(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return vl("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:mo(s)}return Hw(e,t,null,n)}function Ve(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function np(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qw(){return Math.random().toString(36).substr(2,8)}function qh(n,e){return{usr:n.state,key:n.key,idx:e}}function vl(n,e,t,r){return t===void 0&&(t=null),Ys({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Zr(e):e,{state:t,key:e&&e.key||r||qw()})}function mo(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zr(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Hw(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=mn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ys({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=mn.Pop;let x=d(),V=x==null?null:x-u;u=x,c&&c({action:l,location:T.location,delta:V})}function g(x,V){l=mn.Push;let k=vl(T.location,x,V);t&&t(k,x),u=d()+1;let R=qh(k,u),O=T.createHref(k);try{o.pushState(R,"",O)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(O)}i&&c&&c({action:l,location:T.location,delta:1})}function y(x,V){l=mn.Replace;let k=vl(T.location,x,V);t&&t(k,x),u=d();let R=qh(k,u),O=T.createHref(k);o.replaceState(R,"",O),i&&c&&c({action:l,location:T.location,delta:0})}function b(x){let V=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof x=="string"?x:mo(x);return k=k.replace(/ $/,"%20"),Ve(V,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,V)}let T={get action(){return l},get location(){return n(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zh,m),c=x,()=>{s.removeEventListener(zh,m),c=null}},createHref(x){return e(s,x)},createURL:b,encodeLocation(x){let V=b(x);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:g,replace:y,go(x){return o.go(x)}};return T}var Hh;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Hh||(Hh={}));function Gw(n,e,t){return t===void 0&&(t="/"),Ww(n,e,t,!1)}function Ww(n,e,t,r){let s=typeof e=="string"?Zr(e):e,i=pc(s.pathname||"/",t);if(i==null)return null;let o=rp(n);Kw(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=o_(i);l=s_(o[c],u,r)}return l}function rp(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ve(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=gn([r,c.relativePath]),d=t.concat(c);i.children&&i.children.length>0&&(Ve(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rp(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:n_(u,i.index),routesMeta:d})};return n.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of sp(i.path))s(i,o,c)}),e}function sp(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=sp(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function Kw(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:r_(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Qw=/^:[\w-]+$/,Xw=3,Jw=2,Zw=1,e_=10,t_=-2,Gh=n=>n==="*";function n_(n,e){let t=n.split("/"),r=t.length;return t.some(Gh)&&(r+=t_),e&&(r+=Jw),t.filter(s=>!Gh(s)).reduce((s,i)=>s+(Qw.test(i)?Xw:i===""?Zw:e_),r)}function r_(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function s_(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",m=Wh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!m&&u&&t&&!r[r.length-1].route.index&&(m=Wh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:gn([i,m.pathname]),pathnameBase:u_(gn([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=gn([i,m.pathnameBase]))}return o}function Wh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=i_(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,m)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let T=l[m]||"";o=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const b=l[m];return y&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function i_(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),np(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function o_(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return np(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function pc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function a_(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Zr(n):n;return{pathname:t?t.startsWith("/")?t:l_(t,e):e,search:h_(r),hash:d_(s)}}function l_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ya(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ip(n,e){let t=c_(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function op(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Zr(n):(s=Ys({},n),Ve(!s.pathname||!s.pathname.includes("?"),Ya("?","pathname","search",s)),Ve(!s.pathname||!s.pathname.includes("#"),Ya("#","pathname","hash",s)),Ve(!s.search||!s.search.includes("#"),Ya("#","search","hash",s)));let i=n===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=t;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=a_(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const gn=n=>n.join("/").replace(/\/\/+/g,"/"),u_=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),h_=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,d_=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function f_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const ap=["post","put","patch","delete"];new Set(ap);const m_=["get",...ap];new Set(m_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$s.apply(this,arguments)}const gc=I.createContext(null),p_=I.createContext(null),ur=I.createContext(null),qo=I.createContext(null),hr=I.createContext({outlet:null,matches:[],isDataRoute:!1}),lp=I.createContext(null);function g_(n,e){let{relative:t}=e===void 0?{}:e;oi()||Ve(!1);let{basename:r,navigator:s}=I.useContext(ur),{hash:i,pathname:o,search:l}=up(n,{relative:t}),c=o;return r!=="/"&&(c=o==="/"?r:gn([r,o])),s.createHref({pathname:c,search:l,hash:i})}function oi(){return I.useContext(qo)!=null}function dr(){return oi()||Ve(!1),I.useContext(qo).location}function cp(n){I.useContext(ur).static||I.useLayoutEffect(n)}function y_(){let{isDataRoute:n}=I.useContext(hr);return n?R_():v_()}function v_(){oi()||Ve(!1);let n=I.useContext(gc),{basename:e,future:t,navigator:r}=I.useContext(ur),{matches:s}=I.useContext(hr),{pathname:i}=dr(),o=JSON.stringify(ip(s,t.v7_relativeSplatPath)),l=I.useRef(!1);return cp(()=>{l.current=!0}),I.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let m=op(u,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:gn([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,o,i,n])}function up(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=I.useContext(ur),{matches:s}=I.useContext(hr),{pathname:i}=dr(),o=JSON.stringify(ip(s,r.v7_relativeSplatPath));return I.useMemo(()=>op(n,JSON.parse(o),i,t==="path"),[n,o,i,t])}function w_(n,e){return __(n,e)}function __(n,e,t,r){oi()||Ve(!1);let{navigator:s}=I.useContext(ur),{matches:i}=I.useContext(hr),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=dr(),d;if(e){var m;let x=typeof e=="string"?Zr(e):e;c==="/"||(m=x.pathname)!=null&&m.startsWith(c)||Ve(!1),d=x}else d=u;let g=d.pathname||"/",y=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=Gw(n,{pathname:y}),T=I_(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:gn([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:gn([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,t,r);return e&&T?I.createElement(qo.Provider,{value:{location:$s({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:mn.Pop}},T):T}function x_(){let n=P_(),e=f_(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:s},t):null,i)}const b_=I.createElement(x_,null);class T_ extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(hr.Provider,{value:this.props.routeContext},I.createElement(lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E_(n){let{routeContext:e,match:t,children:r}=n,s=I.useContext(gc);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(hr.Provider,{value:e},r)}function I_(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=(s=t)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||Ve(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:g,errors:y}=t,b=m.route.loader&&g[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,m,g)=>{let y,b=!1,T=null,x=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,T=m.route.errorElement||b_,c&&(u<0&&g===0?(N_("route-fallback",!1),b=!0,x=null):u===g&&(b=!0,x=m.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,g+1)),k=()=>{let R;return y?R=T:b?R=x:m.route.Component?R=I.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=d,I.createElement(E_,{match:m,routeContext:{outlet:d,matches:V,isDataRoute:t!=null},children:R})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?I.createElement(T_,{location:t.location,revalidation:t.revalidation,component:T,error:y,children:k(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):k()},null)}var hp=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(hp||{}),po=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(po||{});function A_(n){let e=I.useContext(gc);return e||Ve(!1),e}function C_(n){let e=I.useContext(p_);return e||Ve(!1),e}function S_(n){let e=I.useContext(hr);return e||Ve(!1),e}function dp(n){let e=S_(),t=e.matches[e.matches.length-1];return t.route.id||Ve(!1),t.route.id}function P_(){var n;let e=I.useContext(lp),t=C_(po.UseRouteError),r=dp(po.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function R_(){let{router:n}=A_(hp.UseNavigateStable),e=dp(po.UseNavigateStable),t=I.useRef(!1);return cp(()=>{t.current=!0}),I.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,$s({fromRouteId:e},i)))},[n,e])}const Kh={};function N_(n,e,t){!e&&!Kh[n]&&(Kh[n]=!0)}function k_(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Ir(n){Ve(!1)}function V_(n){let{basename:e="/",children:t=null,location:r,navigationType:s=mn.Pop,navigator:i,static:o=!1,future:l}=n;oi()&&Ve(!1);let c=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:c,navigator:i,static:o,future:$s({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Zr(r));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:b="default"}=r,T=I.useMemo(()=>{let x=pc(d,c);return x==null?null:{location:{pathname:x,search:m,hash:g,state:y,key:b},navigationType:s}},[c,d,m,g,y,b,s]);return T==null?null:I.createElement(ur.Provider,{value:u},I.createElement(qo.Provider,{children:t,value:T}))}function j_(n){let{children:e,location:t}=n;return w_(wl(e),t)}new Promise(()=>{});function wl(n,e){e===void 0&&(e=[]);let t=[];return I.Children.forEach(n,(r,s)=>{if(!I.isValidElement(r))return;let i=[...e,s];if(r.type===I.Fragment){t.push.apply(t,wl(r.props.children,i));return}r.type!==Ir&&Ve(!1),!r.props.index||!r.props.children||Ve(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wl(r.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_l.apply(this,arguments)}function D_(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function O_(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function M_(n,e){return n.button===0&&(!e||e==="_self")&&!O_(n)}const L_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F_="6";try{window.__reactRouterVersion=F_}catch{}const U_="startTransition",Qh=Yw[U_];function B_(n){let{basename:e,children:t,future:r,window:s}=n,i=I.useRef();i.current==null&&(i.current=zw({window:s,v5Compat:!0}));let o=i.current,[l,c]=I.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=I.useCallback(m=>{u&&Qh?Qh(()=>c(m)):c(m)},[c,u]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.useEffect(()=>k_(r),[r]),I.createElement(V_,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:r})}const Y_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yn=I.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m}=e,g=D_(e,L_),{basename:y}=I.useContext(ur),b,T=!1;if(typeof u=="string"&&$_.test(u)&&(b=u,Y_))try{let R=new URL(window.location.href),O=u.startsWith("//")?new URL(R.protocol+u):new URL(u),F=pc(O.pathname,y);O.origin===R.origin&&F!=null?u=F+O.search+O.hash:T=!0}catch{}let x=g_(u,{relative:s}),V=z_(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:m});function k(R){r&&r(R),R.defaultPrevented||V(R)}return I.createElement("a",_l({},g,{href:b||x,onClick:T||i?r:k,ref:t,target:c}))});var Xh;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Xh||(Xh={}));var Jh;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Jh||(Jh={}));function z_(n,e){let{target:t,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=y_(),u=dr(),d=up(n,{relative:o});return I.useCallback(m=>{if(M_(m,t)){m.preventDefault();let g=r!==void 0?r:mo(u)===mo(d);c(n,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,t,n,i,o,l])}function fp(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=fp(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function mp(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=fp(n))&&(r&&(r+=" "),r+=e);return r}function q_(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=pp(e))&&(r&&(r+=" "),r+=t);return r}function pp(n){if(typeof n=="string")return n;for(var e,t="",r=0;r<n.length;r++)n[r]&&(e=pp(n[r]))&&(t&&(t+=" "),t+=e);return t}var yc="-";function H_(n){var e=W_(n),t=n.conflictingClassGroups,r=n.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(l){var c=l.split(yc);return c[0]===""&&c.length!==1&&c.shift(),gp(c,e)||G_(l)}function o(l,c){var u=t[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function gp(n,e){var o;if(n.length===0)return e.classGroupId;var t=n[0],r=e.nextPart.get(t),s=r?gp(n.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var i=n.join(yc);return(o=e.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:o.classGroupId}}var Zh=/^\[(.+)\]$/;function G_(n){if(Zh.test(n)){var e=Zh.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function W_(n){var e=n.theme,t=n.prefix,r={nextPart:new Map,validators:[]},s=Q_(Object.entries(n.classGroups),t);return s.forEach(function(i){var o=i[0],l=i[1];xl(l,r,o,e)}),r}function xl(n,e,t,r){n.forEach(function(s){if(typeof s=="string"){var i=s===""?e:ed(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(K_(s)){xl(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(function(o){var l=o[0],c=o[1];xl(c,ed(e,l),t,r)})})}function ed(n,e){var t=n;return e.split(yc).forEach(function(r){t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function K_(n){return n.isThemeGetter}function Q_(n,e){return e?n.map(function(t){var r=t[0],s=t[1],i=s.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],u=l[1];return[e+c,u]})):o});return[r,i]}):n}function X_(n){if(n<1)return{get:function(){},set:function(){}};var e=0,t=new Map,r=new Map;function s(i,o){t.set(i,o),e++,e>n&&(e=0,r=t,t=new Map)}return{get:function(o){var l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set:function(o,l){t.has(o)?t.set(o,l):s(o,l)}}}var yp="!";function J_(n){var e=n.separator||":",t=e.length===1,r=e[0],s=e.length;return function(o){for(var l=[],c=0,u=0,d,m=0;m<o.length;m++){var g=o[m];if(c===0){if(g===r&&(t||o.slice(m,m+s)===e)){l.push(o.slice(u,m)),u=m+s;continue}if(g==="/"){d=m;continue}}g==="["?c++:g==="]"&&c--}var y=l.length===0?o:o.substring(u),b=y.startsWith(yp),T=b?y.substring(1):y,x=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:T,maybePostfixModifierPosition:x}}}function Z_(n){if(n.length<=1)return n;var e=[],t=[];return n.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,t.sort().concat([r])),t=[]):t.push(r)}),e.push.apply(e,t.sort()),e}function ex(n){return{cache:X_(n.cacheSize),splitModifiers:J_(n),...H_(n)}}var tx=/\s+/;function nx(n,e){var t=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,i=new Set;return n.trim().split(tx).map(function(o){var l=t(o),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,m=l.maybePostfixModifierPosition,g=r(m?d.substring(0,m):d),y=!!m;if(!g){if(!m)return{isTailwindClass:!1,originalClassName:o};if(g=r(d),!g)return{isTailwindClass:!1,originalClassName:o};y=!1}var b=Z_(c).join(":"),T=u?b+yp:b;return{isTailwindClass:!0,modifierId:T,classGroupId:g,originalClassName:o,hasPostfixModifier:y}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,d=l+c;return i.has(d)?!1:(i.add(d),s(c,u).forEach(function(m){return i.add(l+m)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function rx(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r,s,i,o=l;function l(u){var d=e[0],m=e.slice(1),g=m.reduce(function(y,b){return b(y)},d());return r=ex(g),s=r.cache.get,i=r.cache.set,o=c,c(u)}function c(u){var d=s(u);if(d)return d;var m=nx(u,r);return i(u,m),m}return function(){return o(q_.apply(null,arguments))}}function me(n){var e=function(r){return r[n]||[]};return e.isThemeGetter=!0,e}var vp=/^\[(?:([a-z-]+):)?(.+)\]$/i,sx=/^\d+\/\d+$/,ix=new Set(["px","full","screen"]),ox=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ax=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lx=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function mt(n){return Xn(n)||ix.has(n)||sx.test(n)||bl(n)}function bl(n){return fr(n,"length",mx)}function cx(n){return fr(n,"size",wp)}function ux(n){return fr(n,"position",wp)}function hx(n){return fr(n,"url",px)}function Fi(n){return fr(n,"number",Xn)}function Xn(n){return!Number.isNaN(Number(n))}function dx(n){return n.endsWith("%")&&Xn(n.slice(0,-1))}function bs(n){return td(n)||fr(n,"number",td)}function ee(n){return vp.test(n)}function Ts(){return!0}function on(n){return ox.test(n)}function fx(n){return fr(n,"",gx)}function fr(n,e,t){var r=vp.exec(n);return r?r[1]?r[1]===e:t(r[2]):!1}function mx(n){return ax.test(n)}function wp(){return!1}function px(n){return n.startsWith("url(")}function td(n){return Number.isInteger(Number(n))}function gx(n){return lx.test(n)}function yx(){var n=me("colors"),e=me("spacing"),t=me("blur"),r=me("brightness"),s=me("borderColor"),i=me("borderRadius"),o=me("borderSpacing"),l=me("borderWidth"),c=me("contrast"),u=me("grayscale"),d=me("hueRotate"),m=me("invert"),g=me("gap"),y=me("gradientColorStops"),b=me("gradientColorStopPositions"),T=me("inset"),x=me("margin"),V=me("opacity"),k=me("padding"),R=me("saturate"),O=me("scale"),F=me("sepia"),$=me("skew"),A=me("space"),w=me("translate"),_=function(){return["auto","contain","none"]},C=function(){return["auto","hidden","clip","visible","scroll"]},P=function(){return["auto",ee,e]},S=function(){return[ee,e]},E=function(){return["",mt]},Y=function(){return["auto",Xn,ee]},ce=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},se=function(){return["solid","dashed","dotted","double","none"]},ve=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Ie=function(){return["start","end","center","between","around","evenly","stretch"]},Ae=function(){return["","0",ee]},wt=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ie=function(){return[Xn,Fi]},we=function(){return[Xn,ee]};return{cacheSize:500,theme:{colors:[Ts],spacing:[mt],blur:["none","",on,ee],brightness:ie(),borderColor:[n],borderRadius:["none","","full",on,ee],borderSpacing:S(),borderWidth:E(),contrast:ie(),grayscale:Ae(),hueRotate:we(),invert:Ae(),gap:S(),gradientColorStops:[n],gradientColorStopPositions:[dx,bl],inset:P(),margin:P(),opacity:ie(),padding:S(),saturate:ie(),scale:ie(),sepia:Ae(),skew:we(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[on]}],"break-after":[{"break-after":wt()}],"break-before":[{"break-before":wt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ce(),[ee])}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bs]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:Ae()}],shrink:[{shrink:Ae()}],order:[{order:["first","last","none",bs]}],"grid-cols":[{"grid-cols":[Ts]}],"col-start-end":[{col:["auto",{span:["full",bs]},ee]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[Ts]}],"row-start-end":[{row:["auto",{span:[bs]},ee]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal"].concat(Ie())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Ie(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Ie(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ee,e]}],"min-w":[{"min-w":["min","max","fit",ee,mt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[on]},on,ee]}],h:[{h:[ee,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ee,mt]}],"max-h":[{"max-h":[ee,e,"min","max","fit"]}],"font-size":[{text:["base",on,bl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fi]}],"font-family":[{font:[Ts]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",Xn,Fi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ee,mt]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[V]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[V]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(se(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",mt]}],"underline-offset":[{"underline-offset":["auto",ee,mt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[V]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ce(),[ux])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hx]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[V]}],"border-style":[{border:[].concat(se(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[V]}],"divide-style":[{divide:se()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(se())}],"outline-offset":[{"outline-offset":[ee,mt]}],"outline-w":[{outline:[mt]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[V]}],"ring-offset-w":[{"ring-offset":[mt]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",on,fx]}],"shadow-color":[{shadow:[Ts]}],opacity:[{opacity:[V]}],"mix-blend":[{"mix-blend":ve()}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",on,ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[m]}],saturate:[{saturate:[R]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[V]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:we()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:we()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[bs,ee]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",n]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[mt,Fi]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var vx=rx(yx);function tt(...n){return vx(mp(n))}var wx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_x="VisuallyHidden",vc=I.forwardRef((n,e)=>h.jsx(Mn.span,{...n,ref:e,style:{...wx,...n.style}}));vc.displayName=_x;var wc="ToastProvider",[_c,xx,bx]=Pw("Toast"),[_p,m2]=Rw("Toast",[bx]),[Tx,Ho]=_p(wc),xp=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=n,[l,c]=I.useState(null),[u,d]=I.useState(0),m=I.useRef(!1),g=I.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${wc}\`. Expected non-empty \`string\`.`),h.jsx(_c.Provider,{scope:e,children:h.jsx(Tx,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:I.useCallback(()=>d(y=>y+1),[]),onToastRemove:I.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:g,children:o})})};xp.displayName=wc;var bp="ToastViewport",Ex=["F8"],Tl="toast.viewportPause",El="toast.viewportResume",Tp=I.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=Ex,label:s="Notifications ({hotkey})",...i}=n,o=Ho(bp,t),l=xx(t),c=I.useRef(null),u=I.useRef(null),d=I.useRef(null),m=I.useRef(null),g=Km(e,m,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;I.useEffect(()=>{const x=V=>{var R;r.length!==0&&r.every(O=>V[O]||V.code===O)&&((R=m.current)==null||R.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),I.useEffect(()=>{const x=c.current,V=m.current;if(b&&x&&V){const k=()=>{if(!o.isClosePausedRef.current){const $=new CustomEvent(Tl);V.dispatchEvent($),o.isClosePausedRef.current=!0}},R=()=>{if(o.isClosePausedRef.current){const $=new CustomEvent(El);V.dispatchEvent($),o.isClosePausedRef.current=!1}},O=$=>{!x.contains($.relatedTarget)&&R()},F=()=>{x.contains(document.activeElement)||R()};return x.addEventListener("focusin",k),x.addEventListener("focusout",O),x.addEventListener("pointermove",k),x.addEventListener("pointerleave",F),window.addEventListener("blur",k),window.addEventListener("focus",R),()=>{x.removeEventListener("focusin",k),x.removeEventListener("focusout",O),x.removeEventListener("pointermove",k),x.removeEventListener("pointerleave",F),window.removeEventListener("blur",k),window.removeEventListener("focus",R)}}},[b,o.isClosePausedRef]);const T=I.useCallback(({tabbingDirection:x})=>{const k=l().map(R=>{const O=R.ref.current,F=[O,...Mx(O)];return x==="forwards"?F:F.reverse()});return(x==="forwards"?k.reverse():k).flat()},[l]);return I.useEffect(()=>{const x=m.current;if(x){const V=k=>{var F,$,A;const R=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!R){const w=document.activeElement,_=k.shiftKey;if(k.target===x&&_){(F=u.current)==null||F.focus();return}const S=T({tabbingDirection:_?"backwards":"forwards"}),E=S.findIndex(Y=>Y===w);$a(S.slice(E+1))?k.preventDefault():_?($=u.current)==null||$.focus():(A=d.current)==null||A.focus()}};return x.addEventListener("keydown",V),()=>x.removeEventListener("keydown",V)}},[l,T]),h.jsxs(Nw,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&h.jsx(Il,{ref:u,onFocusFromOutsideViewport:()=>{const x=T({tabbingDirection:"forwards"});$a(x)}}),h.jsx(_c.Slot,{scope:t,children:h.jsx(Mn.ol,{tabIndex:-1,...i,ref:g})}),b&&h.jsx(Il,{ref:d,onFocusFromOutsideViewport:()=>{const x=T({tabbingDirection:"backwards"});$a(x)}})]})});Tp.displayName=bp;var Ep="ToastFocusProxy",Il=I.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,i=Ho(Ep,t);return h.jsx(vc,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Il.displayName=Ep;var ai="Toast",Ix="toast.swipeStart",Ax="toast.swipeMove",Cx="toast.swipeCancel",Sx="toast.swipeEnd",Ip=I.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:i,...o}=n,[l,c]=kw({prop:r,defaultProp:s??!0,onChange:i,caller:ai});return h.jsx(Vw,{present:t||l,children:h.jsx(Nx,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:fo(n.onPause),onResume:fo(n.onResume),onSwipeStart:xt(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xt(n.onSwipeMove,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:xt(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xt(n.onSwipeEnd,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});Ip.displayName=ai;var[Px,Rx]=_p(ai,{onClose(){}}),Nx=I.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:m,onSwipeCancel:g,onSwipeEnd:y,...b}=n,T=Ho(ai,t),[x,V]=I.useState(null),k=Km(e,Y=>V(Y)),R=I.useRef(null),O=I.useRef(null),F=s||T.duration,$=I.useRef(0),A=I.useRef(F),w=I.useRef(0),{onToastAdd:_,onToastRemove:C}=T,P=fo(()=>{var ce;(x==null?void 0:x.contains(document.activeElement))&&((ce=T.viewport)==null||ce.focus()),o()}),S=I.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(w.current),$.current=new Date().getTime(),w.current=window.setTimeout(P,Y))},[P]);I.useEffect(()=>{const Y=T.viewport;if(Y){const ce=()=>{S(A.current),u==null||u()},se=()=>{const ve=new Date().getTime()-$.current;A.current=A.current-ve,window.clearTimeout(w.current),c==null||c()};return Y.addEventListener(Tl,se),Y.addEventListener(El,ce),()=>{Y.removeEventListener(Tl,se),Y.removeEventListener(El,ce)}}},[T.viewport,F,c,u,S]),I.useEffect(()=>{i&&!T.isClosePausedRef.current&&S(F)},[i,F,T.isClosePausedRef,S]),I.useEffect(()=>(_(),()=>C()),[_,C]);const E=I.useMemo(()=>x?kp(x):null,[x]);return T.viewport?h.jsxs(h.Fragment,{children:[E&&h.jsx(kx,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:E}),h.jsx(Px,{scope:t,onClose:P,children:tp.createPortal(h.jsx(_c.ItemSlot,{scope:t,children:h.jsx(jw,{asChild:!0,onEscapeKeyDown:xt(l,()=>{T.isFocusedToastEscapeKeyDownRef.current||P(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(Mn.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":T.swipeDirection,...b,ref:k,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:xt(n.onKeyDown,Y=>{Y.key==="Escape"&&(l==null||l(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:xt(n.onPointerDown,Y=>{Y.button===0&&(R.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:xt(n.onPointerMove,Y=>{if(!R.current)return;const ce=Y.clientX-R.current.x,se=Y.clientY-R.current.y,ve=!!O.current,Ie=["left","right"].includes(T.swipeDirection),Ae=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,wt=Ie?Ae(0,ce):0,ie=Ie?0:Ae(0,se),we=Y.pointerType==="touch"?10:2,Z={x:wt,y:ie},Un={originalEvent:Y,delta:Z};ve?(O.current=Z,Ui(Ax,m,Un,{discrete:!1})):nd(Z,T.swipeDirection,we)?(O.current=Z,Ui(Ix,d,Un,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(ce)>we||Math.abs(se)>we)&&(R.current=null)}),onPointerUp:xt(n.onPointerUp,Y=>{const ce=O.current,se=Y.target;if(se.hasPointerCapture(Y.pointerId)&&se.releasePointerCapture(Y.pointerId),O.current=null,R.current=null,ce){const ve=Y.currentTarget,Ie={originalEvent:Y,delta:ce};nd(ce,T.swipeDirection,T.swipeThreshold)?Ui(Sx,y,Ie,{discrete:!0}):Ui(Cx,g,Ie,{discrete:!0}),ve.addEventListener("click",Ae=>Ae.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),kx=n=>{const{__scopeToast:e,children:t,...r}=n,s=Ho(ai,e),[i,o]=I.useState(!1),[l,c]=I.useState(!1);return Dx(()=>o(!0)),I.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:h.jsx(Dw,{asChild:!0,children:h.jsx(vc,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",t]})})})},Vx="ToastTitle",Ap=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return h.jsx(Mn.div,{...r,ref:e})});Ap.displayName=Vx;var jx="ToastDescription",Cp=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return h.jsx(Mn.div,{...r,ref:e})});Cp.displayName=jx;var Sp="ToastAction",Pp=I.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?h.jsx(Np,{altText:t,asChild:!0,children:h.jsx(xc,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Sp}\`. Expected non-empty \`string\`.`),null)});Pp.displayName=Sp;var Rp="ToastClose",xc=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=Rx(Rp,t);return h.jsx(Np,{asChild:!0,children:h.jsx(Mn.button,{type:"button",...r,ref:e,onClick:xt(n.onClick,s.onClose)})})});xc.displayName=Rp;var Np=I.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return h.jsx(Mn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function kp(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Ox(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...kp(r))}}),e}function Ui(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?Mw(s,i):s.dispatchEvent(i)}var nd=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),i=r>s;return e==="left"||e==="right"?i&&r>t:!i&&s>t};function Dx(n=()=>{}){const e=fo(n);Ow(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function Ox(n){return n.nodeType===n.ELEMENT_NODE}function Mx(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function $a(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var Lx=xp,Vp=Tp,jp=Ip,Dp=Ap,Op=Cp,Mp=Pp,Lp=xc;const rd=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,sd=mp,bc=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return sd(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=t==null?void 0:t[u],m=i==null?void 0:i[u];if(d===null)return null;const g=rd(d)||rd(m);return s[u][g]}),l=t&&Object.entries(t).reduce((u,d)=>{let[m,g]=d;return g===void 0||(u[m]=g),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:m,className:g,...y}=d;return Object.entries(y).every(b=>{let[T,x]=b;return Array.isArray(x)?x.includes({...i,...l}[T]):{...i,...l}[T]===x})?[...u,m,g]:u},[]);return sd(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};var Fx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ux=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ee=(n,e)=>{const t=I.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},u)=>I.createElement("svg",{ref:u,...Fx,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${Ux(n)}`,...c},[...e.map(([d,m])=>I.createElement(d,m)),...(Array.isArray(l)?l:[l])||[]]));return t.displayName=`${n}`,t},Bx=Ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Yx=Ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),id=Ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),vn=Ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Fp=Ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),$x=Ee("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),od=Ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Up=Ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ad=Ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),zx=Ee("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Bp=Ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),qx=Ee("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Ji=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Hx=Ee("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Gx=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Oe=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Wx=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Kx=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Yp=Ee("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]),Qx=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Xx=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),$p=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jx=Lx,zp=Be.forwardRef(({className:n,...e},t)=>h.jsx(Vp,{ref:t,className:tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));zp.displayName=Vp.displayName;const Zx=bc("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-[rgba(255,107,53,0.15)] border border-[rgba(255,107,53,0.3)] backdrop-blur-md text-orange-900",destructive:"bg-[rgba(255,107,53,0.15)] border border-[rgba(255,107,53,0.3)] backdrop-blur-md text-orange-900"}},defaultVariants:{variant:"default"}}),qp=Be.forwardRef(({className:n,variant:e,...t},r)=>h.jsx(jp,{ref:r,className:tt(Zx({variant:e}),n),...t}));qp.displayName=jp.displayName;const eb=Be.forwardRef(({className:n,...e},t)=>h.jsx(Mp,{ref:t,className:tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));eb.displayName=Mp.displayName;const Hp=Be.forwardRef(({className:n,...e},t)=>h.jsx(Lp,{ref:t,className:tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:h.jsx($p,{className:"h-4 w-4"})}));Hp.displayName=Lp.displayName;const Gp=Be.forwardRef(({className:n,...e},t)=>h.jsx(Dp,{ref:t,className:tt("text-sm font-semibold",n),...e}));Gp.displayName=Dp.displayName;const Wp=Be.forwardRef(({className:n,...e},t)=>h.jsx(Op,{ref:t,className:tt("text-sm opacity-90",n),...e}));Wp.displayName=Op.displayName;const tb=1;let za=0;function nb(){return za=(za+1)%Number.MAX_VALUE,za.toString()}const Ze={state:{toasts:[]},listeners:[],getState:()=>Ze.state,setState:n=>{typeof n=="function"?Ze.state=n(Ze.state):Ze.state={...Ze.state,...n},Ze.listeners.forEach(e=>e(Ze.state))},subscribe:n=>(Ze.listeners.push(n),()=>{Ze.listeners=Ze.listeners.filter(e=>e!==n)})},Re=({...n})=>{const e=nb(),t=s=>Ze.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===e?{...o,...s}:o)})),r=()=>Ze.setState(s=>({...s,toasts:s.toasts.filter(i=>i.id!==e)}));return Ze.setState(s=>({...s,toasts:[{...n,id:e,dismiss:r},...s.toasts].slice(0,tb)})),{id:e,dismiss:r,update:t}};function rb(){const[n,e]=I.useState(Ze.getState());return I.useEffect(()=>Ze.subscribe(r=>{e(r)}),[]),I.useEffect(()=>{const t=[];return n.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);t.push(s)}),()=>{t.forEach(r=>clearTimeout(r))}},[n.toasts]),{toast:Re,toasts:n.toasts}}function sb(){const{toasts:n}=rb();return h.jsxs(Jx,{children:[n.map(({id:e,title:t,description:r,action:s,...i})=>h.jsxs(qp,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[t&&h.jsx(Gp,{children:t}),r&&h.jsx(Wp,{children:r})]}),s,h.jsx(Hp,{})]},e)),h.jsx(zp,{})]})}const Kp=I.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Go=I.createContext({}),Wo=I.createContext(null),Ko=typeof document<"u",Tc=Ko?I.useLayoutEffect:I.useEffect,Qp=I.createContext({strict:!1}),Ec=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ib="framerAppearId",Xp="data-"+Ec(ib);function ob(n,e,t,r){const{visualElement:s}=I.useContext(Go),i=I.useContext(Qp),o=I.useContext(Wo),l=I.useContext(Kp).reducedMotion,c=I.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(n,{visualState:e,parent:s,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;I.useInsertionEffect(()=>{u&&u.update(t,o)});const d=I.useRef(!!(t[Xp]&&!window.HandoffComplete));return Tc(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),I.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Rr(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function ab(n,e,t){return I.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Rr(t)&&(t.current=r))},[e])}function zs(n){return typeof n=="string"||Array.isArray(n)}function Qo(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Ic=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ac=["initial",...Ic];function Xo(n){return Qo(n.animate)||Ac.some(e=>zs(n[e]))}function Jp(n){return!!(Xo(n)||n.variants)}function lb(n,e){if(Xo(n)){const{initial:t,animate:r}=n;return{initial:t===!1||zs(t)?t:void 0,animate:zs(r)?r:void 0}}return n.inherit!==!1?e:{}}function cb(n){const{initial:e,animate:t}=lb(n,I.useContext(Go));return I.useMemo(()=>({initial:e,animate:t}),[ld(e),ld(t)])}function ld(n){return Array.isArray(n)?n.join(" "):n}const cd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qs={};for(const n in cd)qs[n]={isEnabled:e=>cd[n].some(t=>!!e[t])};function ub(n){for(const e in n)qs[e]={...qs[e],...n[e]}}const Cc=I.createContext({}),Zp=I.createContext({}),hb=Symbol.for("motionComponentSymbol");function db({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&ub(n);function i(l,c){let u;const d={...I.useContext(Kp),...l,layoutId:fb(l)},{isStatic:m}=d,g=cb(l),y=r(l,m);if(!m&&Ko){g.visualElement=ob(s,y,d,e);const b=I.useContext(Zp),T=I.useContext(Qp).strict;g.visualElement&&(u=g.visualElement.loadFeatures(d,T,n,b))}return I.createElement(Go.Provider,{value:g},u&&g.visualElement?I.createElement(u,{visualElement:g.visualElement,...d}):null,t(s,l,ab(y,g.visualElement,c),y,m,g.visualElement))}const o=I.forwardRef(i);return o[hb]=s,o}function fb({layoutId:n}){const e=I.useContext(Cc).id;return e&&n!==void 0?e+"-"+n:n}function mb(n){function e(r,s={}){return db(n(r,s))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,s)=>(t.has(s)||t.set(s,e(s)),t.get(s))})}const pb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sc(n){return typeof n!="string"||n.includes("-")?!1:!!(pb.indexOf(n)>-1||/[A-Z]/.test(n))}const go={};function gb(n){Object.assign(go,n)}const li=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mr=new Set(li);function eg(n,{layout:e,layoutId:t}){return mr.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!go[n]||n==="opacity")}const st=n=>!!(n&&n.getVelocity),yb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vb=li.length;function wb(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,s){let i="";for(let o=0;o<vb;o++){const l=li[o];if(n[l]!==void 0){const c=yb[l]||l;i+=`${c}(${n[l]}) `}}return e&&!n.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(n,r?"":i):t&&r&&(i="none"),i}const tg=n=>e=>typeof e=="string"&&e.startsWith(n),ng=tg("--"),Al=tg("var(--"),_b=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,xb=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Sn=(n,e,t)=>Math.min(Math.max(t,n),e),pr={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ks={...pr,transform:n=>Sn(0,1,n)},Bi={...pr,default:1},Vs=n=>Math.round(n*1e5)/1e5,Jo=/(-)?([\d]*\.?[\d])+/g,rg=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bb=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ci(n){return typeof n=="string"}const ui=n=>({test:e=>ci(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ln=ui("deg"),Tt=ui("%"),q=ui("px"),Tb=ui("vh"),Eb=ui("vw"),ud={...Tt,parse:n=>Tt.parse(n)/100,transform:n=>Tt.transform(n*100)},hd={...pr,transform:Math.round},sg={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,size:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,rotate:ln,rotateX:ln,rotateY:ln,rotateZ:ln,scale:Bi,scaleX:Bi,scaleY:Bi,scaleZ:Bi,skew:ln,skewX:ln,skewY:ln,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:ks,originX:ud,originY:ud,originZ:q,zIndex:hd,fillOpacity:ks,strokeOpacity:ks,numOctaves:hd};function Pc(n,e,t,r){const{style:s,vars:i,transform:o,transformOrigin:l}=n;let c=!1,u=!1,d=!0;for(const m in e){const g=e[m];if(ng(m)){i[m]=g;continue}const y=sg[m],b=xb(g,y);if(mr.has(m)){if(c=!0,o[m]=b,!d)continue;g!==(y.default||0)&&(d=!1)}else m.startsWith("origin")?(u=!0,l[m]=b):s[m]=b}if(e.transform||(c||r?s.transform=wb(n.transform,t,d,r):s.transform&&(s.transform="none")),u){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}const Rc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ig(n,e,t){for(const r in e)!st(e[r])&&!eg(r,t)&&(n[r]=e[r])}function Ib({transformTemplate:n},e,t){return I.useMemo(()=>{const r=Rc();return Pc(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Ab(n,e,t){const r=n.style||{},s={};return ig(s,r,n),Object.assign(s,Ib(n,e,t)),n.transformValues?n.transformValues(s):s}function Cb(n,e,t){const r={},s=Ab(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=s,r}const Sb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yo(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Sb.has(n)}let og=n=>!yo(n);function Pb(n){n&&(og=e=>e.startsWith("on")?!yo(e):n(e))}try{Pb(require("@emotion/is-prop-valid").default)}catch{}function Rb(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(og(s)||t===!0&&yo(s)||!e&&!yo(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function dd(n,e,t){return typeof n=="string"?n:q.transform(e+t*n)}function Nb(n,e,t){const r=dd(e,n.x,n.width),s=dd(t,n.y,n.height);return`${r} ${s}`}const kb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vb={offset:"strokeDashoffset",array:"strokeDasharray"};function jb(n,e,t=1,r=0,s=!0){n.pathLength=1;const i=s?kb:Vb;n[i.offset]=q.transform(-r);const o=q.transform(e),l=q.transform(t);n[i.array]=`${o} ${l}`}function Nc(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,m,g){if(Pc(n,u,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:b,dimensions:T}=n;y.transform&&(T&&(b.transform=y.transform),delete y.transform),T&&(s!==void 0||i!==void 0||b.transform)&&(b.transformOrigin=Nb(T,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),r!==void 0&&(y.scale=r),o!==void 0&&jb(y,o,l,c,!1)}const ag=()=>({...Rc(),attrs:{}}),kc=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Db(n,e,t,r){const s=I.useMemo(()=>{const i=ag();return Nc(i,e,{enableHardwareAcceleration:!1},kc(r),n.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(n.style){const i={};ig(i,n.style,n),s.style={...i,...s.style}}return s}function Ob(n=!1){return(t,r,s,{latestValues:i},o)=>{const c=(Sc(t)?Db:Cb)(r,i,o,t),d={...Rb(r,typeof t=="string",n),...c,ref:s},{children:m}=r,g=I.useMemo(()=>st(m)?m.get():m,[m]);return I.createElement(t,{...d,children:g})}}function lg(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const i in t)n.style.setProperty(i,t[i])}const cg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ug(n,e,t,r){lg(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(cg.has(s)?s:Ec(s),e.attrs[s])}function Vc(n,e){const{style:t}=n,r={};for(const s in t)(st(t[s])||e.style&&st(e.style[s])||eg(s,n))&&(r[s]=t[s]);return r}function hg(n,e){const t=Vc(n,e);for(const r in n)if(st(n[r])||st(e[r])){const s=li.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[s]=n[r]}return t}function jc(n,e,t,r={},s={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),e}function dg(n){const e=I.useRef(null);return e.current===null&&(e.current=n()),e.current}const vo=n=>Array.isArray(n),Mb=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Lb=n=>vo(n)?n[n.length-1]||0:n;function Zi(n){const e=st(n)?n.get():n;return Mb(e)?e.toValue():e}function Fb({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,s,i){const o={latestValues:Ub(r,s,i,n),renderState:e()};return t&&(o.mount=l=>t(r,l,o)),o}const fg=n=>(e,t)=>{const r=I.useContext(Go),s=I.useContext(Wo),i=()=>Fb(n,e,r,s);return t?i():dg(i)};function Ub(n,e,t,r){const s={},i=r(n,{});for(const g in i)s[g]=Zi(i[g]);let{initial:o,animate:l}=n;const c=Xo(n),u=Jp(n);e&&u&&!c&&n.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const m=d?l:o;return m&&typeof m!="boolean"&&!Qo(m)&&(Array.isArray(m)?m:[m]).forEach(y=>{const b=jc(n,y);if(!b)return;const{transitionEnd:T,transition:x,...V}=b;for(const k in V){let R=V[k];if(Array.isArray(R)){const O=d?R.length-1:0;R=R[O]}R!==null&&(s[k]=R)}for(const k in T)s[k]=T[k]}),s}const Te=n=>n;class fd{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Bb(n){let e=new fd,t=new fd,r=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const m=d&&s,g=m?e:t;return u&&o.add(c),g.add(c)&&m&&s&&(r=e.order.length),c},cancel:c=>{t.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(c),o.has(d)&&(l.schedule(d),n())}s=!1,i&&(i=!1,l.process(c))}};return l}const Yi=["prepare","read","update","preRender","render","postRender"],Yb=40;function $b(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Yi.reduce((m,g)=>(m[g]=Bb(()=>t=!0),m),{}),o=m=>i[m].process(s),l=()=>{const m=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,Yb),1),s.timestamp=m,s.isProcessing=!0,Yi.forEach(o),s.isProcessing=!1,t&&e&&(r=!1,n(l))},c=()=>{t=!0,r=!0,s.isProcessing||n(l)};return{schedule:Yi.reduce((m,g)=>{const y=i[g];return m[g]=(b,T=!1,x=!1)=>(t||c(),y.schedule(b,T,x)),m},{}),cancel:m=>Yi.forEach(g=>i[g].cancel(m)),state:s,steps:i}}const{schedule:de,cancel:Gt,state:Ge,steps:qa}=$b(typeof requestAnimationFrame<"u"?requestAnimationFrame:Te,!0),zb={useVisualState:fg({scrapeMotionValuesFromProps:hg,createRenderState:ag,onMount:(n,e,{renderState:t,latestValues:r})=>{de.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),de.render(()=>{Nc(t,r,{enableHardwareAcceleration:!1},kc(e.tagName),n.transformTemplate),ug(e,t)})}})},qb={useVisualState:fg({scrapeMotionValuesFromProps:Vc,createRenderState:Rc})};function Hb(n,{forwardMotionProps:e=!1},t,r){return{...Sc(n)?zb:qb,preloadedFeatures:t,useRender:Ob(e),createVisualElement:r,Component:n}}function Ut(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const mg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Zo(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const Gb=n=>e=>mg(e)&&n(e,Zo(e));function zt(n,e,t,r){return Ut(n,e,Gb(t),r)}const Wb=(n,e)=>t=>e(n(t)),wn=(...n)=>n.reduce(Wb);function pg(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const md=pg("dragHorizontal"),pd=pg("dragVertical");function gg(n){let e=!1;if(n==="y")e=pd();else if(n==="x")e=md();else{const t=md(),r=pd();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function yg(){const n=gg(!0);return n?(n(),!1):!0}class Ln{constructor(e){this.isMounted=!1,this.node=e}update(){}}function gd(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||yg())return;const l=n.getProps();n.animationState&&l.whileHover&&n.animationState.setActive("whileHover",e),l[r]&&de.update(()=>l[r](i,o))};return zt(n.current,t,s,{passive:!n.getProps()[r]})}class Kb extends Ln{mount(){this.unmount=wn(gd(this.node,!0),gd(this.node,!1))}unmount(){}}class Qb extends Ln{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wn(Ut(this.node.current,"focus",()=>this.onFocus()),Ut(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const vg=(n,e)=>e?n===e?!0:vg(n,e.parentElement):!1;function Ha(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Zo(t))}class Xb extends Ln{constructor(){super(...arguments),this.removeStartListeners=Te,this.removeEndListeners=Te,this.removeAccessibleListeners=Te,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=zt(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:m}=this.node.getProps();de.update(()=>{!m&&!vg(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=zt(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wn(i,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Ha("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&de.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Ut(this.node.current,"keyup",o),Ha("down",(l,c)=>{this.startPress(l,c)})},t=Ut(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ha("cancel",(i,o)=>this.cancelPress(i,o))},s=Ut(this.node.current,"blur",r);this.removeAccessibleListeners=wn(t,s)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&de.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!yg()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&de.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=zt(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ut(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wn(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Cl=new WeakMap,Ga=new WeakMap,Jb=n=>{const e=Cl.get(n.target);e&&e(n)},Zb=n=>{n.forEach(Jb)};function eT({root:n,...e}){const t=n||document;Ga.has(t)||Ga.set(t,{});const r=Ga.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Zb,{root:n,...e})),r[s]}function tT(n,e,t){const r=eT(e);return Cl.set(n,t),r.observe(n),()=>{Cl.delete(n),r.unobserve(n)}}const nT={some:0,all:1};class rT extends Ln{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:nT[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),g=u?d:m;g&&g(c)};return tT(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(sT(e,t))&&this.startObserver()}unmount(){}}function sT({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const iT={inView:{Feature:rT},tap:{Feature:Xb},focus:{Feature:Qb},hover:{Feature:Kb}};function wg(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function oT(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function aT(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function ea(n,e,t){const r=n.getProps();return jc(r,e,t!==void 0?t:r.custom,oT(n),aT(n))}let lT=Te,Dc=Te;const _n=n=>n*1e3,qt=n=>n/1e3,cT={current:!1},_g=n=>Array.isArray(n)&&typeof n[0]=="number";function xg(n){return!!(!n||typeof n=="string"&&bg[n]||_g(n)||Array.isArray(n)&&n.every(xg))}const Ss=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,bg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ss([0,.65,.55,1]),circOut:Ss([.55,0,1,.45]),backIn:Ss([.31,.01,.66,-.59]),backOut:Ss([.33,1.53,.69,.99])};function Tg(n){if(n)return _g(n)?Ss(n):Array.isArray(n)?n.map(Tg):bg[n]}function uT(n,e,t,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[e]:t};c&&(u.offset=c);const d=Tg(l);return Array.isArray(d)&&(u.easing=d),n.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function hT(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const Eg=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,dT=1e-7,fT=12;function mT(n,e,t,r,s){let i,o,l=0;do o=e+(t-e)/2,i=Eg(o,r,s)-n,i>0?t=o:e=o;while(Math.abs(i)>dT&&++l<fT);return o}function hi(n,e,t,r){if(n===e&&t===r)return Te;const s=i=>mT(i,0,1,n,t);return i=>i===0||i===1?i:Eg(s(i),e,r)}const pT=hi(.42,0,1,1),gT=hi(0,0,.58,1),Ig=hi(.42,0,.58,1),yT=n=>Array.isArray(n)&&typeof n[0]!="number",Ag=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Cg=n=>e=>1-n(1-e),Oc=n=>1-Math.sin(Math.acos(n)),Sg=Cg(Oc),vT=Ag(Oc),Pg=hi(.33,1.53,.69,.99),Mc=Cg(Pg),wT=Ag(Mc),_T=n=>(n*=2)<1?.5*Mc(n):.5*(2-Math.pow(2,-10*(n-1))),xT={linear:Te,easeIn:pT,easeInOut:Ig,easeOut:gT,circIn:Oc,circInOut:vT,circOut:Sg,backIn:Mc,backInOut:wT,backOut:Pg,anticipate:_T},yd=n=>{if(Array.isArray(n)){Dc(n.length===4);const[e,t,r,s]=n;return hi(e,t,r,s)}else if(typeof n=="string")return xT[n];return n},Lc=(n,e)=>t=>!!(ci(t)&&bb.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),Rg=(n,e,t)=>r=>{if(!ci(r))return r;const[s,i,o,l]=r.match(Jo);return{[n]:parseFloat(s),[e]:parseFloat(i),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},bT=n=>Sn(0,255,n),Wa={...pr,transform:n=>Math.round(bT(n))},Jn={test:Lc("rgb","red"),parse:Rg("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Wa.transform(n)+", "+Wa.transform(e)+", "+Wa.transform(t)+", "+Vs(ks.transform(r))+")"};function TT(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Sl={test:Lc("#"),parse:TT,transform:Jn.transform},Nr={test:Lc("hsl","hue"),parse:Rg("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Tt.transform(Vs(e))+", "+Tt.transform(Vs(t))+", "+Vs(ks.transform(r))+")"},et={test:n=>Jn.test(n)||Sl.test(n)||Nr.test(n),parse:n=>Jn.test(n)?Jn.parse(n):Nr.test(n)?Nr.parse(n):Sl.parse(n),transform:n=>ci(n)?n:n.hasOwnProperty("red")?Jn.transform(n):Nr.transform(n)},_e=(n,e,t)=>-t*n+t*e+n;function Ka(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function ET({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,i=0,o=0;if(!e)s=i=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;s=Ka(c,l,n+1/3),i=Ka(c,l,n),o=Ka(c,l,n-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Qa=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},IT=[Sl,Jn,Nr],AT=n=>IT.find(e=>e.test(n));function vd(n){const e=AT(n);let t=e.parse(n);return e===Nr&&(t=ET(t)),t}const Ng=(n,e)=>{const t=vd(n),r=vd(e),s={...t};return i=>(s.red=Qa(t.red,r.red,i),s.green=Qa(t.green,r.green,i),s.blue=Qa(t.blue,r.blue,i),s.alpha=_e(t.alpha,r.alpha,i),Jn.transform(s))};function CT(n){var e,t;return isNaN(n)&&ci(n)&&(((e=n.match(Jo))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(rg))===null||t===void 0?void 0:t.length)||0)>0}const kg={regex:_b,countKey:"Vars",token:"${v}",parse:Te},Vg={regex:rg,countKey:"Colors",token:"${c}",parse:et.parse},jg={regex:Jo,countKey:"Numbers",token:"${n}",parse:pr.parse};function Xa(n,{regex:e,countKey:t,token:r,parse:s}){const i=n.tokenised.match(e);i&&(n["num"+t]=i.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...i.map(s)))}function wo(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Xa(t,kg),Xa(t,Vg),Xa(t,jg),t}function Dg(n){return wo(n).values}function Og(n){const{values:e,numColors:t,numVars:r,tokenised:s}=wo(n),i=e.length;return o=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(kg.token,o[c]):c<r+t?l=l.replace(Vg.token,et.transform(o[c])):l=l.replace(jg.token,Vs(o[c]));return l}}const ST=n=>typeof n=="number"?0:n;function PT(n){const e=Dg(n);return Og(n)(e.map(ST))}const Pn={test:CT,parse:Dg,createTransformer:Og,getAnimatableNone:PT},Mg=(n,e)=>t=>`${t>0?e:n}`;function Lg(n,e){return typeof n=="number"?t=>_e(n,e,t):et.test(n)?Ng(n,e):n.startsWith("var(")?Mg(n,e):Ug(n,e)}const Fg=(n,e)=>{const t=[...n],r=t.length,s=n.map((i,o)=>Lg(i,e[o]));return i=>{for(let o=0;o<r;o++)t[o]=s[o](i);return t}},RT=(n,e)=>{const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=Lg(n[s],e[s]));return s=>{for(const i in r)t[i]=r[i](s);return t}},Ug=(n,e)=>{const t=Pn.createTransformer(e),r=wo(n),s=wo(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?wn(Fg(r.values,s.values),t):Mg(n,e)},Hs=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},wd=(n,e)=>t=>_e(n,e,t);function NT(n){return typeof n=="number"?wd:typeof n=="string"?et.test(n)?Ng:Ug:Array.isArray(n)?Fg:typeof n=="object"?RT:wd}function kT(n,e,t){const r=[],s=t||NT(n[0]),i=n.length-1;for(let o=0;o<i;o++){let l=s(n[o],n[o+1]);if(e){const c=Array.isArray(e)?e[o]||Te:e;l=wn(c,l)}r.push(l)}return r}function Bg(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const i=n.length;if(Dc(i===e.length),i===1)return()=>e[0];n[0]>n[i-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=kT(e,r,s),l=o.length,c=u=>{let d=0;if(l>1)for(;d<n.length-2&&!(u<n[d+1]);d++);const m=Hs(n[d],n[d+1],u);return o[d](m)};return t?u=>c(Sn(n[0],n[i-1],u)):c}function VT(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Hs(0,e,r);n.push(_e(t,1,s))}}function jT(n){const e=[0];return VT(e,n.length-1),e}function DT(n,e){return n.map(t=>t*e)}function OT(n,e){return n.map(()=>e||Ig).splice(0,n.length-1)}function _o({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=yT(r)?r.map(yd):yd(r),i={done:!1,value:e[0]},o=DT(t&&t.length===e.length?t:jT(e),n),l=Bg(o,e,{ease:Array.isArray(s)?s:OT(e,s)});return{calculatedDuration:n,next:c=>(i.value=l(c),i.done=c>=n,i)}}function Yg(n,e){return e?n*(1e3/e):0}const MT=5;function $g(n,e,t){const r=Math.max(e-MT,0);return Yg(t-n(r),e-r)}const Ja=.001,LT=.01,_d=10,FT=.05,UT=1;function BT({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let s,i;lT(n<=_n(_d));let o=1-e;o=Sn(FT,UT,o),n=Sn(LT,_d,qt(n)),o<1?(s=u=>{const d=u*o,m=d*n,g=d-t,y=Pl(u,o),b=Math.exp(-m);return Ja-g/y*b},i=u=>{const m=u*o*n,g=m*t+t,y=Math.pow(o,2)*Math.pow(u,2)*n,b=Math.exp(-m),T=Pl(Math.pow(u,2),o);return(-s(u)+Ja>0?-1:1)*((g-y)*b)/T}):(s=u=>{const d=Math.exp(-u*n),m=(u-t)*n+1;return-Ja+d*m},i=u=>{const d=Math.exp(-u*n),m=(t-u)*(n*n);return d*m});const l=5/n,c=$T(s,i,l);if(n=_n(n),isNaN(c))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:n}}}const YT=12;function $T(n,e,t){let r=t;for(let s=1;s<YT;s++)r=r-n(r)/e(r);return r}function Pl(n,e){return n*Math.sqrt(1-e*e)}const zT=["duration","bounce"],qT=["stiffness","damping","mass"];function xd(n,e){return e.some(t=>n[t]!==void 0)}function HT(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!xd(n,qT)&&xd(n,zT)){const t=BT(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function zg({keyframes:n,restDelta:e,restSpeed:t,...r}){const s=n[0],i=n[n.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:m,isResolvedFromDuration:g}=HT({...r,velocity:-qt(r.velocity||0)}),y=m||0,b=c/(2*Math.sqrt(l*u)),T=i-s,x=qt(Math.sqrt(l/u)),V=Math.abs(T)<5;t||(t=V?.01:2),e||(e=V?.005:.5);let k;if(b<1){const R=Pl(x,b);k=O=>{const F=Math.exp(-b*x*O);return i-F*((y+b*x*T)/R*Math.sin(R*O)+T*Math.cos(R*O))}}else if(b===1)k=R=>i-Math.exp(-x*R)*(T+(y+x*T)*R);else{const R=x*Math.sqrt(b*b-1);k=O=>{const F=Math.exp(-b*x*O),$=Math.min(R*O,300);return i-F*((y+b*x*T)*Math.sinh($)+R*T*Math.cosh($))/R}}return{calculatedDuration:g&&d||null,next:R=>{const O=k(R);if(g)o.done=R>=d;else{let F=y;R!==0&&(b<1?F=$g(k,R,O):F=0);const $=Math.abs(F)<=t,A=Math.abs(i-O)<=e;o.done=$&&A}return o.value=o.done?i:O,o}}}function bd({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const m=n[0],g={done:!1,value:m},y=w=>l!==void 0&&w<l||c!==void 0&&w>c,b=w=>l===void 0?c:c===void 0||Math.abs(l-w)<Math.abs(c-w)?l:c;let T=t*e;const x=m+T,V=o===void 0?x:o(x);V!==x&&(T=V-m);const k=w=>-T*Math.exp(-w/r),R=w=>V+k(w),O=w=>{const _=k(w),C=R(w);g.done=Math.abs(_)<=u,g.value=g.done?V:C};let F,$;const A=w=>{y(g.value)&&(F=w,$=zg({keyframes:[g.value,b(g.value)],velocity:$g(R,w,g.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:w=>{let _=!1;return!$&&F===void 0&&(_=!0,O(w),A(w)),F!==void 0&&w>F?$.next(w-F):(!_&&O(w),g)}}}const GT=n=>{const e=({timestamp:t})=>n(t);return{start:()=>de.update(e,!0),stop:()=>Gt(e),now:()=>Ge.isProcessing?Ge.timestamp:performance.now()}},Td=2e4;function Ed(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Td;)e+=t,r=n.next(e);return e>=Td?1/0:e}const WT={decay:bd,inertia:bd,tween:_o,keyframes:_o,spring:zg};function xo({autoplay:n=!0,delay:e=0,driver:t=GT,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:m,...g}){let y=1,b=!1,T,x;const V=()=>{x=new Promise(ie=>{T=ie})};V();let k;const R=WT[s]||_o;let O;R!==_o&&typeof r[0]!="number"&&(O=Bg([0,100],r,{clamp:!1}),r=[0,100]);const F=R({...g,keyframes:r});let $;l==="mirror"&&($=R({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let A="idle",w=null,_=null,C=null;F.calculatedDuration===null&&i&&(F.calculatedDuration=Ed(F));const{calculatedDuration:P}=F;let S=1/0,E=1/0;P!==null&&(S=P+o,E=S*(i+1)-o);let Y=0;const ce=ie=>{if(_===null)return;y>0&&(_=Math.min(_,ie)),y<0&&(_=Math.min(ie-E/y,_)),w!==null?Y=w:Y=Math.round(ie-_)*y;const we=Y-e*(y>=0?1:-1),Z=y>=0?we<0:we>E;Y=Math.max(we,0),A==="finished"&&w===null&&(Y=E);let Un=Y,en=F;if(i){const ls=Math.min(Y,E)/S;let Ot=Math.floor(ls),at=ls%1;!at&&ls>=1&&(at=1),at===1&&Ot--,Ot=Math.min(Ot,i+1),!!(Ot%2)&&(l==="reverse"?(at=1-at,o&&(at-=o/S)):l==="mirror"&&(en=$)),Un=Sn(0,1,at)*S}const Bn=Z?{done:!1,value:r[0]}:en.next(Un);O&&(Bn.value=O(Bn.value));let{done:tn}=Bn;!Z&&P!==null&&(tn=y>=0?Y>=E:Y<=0);const va=w===null&&(A==="finished"||A==="running"&&tn);return m&&m(Bn.value),va&&Ie(),Bn},se=()=>{k&&k.stop(),k=void 0},ve=()=>{A="idle",se(),T(),V(),_=C=null},Ie=()=>{A="finished",d&&d(),se(),T()},Ae=()=>{if(b)return;k||(k=t(ce));const ie=k.now();c&&c(),w!==null?_=ie-w:(!_||A==="finished")&&(_=ie),A==="finished"&&V(),C=_,w=null,A="running",k.start()};n&&Ae();const wt={then(ie,we){return x.then(ie,we)},get time(){return qt(Y)},set time(ie){ie=_n(ie),Y=ie,w!==null||!k||y===0?w=ie:_=k.now()-ie/y},get duration(){const ie=F.calculatedDuration===null?Ed(F):F.calculatedDuration;return qt(ie)},get speed(){return y},set speed(ie){ie===y||!k||(y=ie,wt.time=qt(Y))},get state(){return A},play:Ae,pause:()=>{A="paused",w=Y},stop:()=>{b=!0,A!=="idle"&&(A="idle",u&&u(),ve())},cancel:()=>{C!==null&&ce(C),ve()},complete:()=>{A="finished"},sample:ie=>(_=0,ce(ie))};return wt}function KT(n){let e;return()=>(e===void 0&&(e=n()),e)}const QT=KT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),XT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$i=10,JT=2e4,ZT=(n,e)=>e.type==="spring"||n==="backgroundColor"||!xg(e.ease);function eE(n,e,{onUpdate:t,onComplete:r,...s}){if(!(QT()&&XT.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(R=>{l=R})};d();let{keyframes:m,duration:g=300,ease:y,times:b}=s;if(ZT(e,s)){const R=xo({...s,repeat:0,delay:0});let O={done:!1,value:m[0]};const F=[];let $=0;for(;!O.done&&$<JT;)O=R.sample($),F.push(O.value),$+=$i;b=void 0,m=F,g=$-$i,y="linear"}const T=uT(n.owner.current,e,m,{...s,duration:g,ease:y,times:b}),x=()=>{u=!1,T.cancel()},V=()=>{u=!0,de.update(x),l(),d()};return T.onfinish=()=>{u||(n.set(hT(m,s)),r&&r(),V())},{then(R,O){return c.then(R,O)},attachTimeline(R){return T.timeline=R,T.onfinish=null,Te},get time(){return qt(T.currentTime||0)},set time(R){T.currentTime=_n(R)},get speed(){return T.playbackRate},set speed(R){T.playbackRate=R},get duration(){return qt(g)},play:()=>{o||(T.play(),Gt(x))},pause:()=>T.pause(),stop:()=>{if(o=!0,T.playState==="idle")return;const{currentTime:R}=T;if(R){const O=xo({...s,autoplay:!1});n.setWithVelocity(O.sample(R-$i).value,O.sample(R).value,$i)}V()},complete:()=>{u||T.finish()},cancel:V}}function tE({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const s=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Te,pause:Te,stop:Te,then:i=>(i(),Promise.resolve()),cancel:Te,complete:Te});return e?xo({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const nE={type:"spring",stiffness:500,damping:25,restSpeed:10},rE=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),sE={type:"keyframes",duration:.8},iE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oE=(n,{keyframes:e})=>e.length>2?sE:mr.has(n)?n.startsWith("scale")?rE(e[1]):nE:iE,Rl=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pn.test(e)||e==="0")&&!e.startsWith("url(")),aE=new Set(["brightness","contrast","saturate","opacity"]);function lE(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Jo)||[];if(!r)return n;const s=t.replace(r,"");let i=aE.has(e)?1:0;return r!==t&&(i*=100),e+"("+i+s+")"}const cE=/([a-z-]*)\(.*?\)/g,Nl={...Pn,getAnimatableNone:n=>{const e=n.match(cE);return e?e.map(lE).join(" "):n}},uE={...sg,color:et,backgroundColor:et,outlineColor:et,fill:et,stroke:et,borderColor:et,borderTopColor:et,borderRightColor:et,borderBottomColor:et,borderLeftColor:et,filter:Nl,WebkitFilter:Nl},Fc=n=>uE[n];function qg(n,e){let t=Fc(n);return t!==Nl&&(t=Pn),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Hg=n=>/^0[^.\s]+$/.test(n);function hE(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||Hg(n)}function dE(n,e,t,r){const s=Rl(e,t);let i;Array.isArray(t)?i=[...t]:i=[null,t];const o=r.from!==void 0?r.from:n.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),hE(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=qg(e,l)}return i}function fE({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Uc(n,e){return n[e]||n.default||n}const mE={skipAnimations:!1},Bc=(n,e,t,r={})=>s=>{const i=Uc(r,n)||{},o=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-_n(o);const c=dE(e,n,t,i),u=c[0],d=c[c.length-1],m=Rl(n,u),g=Rl(n,d);let y={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:b=>{e.set(b),i.onUpdate&&i.onUpdate(b)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(fE(i)||(y={...y,...oE(n,y)}),y.duration&&(y.duration=_n(y.duration)),y.repeatDelay&&(y.repeatDelay=_n(y.repeatDelay)),!m||!g||cT.current||i.type===!1||mE.skipAnimations)return tE(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const b=eE(e,n,y);if(b)return b}return xo(y)};function bo(n){return!!(st(n)&&n.add)}const Gg=n=>/^\-?\d*\.?\d+$/.test(n);function Yc(n,e){n.indexOf(e)===-1&&n.push(e)}function $c(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class zc{constructor(){this.subscriptions=[]}add(e){return Yc(this.subscriptions,e),()=>$c(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pE=n=>!isNaN(parseFloat(n));class gE{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Ge;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,de.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>de.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=pE(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new zc);const r=this.events[e].add(t);return e==="change"?()=>{r(),de.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Yg(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yr(n,e){return new gE(n,e)}const Wg=n=>e=>e.test(n),yE={test:n=>n==="auto",parse:n=>n},Kg=[pr,q,Tt,ln,Eb,Tb,yE],Es=n=>Kg.find(Wg(n)),vE=[...Kg,et,Pn],wE=n=>vE.find(Wg(n));function _E(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Yr(t))}function xE(n,e){const t=ea(n,e);let{transitionEnd:r={},transition:s={},...i}=t?n.makeTargetAnimatable(t,!1):{};i={...i,...r};for(const o in i){const l=Lb(i[o]);_E(n,o,l)}}function bE(n,e,t){var r,s;const i=Object.keys(e).filter(l=>!n.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=t[c])!==null&&r!==void 0?r:n.readValue(c))!==null&&s!==void 0?s:e[c]),d!=null&&(typeof d=="string"&&(Gg(d)||Hg(d))?d=parseFloat(d):!wE(d)&&Pn.test(u)&&(d=qg(c,u)),n.addValue(c,Yr(d,{owner:n})),t[c]===void 0&&(t[c]=d),d!==null&&n.setBaseTarget(c,d))}}function TE(n,e){return e?(e[n]||e.default||e).from:void 0}function EE(n,e,t){const r={};for(const s in n){const i=TE(s,e);if(i!==void 0)r[s]=i;else{const o=t.getValue(s);o&&(r[s]=o.get())}}return r}function IE({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function AE(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function Qg(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:i=n.getDefaultTransition(),transitionEnd:o,...l}=n.makeTargetAnimatable(e);const c=n.getValue("willChange");r&&(i=r);const u=[],d=s&&n.animationState&&n.animationState.getState()[s];for(const m in l){const g=n.getValue(m),y=l[m];if(!g||y===void 0||d&&IE(d,m))continue;const b={delay:t,elapsed:0,...Uc(i||{},m)};if(window.HandoffAppearAnimations){const V=n.getProps()[Xp];if(V){const k=window.HandoffAppearAnimations(V,m,g,de);k!==null&&(b.elapsed=k,b.isHandoff=!0)}}let T=!b.isHandoff&&!AE(g,y);if(b.type==="spring"&&(g.getVelocity()||b.velocity)&&(T=!1),g.animation&&(T=!1),T)continue;g.start(Bc(m,g,y,n.shouldReduceMotion&&mr.has(m)?{type:!1}:b));const x=g.animation;bo(c)&&(c.add(m),x.then(()=>c.remove(m))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&xE(n,o)}),u}function kl(n,e,t={}){const r=ea(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const i=r?()=>Promise.all(Qg(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:m}=s;return CE(n,e,u+c,d,m,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(t.delay)])}function CE(n,e,t=0,r=0,s=1,i){const o=[],l=(n.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(n.variantChildren).sort(SE).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(kl(u,e,{...i,delay:t+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function SE(n,e){return n.sortNodePosition(e)}function PE(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>kl(n,i,t));r=Promise.all(s)}else if(typeof e=="string")r=kl(n,e,t);else{const s=typeof e=="function"?ea(n,e,t.custom):e;r=Promise.all(Qg(n,s,t))}return r.then(()=>n.notify("AnimationComplete",e))}const RE=[...Ic].reverse(),NE=Ic.length;function kE(n){return e=>Promise.all(e.map(({animation:t,options:r})=>PE(n,t,r)))}function VE(n){let e=kE(n);const t=DE();let r=!0;const s=(c,u)=>{const d=ea(n,u);if(d){const{transition:m,transitionEnd:g,...y}=d;c={...c,...y,...g}}return c};function i(c){e=c(n)}function o(c,u){const d=n.getProps(),m=n.getVariantContext(!0)||{},g=[],y=new Set;let b={},T=1/0;for(let V=0;V<NE;V++){const k=RE[V],R=t[k],O=d[k]!==void 0?d[k]:m[k],F=zs(O),$=k===u?R.isActive:null;$===!1&&(T=V);let A=O===m[k]&&O!==d[k]&&F;if(A&&r&&n.manuallyAnimateOnMount&&(A=!1),R.protectedKeys={...b},!R.isActive&&$===null||!O&&!R.prevProp||Qo(O)||typeof O=="boolean")continue;let _=jE(R.prevProp,O)||k===u&&R.isActive&&!A&&F||V>T&&F,C=!1;const P=Array.isArray(O)?O:[O];let S=P.reduce(s,{});$===!1&&(S={});const{prevResolvedValues:E={}}=R,Y={...E,...S},ce=se=>{_=!0,y.has(se)&&(C=!0,y.delete(se)),R.needsAnimating[se]=!0};for(const se in Y){const ve=S[se],Ie=E[se];if(b.hasOwnProperty(se))continue;let Ae=!1;vo(ve)&&vo(Ie)?Ae=!wg(ve,Ie):Ae=ve!==Ie,Ae?ve!==void 0?ce(se):y.add(se):ve!==void 0&&y.has(se)?ce(se):R.protectedKeys[se]=!0}R.prevProp=O,R.prevResolvedValues=S,R.isActive&&(b={...b,...S}),r&&n.blockInitialAnimation&&(_=!1),_&&(!A||C)&&g.push(...P.map(se=>({animation:se,options:{type:k,...c}})))}if(y.size){const V={};y.forEach(k=>{const R=n.getBaseTarget(k);R!==void 0&&(V[k]=R)}),g.push({animation:V})}let x=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(g):Promise.resolve()}function l(c,u,d){var m;if(t[c].isActive===u)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(y=>{var b;return(b=y.animationState)===null||b===void 0?void 0:b.setActive(c,u)}),t[c].isActive=u;const g=o(d,c);for(const y in t)t[y].protectedKeys={};return g}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>t}}function jE(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!wg(e,n):!1}function Hn(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DE(){return{animate:Hn(!0),whileInView:Hn(),whileHover:Hn(),whileTap:Hn(),whileDrag:Hn(),whileFocus:Hn(),exit:Hn()}}class OE extends Ln{constructor(e){super(e),e.animationState||(e.animationState=VE(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Qo(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let ME=0;class LE extends Ln{constructor(){super(...arguments),this.id=ME++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const FE={animation:{Feature:OE},exit:{Feature:LE}},Id=(n,e)=>Math.abs(n-e);function UE(n,e){const t=Id(n.x,e.x),r=Id(n.y,e.y);return Math.sqrt(t**2+r**2)}class Xg{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=el(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=UE(m.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:b}=m,{timestamp:T}=Ge;this.history.push({...b,timestamp:T});const{onStart:x,onMove:V}=this.handlers;g||(x&&x(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Za(g,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=el(m.type==="pointercancel"?this.lastMoveEventInfo:Za(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,x),b&&b(m,x)},!mg(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const o=Zo(e),l=Za(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ge;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=t;d&&d(e,el(l,this.history)),this.removeListeners=wn(zt(this.contextWindow,"pointermove",this.handlePointerMove),zt(this.contextWindow,"pointerup",this.handlePointerUp),zt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gt(this.updatePoint)}}function Za(n,e){return e?{point:e(n.point)}:n}function Ad(n,e){return{x:n.x-e.x,y:n.y-e.y}}function el({point:n},e){return{point:n,delta:Ad(n,Jg(e)),offset:Ad(n,BE(e)),velocity:YE(e,.1)}}function BE(n){return n[0]}function Jg(n){return n[n.length-1]}function YE(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=Jg(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>_n(e)));)t--;if(!r)return{x:0,y:0};const i=qt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ot(n){return n.max-n.min}function Vl(n,e=0,t=.01){return Math.abs(n-e)<=t}function Cd(n,e,t,r=.5){n.origin=r,n.originPoint=_e(e.min,e.max,n.origin),n.scale=ot(t)/ot(e),(Vl(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=_e(t.min,t.max,n.origin)-n.originPoint,(Vl(n.translate)||isNaN(n.translate))&&(n.translate=0)}function js(n,e,t,r){Cd(n.x,e.x,t.x,r?r.originX:void 0),Cd(n.y,e.y,t.y,r?r.originY:void 0)}function Sd(n,e,t){n.min=t.min+e.min,n.max=n.min+ot(e)}function $E(n,e,t){Sd(n.x,e.x,t.x),Sd(n.y,e.y,t.y)}function Pd(n,e,t){n.min=e.min-t.min,n.max=n.min+ot(e)}function Ds(n,e,t){Pd(n.x,e.x,t.x),Pd(n.y,e.y,t.y)}function zE(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?_e(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?_e(t,n,r.max):Math.min(n,t)),n}function Rd(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function qE(n,{top:e,left:t,bottom:r,right:s}){return{x:Rd(n.x,t,s),y:Rd(n.y,e,r)}}function Nd(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function HE(n,e){return{x:Nd(n.x,e.x),y:Nd(n.y,e.y)}}function GE(n,e){let t=.5;const r=ot(n),s=ot(e);return s>r?t=Hs(e.min,e.max-r,n.min):r>s&&(t=Hs(n.min,n.max-s,e.min)),Sn(0,1,t)}function WE(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const jl=.35;function KE(n=jl){return n===!1?n=0:n===!0&&(n=jl),{x:kd(n,"left","right"),y:kd(n,"top","bottom")}}function kd(n,e,t){return{min:Vd(n,e),max:Vd(n,t)}}function Vd(n,e){return typeof n=="number"?n:n[e]||0}const jd=()=>({translate:0,scale:1,origin:0,originPoint:0}),kr=()=>({x:jd(),y:jd()}),Dd=()=>({min:0,max:0}),Pe=()=>({x:Dd(),y:Dd()});function ct(n){return[n("x"),n("y")]}function Zg({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function QE({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function XE(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function tl(n){return n===void 0||n===1}function Dl({scale:n,scaleX:e,scaleY:t}){return!tl(n)||!tl(e)||!tl(t)}function Gn(n){return Dl(n)||ey(n)||n.z||n.rotate||n.rotateX||n.rotateY}function ey(n){return Od(n.x)||Od(n.y)}function Od(n){return n&&n!=="0%"}function To(n,e,t){const r=n-t,s=e*r;return t+s}function Md(n,e,t,r,s){return s!==void 0&&(n=To(n,s,r)),To(n,t,r)+e}function Ol(n,e=0,t=1,r,s){n.min=Md(n.min,e,t,r,s),n.max=Md(n.max,e,t,r,s)}function ty(n,{x:e,y:t}){Ol(n.x,e.translate,e.scale,e.originPoint),Ol(n.y,t.translate,t.scale,t.originPoint)}function JE(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=t[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Vr(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ty(n,o)),r&&Gn(i.latestValues)&&Vr(n,i.latestValues))}e.x=Ld(e.x),e.y=Ld(e.y)}function Ld(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function cn(n,e){n.min=n.min+e,n.max=n.max+e}function Fd(n,e,[t,r,s]){const i=e[s]!==void 0?e[s]:.5,o=_e(n.min,n.max,i);Ol(n,e[t],e[r],o,e.scale)}const ZE=["x","scaleX","originX"],eI=["y","scaleY","originY"];function Vr(n,e){Fd(n.x,e,ZE),Fd(n.y,e,eI)}function ny(n,e){return Zg(XE(n.getBoundingClientRect(),e))}function tI(n,e,t){const r=ny(n,t),{scroll:s}=e;return s&&(cn(r.x,s.offset.x),cn(r.y,s.offset.y)),r}const ry=({current:n})=>n?n.ownerDocument.defaultView:null,nI=new WeakMap;class rI{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pe(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Zo(d,"page").point)},i=(d,m)=>{const{drag:g,dragPropagation:y,onDragStart:b}=this.getProps();if(g&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=gg(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ct(x=>{let V=this.getAxisMotionValue(x).get()||0;if(Tt.test(V)){const{projection:k}=this.visualElement;if(k&&k.layout){const R=k.layout.layoutBox[x];R&&(V=ot(R)*(parseFloat(V)/100))}}this.originPoint[x]=V}),b&&de.update(()=>b(d,m),!1,!0);const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(d,m)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:b,onDrag:T}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:x}=m;if(y&&this.currentDirection===null){this.currentDirection=sI(x),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),T&&T(d,m)},l=(d,m)=>this.stop(d,m),c=()=>ct(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Xg(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ry(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&de.update(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!zi(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=zE(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;t&&Rr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=qE(s.layoutBox,t):this.constraints=!1,this.elastic=KE(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ct(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=WE(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Rr(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=tI(r,s.root,this.visualElement.getTransformPagePoint());let o=HE(s.layout.layoutBox,i);if(t){const l=t(QE(o));this.hasMutatedConstraints=!!l,l&&(o=Zg(l))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ct(d=>{if(!zi(d,t,this.currentDirection))return;let m=c&&c[d]||{};o&&(m={min:0,max:0});const g=s?200:1e6,y=s?40:1e7,b={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(l)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(Bc(e,r,0,t))}stopAnimation(){ct(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ct(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ct(t=>{const{drag:r}=this.getProps();if(!zi(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(t);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[t];i.set(e[t]-_e(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Rr(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ct(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=GE({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ct(o=>{if(!zi(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(_e(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;nI.set(this.visualElement,this);const e=this.visualElement.current,t=zt(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Rr(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Ut(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ct(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=c[d].translate,m.set(m.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),t(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=jl,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function zi(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function sI(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class iI extends Ln{constructor(e){super(e),this.removeGroupControls=Te,this.removeListeners=Te,this.controls=new rI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Te}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ud=n=>(e,t)=>{n&&de.update(()=>n(e,t))};class oI extends Ln{constructor(){super(...arguments),this.removePointerDownListener=Te}onPointerDown(e){this.session=new Xg(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ry(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ud(e),onStart:Ud(t),onMove:r,onEnd:(i,o)=>{delete this.session,s&&de.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=zt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function aI(){const n=I.useContext(Wo);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,s=I.useId();return I.useEffect(()=>r(s),[]),!e&&t?[!1,()=>t&&t(s)]:[!0]}const eo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bd(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Is={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(q.test(n))n=parseFloat(n);else return n;const t=Bd(n,e.target.x),r=Bd(n,e.target.y);return`${t}% ${r}%`}},lI={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Pn.parse(n);if(s.length>5)return r;const i=Pn.createTransformer(n),o=typeof s[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const u=_e(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class cI extends Be.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;gb(uI),i&&(t.group&&t.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),eo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||de.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sy(n){const[e,t]=aI(),r=I.useContext(Cc);return Be.createElement(cI,{...n,layoutGroup:r,switchLayoutGroup:I.useContext(Zp),isPresent:e,safeToRemove:t})}const uI={borderRadius:{...Is,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Is,borderTopRightRadius:Is,borderBottomLeftRadius:Is,borderBottomRightRadius:Is,boxShadow:lI},iy=["TopLeft","TopRight","BottomLeft","BottomRight"],hI=iy.length,Yd=n=>typeof n=="string"?parseFloat(n):n,$d=n=>typeof n=="number"||q.test(n);function dI(n,e,t,r,s,i){s?(n.opacity=_e(0,t.opacity!==void 0?t.opacity:1,fI(r)),n.opacityExit=_e(e.opacity!==void 0?e.opacity:1,0,mI(r))):i&&(n.opacity=_e(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<hI;o++){const l=`border${iy[o]}Radius`;let c=zd(e,l),u=zd(t,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||$d(c)===$d(u)?(n[l]=Math.max(_e(Yd(c),Yd(u),r),0),(Tt.test(u)||Tt.test(c))&&(n[l]+="%")):n[l]=u}(e.rotate||t.rotate)&&(n.rotate=_e(e.rotate||0,t.rotate||0,r))}function zd(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const fI=oy(0,.5,Sg),mI=oy(.5,.95,Te);function oy(n,e,t){return r=>r<n?0:r>e?1:t(Hs(n,e,r))}function qd(n,e){n.min=e.min,n.max=e.max}function lt(n,e){qd(n.x,e.x),qd(n.y,e.y)}function Hd(n,e,t,r,s){return n-=e,n=To(n,1/t,r),s!==void 0&&(n=To(n,1/s,r)),n}function pI(n,e=0,t=1,r=.5,s,i=n,o=n){if(Tt.test(e)&&(e=parseFloat(e),e=_e(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=_e(i.min,i.max,r);n===i&&(l-=e),n.min=Hd(n.min,e,t,l,s),n.max=Hd(n.max,e,t,l,s)}function Gd(n,e,[t,r,s],i,o){pI(n,e[t],e[r],e[s],e.scale,i,o)}const gI=["x","scaleX","originX"],yI=["y","scaleY","originY"];function Wd(n,e,t,r){Gd(n.x,e,gI,t?t.x:void 0,r?r.x:void 0),Gd(n.y,e,yI,t?t.y:void 0,r?r.y:void 0)}function Kd(n){return n.translate===0&&n.scale===1}function ay(n){return Kd(n.x)&&Kd(n.y)}function vI(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function ly(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function Qd(n){return ot(n.x)/ot(n.y)}class wI{constructor(){this.members=[]}add(e){Yc(this.members,e),e.scheduleRender()}remove(e){if($c(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xd(n,e,t){let r="";const s=n.x.translate/e.x,i=n.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:c,rotateX:u,rotateY:d}=t;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const _I=(n,e)=>n.depth-e.depth;class xI{constructor(){this.children=[],this.isDirty=!1}add(e){Yc(this.children,e),this.isDirty=!0}remove(e){$c(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_I),this.isDirty=!1,this.children.forEach(e)}}function bI(n,e){const t=performance.now(),r=({timestamp:s})=>{const i=s-t;i>=e&&(Gt(r),n(i-e))};return de.read(r,!0),()=>Gt(r)}function TI(n){window.MotionDebug&&window.MotionDebug.record(n)}function EI(n){return n instanceof SVGElement&&n.tagName!=="svg"}function II(n,e,t){const r=st(n)?n:Yr(n);return r.start(Bc("",r,e,t)),r.animation}const Jd=["","X","Y","Z"],AI={visibility:"hidden"},Zd=1e3;let CI=0;const Wn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function cy({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=CI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wn.totalNodes=Wn.resolvedTargetDeltas=Wn.recalculatedProjection=0,this.nodes.forEach(RI),this.nodes.forEach(DI),this.nodes.forEach(OI),this.nodes.forEach(NI),TI(Wn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new xI)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new zc),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=EI(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),n){let m;const g=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=bI(g,250),eo.hasAnimatedSinceResize&&(eo.hasAnimatedSinceResize=!1,this.nodes.forEach(tf))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeTargetChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||BI,{onLayoutAnimationStart:x,onLayoutAnimationComplete:V}=d.getProps(),k=!this.targetLayout||!ly(this.targetLayout,b)||y,R=!g&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||g&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,R);const O={...Uc(T,"layout"),onPlay:x,onComplete:V};(d.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else g||tf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MI),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ef);return}this.isUpdating||this.nodes.forEach(VI),this.isUpdating=!1,this.nodes.forEach(jI),this.nodes.forEach(SI),this.nodes.forEach(PI),this.clearAllSnapshots();const l=performance.now();Ge.delta=Sn(0,1e3/60,l-Ge.timestamp),Ge.timestamp=l,Ge.isProcessing=!0,qa.update.process(Ge),qa.preRender.process(Ge),qa.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(kI),this.sharedNodes.forEach(LI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,de.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!ay(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Gn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),YI(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Pe();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(cn(l.x,c.offset.x),cn(l.y,c.offset.y)),l}removeElementScroll(o){const l=Pe();lt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:m}=u;if(u!==this.root&&d&&m.layoutScroll){if(d.isRoot){lt(l,o);const{scroll:g}=this.root;g&&(cn(l.x,-g.offset.x),cn(l.y,-g.offset.y))}cn(l.x,d.offset.x),cn(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Pe();lt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Vr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Gn(d.latestValues)&&Vr(c,d.latestValues)}return Gn(this.latestValues)&&Vr(c,this.latestValues),c}removeTransform(o){const l=Pe();lt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Gn(u.latestValues))continue;Dl(u.latestValues)&&u.updateSnapshot();const d=Pe(),m=u.measurePageBox();lt(d,m),Wd(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Gn(this.latestValues)&&Wd(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Ds(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),lt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pe(),this.targetWithTransforms=Pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$E(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lt(this.target,this.layout.layoutBox),ty(this.target,this.targetDelta)):lt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Ds(this.relativeTargetOrigin,this.target,y.target),lt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Dl(this.parent.latestValues)||ey(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(u=!1),u)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;lt(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;JE(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:b}=l;if(!b){this.projectionTransform&&(this.projectionDelta=kr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=kr(),this.projectionDeltaWithTransform=kr());const T=this.projectionTransform;js(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=Xd(this.projectionDelta,this.treeScale),(this.projectionTransform!==T||this.treeScale.x!==g||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Wn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},m=kr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Pe(),y=c?c.source:void 0,b=this.layout?this.layout.source:void 0,T=y!==b,x=this.getStack(),V=!x||x.members.length<=1,k=!!(T&&!V&&this.options.crossfade===!0&&!this.path.some(UI));this.animationProgress=0;let R;this.mixTargetDelta=O=>{const F=O/1e3;nf(m.x,o.x,F),nf(m.y,o.y,F),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ds(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FI(this.relativeTarget,this.relativeTargetOrigin,g,F),R&&vI(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Pe()),lt(R,this.relativeTarget)),T&&(this.animationValues=d,dI(d,u,this.latestValues,F,k,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{eo.hasAnimatedSinceResize=!0,this.currentAnimation=II(0,Zd,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zd),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&uy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Pe();const m=ot(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const g=ot(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}lt(l,c),Vr(l,d),js(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wI),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Jd.length;d++){const m="rotate"+Jd[d];c[m]&&(u[m]=c[m],o.setStaticValue(m,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return AI;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Zi(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Zi(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Gn(this.latestValues)&&(T.transform=d?d({},""):"none",this.hasProjected=!1),T}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=Xd(this.projectionDeltaWithTransform,this.treeScale,g),d&&(u.transform=d(g,u.transform));const{x:y,y:b}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,m.animationValues?u.opacity=m===this?(c=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in go){if(g[T]===void 0)continue;const{correct:x,applyTo:V}=go[T],k=u.transform==="none"?g[T]:x(g[T],m);if(V){const R=V.length;for(let O=0;O<R;O++)u[V[O]]=k}else u[T]=k}return this.options.layoutId&&(u.pointerEvents=m===this?Zi(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ef),this.root.sharedNodes.clear()}}}function SI(n){n.updateLayout()}function PI(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:i}=n.options,o=t.source!==n.layout.source;i==="size"?ct(m=>{const g=o?t.measuredBox[m]:t.layoutBox[m],y=ot(g);g.min=r[m].min,g.max=g.min+y}):uy(i,t.layoutBox,r)&&ct(m=>{const g=o?t.measuredBox[m]:t.layoutBox[m],y=ot(r[m]);g.max=g.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+y)});const l=kr();js(l,r,t.layoutBox);const c=kr();o?js(c,n.applyTransform(s,!0),t.measuredBox):js(c,r,t.layoutBox);const u=!ay(l);let d=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=Pe();Ds(b,t.layoutBox,g.layoutBox);const T=Pe();Ds(T,r,y.layoutBox),ly(b,T)||(d=!0),m.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=b,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function RI(n){Wn.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function NI(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function kI(n){n.clearSnapshot()}function ef(n){n.clearMeasurements()}function VI(n){n.isLayoutDirty=!1}function jI(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function tf(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function DI(n){n.resolveTargetDelta()}function OI(n){n.calcProjection()}function MI(n){n.resetRotation()}function LI(n){n.removeLeadSnapshot()}function nf(n,e,t){n.translate=_e(e.translate,0,t),n.scale=_e(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function rf(n,e,t,r){n.min=_e(e.min,t.min,r),n.max=_e(e.max,t.max,r)}function FI(n,e,t,r){rf(n.x,e.x,t.x,r),rf(n.y,e.y,t.y,r)}function UI(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const BI={duration:.45,ease:[.4,0,.1,1]},sf=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),of=sf("applewebkit/")&&!sf("chrome/")?Math.round:Te;function af(n){n.min=of(n.min),n.max=of(n.max)}function YI(n){af(n.x),af(n.y)}function uy(n,e,t){return n==="position"||n==="preserve-aspect"&&!Vl(Qd(e),Qd(t),.2)}const $I=cy({attachResizeListener:(n,e)=>Ut(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nl={current:void 0},hy=cy({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!nl.current){const n=new $I({});n.mount(window),n.setOptions({layoutScroll:!0}),nl.current=n}return nl.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),zI={pan:{Feature:oI},drag:{Feature:iI,ProjectionNode:hy,MeasureLayout:sy}},qI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function HI(n){const e=qI.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function Ml(n,e,t=1){const[r,s]=HI(n);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Gg(o)?parseFloat(o):o}else return Al(s)?Ml(s,e,t+1):s}function GI(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(s=>{const i=s.get();if(!Al(i))return;const o=Ml(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!Al(i))continue;const o=Ml(i,r);o&&(e[s]=o,t||(t={}),t[s]===void 0&&(t[s]=i))}return{target:e,transitionEnd:t}}const WI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),dy=n=>WI.has(n),KI=n=>Object.keys(n).some(dy),lf=n=>n===pr||n===q,cf=(n,e)=>parseFloat(n.split(", ")[e]),uf=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return cf(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?cf(i[1],n):0}},QI=new Set(["x","y","z"]),XI=li.filter(n=>!QI.has(n));function JI(n){const e=[];return XI.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const $r={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:uf(4,13),y:uf(5,14)};$r.translateX=$r.x;$r.translateY=$r.y;const ZI=(n,e,t)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{l[u]=$r[u](r,i)}),e.render();const c=e.measureViewportBox();return t.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),n[u]=$r[u](c,i)}),n},e1=(n,e,t={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(dy);let i=[],o=!1;const l=[];if(s.forEach(c=>{const u=n.getValue(c);if(!n.hasValue(c))return;let d=t[c],m=Es(d);const g=e[c];let y;if(vo(g)){const b=g.length,T=g[0]===null?1:0;d=g[T],m=Es(d);for(let x=T;x<b&&g[x]!==null;x++)y?Dc(Es(g[x])===y):y=Es(g[x])}else y=Es(g);if(m!==y)if(lf(m)&&lf(y)){const b=u.get();typeof b=="string"&&u.set(parseFloat(b)),typeof g=="string"?e[c]=parseFloat(g):Array.isArray(g)&&y===q&&(e[c]=g.map(parseFloat))}else m!=null&&m.transform&&(y!=null&&y.transform)&&(d===0||g===0)?d===0?u.set(y.transform(d)):e[c]=m.transform(g):(o||(i=JI(n),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],u.jump(g))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=ZI(e,n,l);return i.length&&i.forEach(([d,m])=>{n.getValue(d).set(m)}),n.render(),Ko&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function t1(n,e,t,r){return KI(e)?e1(n,e,t,r):{target:e,transitionEnd:r}}const n1=(n,e,t,r)=>{const s=GI(n,e,r);return e=s.target,r=s.transitionEnd,t1(n,e,t,r)},Ll={current:null},fy={current:!1};function r1(){if(fy.current=!0,!!Ko)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ll.current=n.matches;n.addListener(e),e()}else Ll.current=!1}function s1(n,e,t){const{willChange:r}=e;for(const s in e){const i=e[s],o=t[s];if(st(i))n.addValue(s,i),bo(r)&&r.add(s);else if(st(o))n.addValue(s,Yr(i,{owner:n})),bo(r)&&r.remove(s);else if(o!==i)if(n.hasValue(s)){const l=n.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=n.getStaticValue(s);n.addValue(s,Yr(l!==void 0?l:i,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const hf=new WeakMap,my=Object.keys(qs),i1=my.length,df=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],o1=Ac.length;class a1{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>de.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Xo(t),this.isVariantNode=Jp(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{});for(const m in d){const g=d[m];l[m]!==void 0&&st(g)&&(g.set(l[m],!1),bo(u)&&u.add(m))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,hf.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),fy.current||r1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ll.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hf.delete(this.current),this.projection&&this.projection.unmount(),Gt(this.notifyUpdate),Gt(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=mr.has(e),s=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&de.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,s,i){let o,l;for(let c=0;c<i1;c++){const u=my[c],{isEnabled:d,Feature:m,ProjectionNode:g,MeasureLayout:y}=qs[u];g&&(o=g),d(t)&&(!this.features[u]&&m&&(this.features[u]=new m(this)),y&&(l=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:m,layoutScroll:g,layoutRoot:y}=t;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||m&&Rr(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:g,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<df.length;r++){const s=df[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=s1(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<o1;r++){const s=Ac[r],i=this.props[s];(zs(i)||i===!1)&&(t[s]=i)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Yr(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(t=jc(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!st(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new zc),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class py extends a1{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:s},i){let o=EE(r,e||{},this);if(s&&(t&&(t=s(t)),r&&(r=s(r)),o&&(o=s(o))),i){bE(this,r,o);const l=n1(this,r,o,t);t=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:t,...r}}}function l1(n){return window.getComputedStyle(n)}class c1 extends py{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(mr.has(t)){const r=Fc(t);return r&&r.default||0}else{const r=l1(e),s=(ng(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ny(e,t)}build(e,t,r,s){Pc(e,t,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Vc(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;st(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,s){lg(e,t,r,s)}}class u1 extends py{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(mr.has(t)){const r=Fc(t);return r&&r.default||0}return t=cg.has(t)?t:Ec(t),e.getAttribute(t)}measureInstanceViewportBox(){return Pe()}scrapeMotionValuesFromProps(e,t){return hg(e,t)}build(e,t,r,s){Nc(e,t,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,r,s){ug(e,t,r,s)}mount(e){this.isSVGTag=kc(e.tagName),super.mount(e)}}const h1=(n,e)=>Sc(n)?new u1(e,{enableHardwareAcceleration:!1}):new c1(e,{enableHardwareAcceleration:!0}),d1={layout:{ProjectionNode:hy,MeasureLayout:sy}},f1={...FE,...iT,...zI,...d1},Q=mb((n,e)=>Hb(n,e,f1,h1));function gy(){const n=I.useRef(!1);return Tc(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function m1(){const n=gy(),[e,t]=I.useState(0),r=I.useCallback(()=>{n.current&&t(e+1)},[e]);return[I.useCallback(()=>de.postRender(r),[r]),e]}class p1 extends I.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function g1({children:n,isPresent:e}){const t=I.useId(),r=I.useRef(null),s=I.useRef({width:0,height:0,top:0,left:0});return I.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=t;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),I.createElement(p1,{isPresent:e,childRef:r,sizeRef:s},I.cloneElement(n,{ref:r}))}const rl=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=dg(y1),c=I.useId(),u=I.useMemo(()=>({id:c,initial:e,isPresent:t,custom:s,onExitComplete:d=>{l.set(d,!0);for(const m of l.values())if(!m)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[t]);return I.useMemo(()=>{l.forEach((d,m)=>l.set(m,!1))},[t]),I.useEffect(()=>{!t&&!l.size&&r&&r()},[t]),o==="popLayout"&&(n=I.createElement(g1,{isPresent:t},n)),I.createElement(Wo.Provider,{value:u},n)};function y1(){return new Map}function v1(n){return I.useEffect(()=>()=>n(),[])}const Kn=n=>n.key||"";function w1(n,e){n.forEach(t=>{const r=Kn(t);e.set(r,t)})}function _1(n){const e=[];return I.Children.forEach(n,t=>{I.isValidElement(t)&&e.push(t)}),e}const Fl=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=I.useContext(Cc).forceRender||m1()[0],c=gy(),u=_1(n);let d=u;const m=I.useRef(new Map).current,g=I.useRef(d),y=I.useRef(new Map).current,b=I.useRef(!0);if(Tc(()=>{b.current=!1,w1(u,y),g.current=d}),v1(()=>{b.current=!0,y.clear(),m.clear()}),b.current)return I.createElement(I.Fragment,null,d.map(k=>I.createElement(rl,{key:Kn(k),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:i,mode:o},k)));d=[...d];const T=g.current.map(Kn),x=u.map(Kn),V=T.length;for(let k=0;k<V;k++){const R=T[k];x.indexOf(R)===-1&&!m.has(R)&&m.set(R,void 0)}return o==="wait"&&m.size&&(d=[]),m.forEach((k,R)=>{if(x.indexOf(R)!==-1)return;const O=y.get(R);if(!O)return;const F=T.indexOf(R);let $=k;if(!$){const A=()=>{m.delete(R);const w=Array.from(y.keys()).filter(_=>!x.includes(_));if(w.forEach(_=>y.delete(_)),g.current=u.filter(_=>{const C=Kn(_);return C===R||w.includes(C)}),!m.size){if(c.current===!1)return;l(),r&&r()}};$=I.createElement(rl,{key:Kn(O),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:i,mode:o},O),m.set(R,$)}d.splice(F,0,$)}),d=d.map(k=>{const R=k.key;return m.has(R)?k:I.createElement(rl,{key:Kn(k),isPresent:!0,presenceAffectsLayout:i,mode:o},k)}),I.createElement(I.Fragment,null,m.size?d:d.map(k=>I.cloneElement(k)))},x1=bc("inline-flex items-center justify-center rounded-xl text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=Be.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},i)=>{const o=r?Lw:"button";return h.jsx(o,{className:tt(x1({variant:e,size:t,className:n})),ref:i,...s})});ae.displayName="Button";const b1=()=>{const[n,e]=I.useState(!1),t=dr(),{user:r}=cr(),s=()=>{e(!n)},i=()=>"/",o=[{name:"Home",path:"/"},{name:"About",path:"/learn"},{name:"Therapy",path:"/therapy"},{name:"Calculator",path:"/calculator"},{name:"Services",path:"/services"}];return h.jsx(h.Fragment,{children:h.jsxs("header",{className:"bg-white/80 backdrop-blur-lg shadow-lg sticky top-0 z-50",children:[h.jsx("div",{className:"container mx-auto px-4 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(yn,{to:"/",className:"flex items-center space-x-3",children:[h.jsx("img",{alt:"Logo",className:"h-16 w-auto",src:"/images/bhaggya darshhan.png"}),h.jsx("div",{className:"hidden sm:block",children:h.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"Vaastu Guru"})})]}),h.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:o.map(l=>h.jsx(yn,{to:l.path,className:`font-medium transition-colors duration-200 ${t.pathname===l.path?"text-orange-500":"text-gray-700 hover:text-orange-500"}`,children:l.name},l.name))}),h.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[h.jsx(Uh,{children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"text-gray-700",children:["Welcome",r!=null&&r.fullName?`, ${r.fullName}`:""]}),h.jsx(Bh,{appearance:{elements:{avatarBox:"h-10 w-10"}}})]})}),h.jsx(Yh,{children:h.jsx($t,{mode:"modal",afterSignInUrl:i(),afterSignUpUrl:i(),children:h.jsx(ae,{className:"orange-gradient text-white hover:orange-gradient-hover rounded-xl transition-transform duration-300 ease-in-out hover:scale-105",children:"Login / Sign Up"})})})]}),h.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[h.jsx(Uh,{children:h.jsx(Bh,{appearance:{elements:{avatarBox:"h-8 w-8"}}})}),h.jsx(Yh,{children:h.jsx($t,{mode:"modal",afterSignInUrl:i(),afterSignUpUrl:i(),children:h.jsx(ae,{size:"sm",className:"orange-gradient text-white hover:orange-gradient-hover rounded-xl transition-transform duration-300 ease-in-out hover:scale-105",children:"Login / Sign Up"})})}),h.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:h.jsx(Q.div,{animate:{rotate:n?90:0},transition:{duration:.3},children:h.jsx($x,{className:"h-6 w-6 text-orange-500"})})})]})]})}),h.jsx(Fl,{children:n&&h.jsx(Q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden bg-white border-t border-gray-200",children:h.jsx("div",{className:"container mx-auto px-4 py-4 space-y-4",children:o.map(l=>h.jsx(yn,{to:l.path,onClick:()=>e(!1),className:`block py-2 font-medium transition-colors duration-200 ${t.pathname===l.path?"text-orange-500":"text-gray-700 hover:text-orange-500"}`,children:l.name},l.name))})})})]})})};var yy={exports:{}},T1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",E1=T1,I1=E1;function vy(){}function wy(){}wy.resetWarningCache=vy;var A1=function(){function n(r,s,i,o,l,c){if(c!==I1){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wy,resetWarningCache:vy};return t.PropTypes=t,t};yy.exports=A1();var C1=yy.exports;const ge=zo(C1);function S1(n){return n&&typeof n=="object"&&"default"in n?n.default:n}var _y=I,P1=S1(_y);function ff(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function R1(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var N1=!!(typeof window<"u"&&window.document&&window.document.createElement);function k1(n,e,t){if(typeof n!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof t<"u"&&typeof t!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=n(o.map(function(d){return d.props})),u.canUseDOM?e(l):t&&(l=t(l))}var u=function(d){R1(m,d);function m(){return d.apply(this,arguments)||this}m.peek=function(){return l},m.rewind=function(){if(m.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var b=l;return l=void 0,o=[],b};var g=m.prototype;return g.UNSAFE_componentWillMount=function(){o.push(this),c()},g.componentDidUpdate=function(){c()},g.componentWillUnmount=function(){var b=o.indexOf(this);o.splice(b,1),c()},g.render=function(){return P1.createElement(i,this.props)},m}(_y.PureComponent);return ff(u,"displayName","SideEffect("+r(i)+")"),ff(u,"canUseDOM",N1),u}}var V1=k1;const j1=zo(V1);var D1=typeof Element<"u",O1=typeof Map=="function",M1=typeof Set=="function",L1=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function to(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,s;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!to(n[r],e[r]))return!1;return!0}var i;if(O1&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(i=n.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=n.entries();!(r=i.next()).done;)if(!to(r.value[1],e.get(r.value[0])))return!1;return!0}if(M1&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(i=n.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(L1&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof e.valueOf=="function")return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof e.toString=="function")return n.toString()===e.toString();if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(D1&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&n.$$typeof)&&!to(n[s[r]],e[s[r]]))return!1;return!0}return n!==n&&e!==e}var F1=function(e,t){try{return to(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const U1=zo(F1);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var mf=Object.getOwnPropertySymbols,B1=Object.prototype.hasOwnProperty,Y1=Object.prototype.propertyIsEnumerable;function $1(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function z1(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var q1=z1()?Object.assign:function(n,e){for(var t,r=$1(n),s,i=1;i<arguments.length;i++){t=Object(arguments[i]);for(var o in t)B1.call(t,o)&&(r[o]=t[o]);if(mf){s=mf(t);for(var l=0;l<s.length;l++)Y1.call(t,s[l])&&(r[s[l]]=t[s[l]])}}return r};const H1=zo(q1);var er={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},X={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(X).map(function(n){return X[n]});var ye={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Eo={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Gs={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},G1=Object.keys(Eo).reduce(function(n,e){return n[Eo[e]]=e,n},{}),W1=[X.NOSCRIPT,X.SCRIPT,X.STYLE],pt="data-react-helmet",K1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Q1=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},X1=function(){function n(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),nt=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},J1=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},pf=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},Z1=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},Ul=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},eA=function(e){var t=Dr(e,X.TITLE),r=Dr(e,Gs.TITLE_TEMPLATE);if(r&&t)return r.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var s=Dr(e,Gs.DEFAULT_TITLE);return t||s||void 0},tA=function(e){return Dr(e,Gs.ON_CHANGE_CLIENT_STATE)||function(){}},sl=function(e,t){return t.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return nt({},r,s)},{})},nA=function(e,t){return t.filter(function(r){return typeof r[X.BASE]<"u"}).map(function(r){return r[X.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},As=function(e,t,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&oA("Helmet: "+e+' should be of type "Array". Instead found type "'+K1(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var l={};o.filter(function(g){for(var y=void 0,b=Object.keys(g),T=0;T<b.length;T++){var x=b[T],V=x.toLowerCase();t.indexOf(V)!==-1&&!(y===ye.REL&&g[y].toLowerCase()==="canonical")&&!(V===ye.REL&&g[V].toLowerCase()==="stylesheet")&&(y=V),t.indexOf(x)!==-1&&(x===ye.INNER_HTML||x===ye.CSS_TEXT||x===ye.ITEM_PROP)&&(y=x)}if(!y||!g[y])return!1;var k=g[y].toLowerCase();return s[y]||(s[y]={}),l[y]||(l[y]={}),s[y][k]?!1:(l[y][k]=!0,!0)}).reverse().forEach(function(g){return i.push(g)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],m=H1({},s[d],l[d]);s[d]=m}return i},[]).reverse()},Dr=function(e,t){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(t))return s[t]}return null},rA=function(e){return{baseTag:nA([ye.HREF,ye.TARGET],e),bodyAttributes:sl(er.BODY,e),defer:Dr(e,Gs.DEFER),encode:Dr(e,Gs.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:sl(er.HTML,e),linkTags:As(X.LINK,[ye.REL,ye.HREF],e),metaTags:As(X.META,[ye.NAME,ye.CHARSET,ye.HTTPEQUIV,ye.PROPERTY,ye.ITEM_PROP],e),noscriptTags:As(X.NOSCRIPT,[ye.INNER_HTML],e),onChangeClientState:tA(e),scriptTags:As(X.SCRIPT,[ye.SRC,ye.INNER_HTML],e),styleTags:As(X.STYLE,[ye.CSS_TEXT],e),title:eA(e),titleAttributes:sl(er.TITLE,e)}},Bl=function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){Bl(e)},0)}}(),gf=function(e){return clearTimeout(e)},sA=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Bl:global.requestAnimationFrame||Bl,iA=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||gf:global.cancelAnimationFrame||gf,oA=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Cs=null,aA=function(e){Cs&&iA(Cs),e.defer?Cs=sA(function(){yf(e,function(){Cs=null})}):(yf(e),Cs=null)},yf=function(e,t){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,m=e.styleTags,g=e.title,y=e.titleAttributes;Yl(X.BODY,s),Yl(X.HTML,i),lA(g,y);var b={baseTag:Er(X.BASE,r),linkTags:Er(X.LINK,o),metaTags:Er(X.META,l),noscriptTags:Er(X.NOSCRIPT,c),scriptTags:Er(X.SCRIPT,d),styleTags:Er(X.STYLE,m)},T={},x={};Object.keys(b).forEach(function(V){var k=b[V],R=k.newTags,O=k.oldTags;R.length&&(T[V]=R),O.length&&(x[V]=b[V].oldTags)}),t&&t(),u(e,T,x)},xy=function(e){return Array.isArray(e)?e.join(""):e},lA=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=xy(e)),Yl(X.TITLE,t)},Yl=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(pt),i=s?s.split(","):[],o=[].concat(i),l=Object.keys(t),c=0;c<l.length;c++){var u=l[c],d=t[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var m=o.indexOf(u);m!==-1&&o.splice(m,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);i.length===o.length?r.removeAttribute(pt):r.getAttribute(pt)!==l.join(",")&&r.setAttribute(pt,l.join(","))}},Er=function(e,t){var r=document.head||document.querySelector(X.HEAD),s=r.querySelectorAll(e+"["+pt+"]"),i=Array.prototype.slice.call(s),o=[],l=void 0;return t&&t.length&&t.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===ye.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===ye.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var m=typeof c[d]>"u"?"":c[d];u.setAttribute(d,m)}u.setAttribute(pt,"true"),i.some(function(g,y){return l=y,u.isEqualNode(g)})?i.splice(l,1):o.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:i,newTags:o}},by=function(e){return Object.keys(e).reduce(function(t,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return t?t+" "+s:s},"")},cA=function(e,t,r,s){var i=by(r),o=xy(t);return i?"<"+e+" "+pt+'="true" '+i+">"+Ul(o,s)+"</"+e+">":"<"+e+" "+pt+'="true">'+Ul(o,s)+"</"+e+">"},uA=function(e,t,r){return t.reduce(function(s,i){var o=Object.keys(i).filter(function(u){return!(u===ye.INNER_HTML||u===ye.CSS_TEXT)}).reduce(function(u,d){var m=typeof i[d]>"u"?d:d+'="'+Ul(i[d],r)+'"';return u?u+" "+m:m},""),l=i.innerHTML||i.cssText||"",c=W1.indexOf(e)===-1;return s+"<"+e+" "+pt+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},Ty=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Eo[s]||s]=e[s],r},t)},hA=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[G1[s]||s]=e[s],r},t)},dA=function(e,t,r){var s,i=(s={key:t},s[pt]=!0,s),o=Ty(r,i);return[Be.createElement(X.TITLE,o,t)]},fA=function(e,t){return t.map(function(r,s){var i,o=(i={key:s},i[pt]=!0,i);return Object.keys(r).forEach(function(l){var c=Eo[l]||l;if(c===ye.INNER_HTML||c===ye.CSS_TEXT){var u=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=r[l]}),Be.createElement(e,o)})},Ft=function(e,t,r){switch(e){case X.TITLE:return{toComponent:function(){return dA(e,t.title,t.titleAttributes)},toString:function(){return cA(e,t.title,t.titleAttributes,r)}};case er.BODY:case er.HTML:return{toComponent:function(){return Ty(t)},toString:function(){return by(t)}};default:return{toComponent:function(){return fA(e,t)},toString:function(){return uA(e,t,r)}}}},Ey=function(e){var t=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,m=e.title,g=m===void 0?"":m,y=e.titleAttributes;return{base:Ft(X.BASE,t,s),bodyAttributes:Ft(er.BODY,r,s),htmlAttributes:Ft(er.HTML,i,s),link:Ft(X.LINK,o,s),meta:Ft(X.META,l,s),noscript:Ft(X.NOSCRIPT,c,s),script:Ft(X.SCRIPT,u,s),style:Ft(X.STYLE,d,s),title:Ft(X.TITLE,{title:g,titleAttributes:y},s)}},mA=function(e){var t,r;return r=t=function(s){J1(i,s);function i(){return Q1(this,i),Z1(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!U1(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case X.SCRIPT:case X.NOSCRIPT:return{innerHTML:c};case X.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,m=l.newChildProps,g=l.nestedChildren;return nt({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[nt({},m,this.mapNestedChildrenToProps(u,g))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,m=l.newProps,g=l.newChildProps,y=l.nestedChildren;switch(d.type){case X.TITLE:return nt({},m,(c={},c[d.type]=y,c.titleAttributes=nt({},g),c));case X.BODY:return nt({},m,{bodyAttributes:nt({},g)});case X.HTML:return nt({},m,{htmlAttributes:nt({},g)})}return nt({},m,(u={},u[d.type]=nt({},g),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=nt({},c);return Object.keys(l).forEach(function(d){var m;u=nt({},u,(m={},m[d]=l[d],m))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Be.Children.forEach(l,function(m){if(!(!m||!m.props)){var g=m.props,y=g.children,b=pf(g,["children"]),T=hA(b);switch(u.warnOnInvalidChildren(m,y),m.type){case X.LINK:case X.META:case X.NOSCRIPT:case X.SCRIPT:case X.STYLE:d=u.flattenArrayTypeChildren({child:m,arrayTypeChildren:d,newChildProps:T,nestedChildren:y});break;default:c=u.mapObjectTypeChildren({child:m,newProps:c,newChildProps:T,nestedChildren:y});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=pf(l,["children"]),d=nt({},u);return c&&(d=this.mapChildrenToProps(c,d)),Be.createElement(e,d)},X1(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Be.Component),t.propTypes={base:ge.object,bodyAttributes:ge.object,children:ge.oneOfType([ge.arrayOf(ge.node),ge.node]),defaultTitle:ge.string,defer:ge.bool,encodeSpecialCharacters:ge.bool,htmlAttributes:ge.object,link:ge.arrayOf(ge.object),meta:ge.arrayOf(ge.object),noscript:ge.arrayOf(ge.object),onChangeClientState:ge.func,script:ge.arrayOf(ge.object),style:ge.arrayOf(ge.object),title:ge.string,titleAttributes:ge.object,titleTemplate:ge.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var s=e.rewind();return s||(s=Ey({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},pA=function(){return null},gA=j1(rA,aA,Ey)(pA),nr=mA(gA);nr.renderStatic=nr.rewind;var yA="Label",Iy=I.forwardRef((n,e)=>h.jsx(Mn.label,{...n,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Iy.displayName=yA;var Ay=Iy;const vA=bc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),rr=Be.forwardRef(({className:n,...e},t)=>h.jsx(Ay,{ref:t,className:tt(vA(),n),...e}));rr.displayName=Ay.displayName;const Ws={_origin:"https://api.emailjs.com"},wA=(n,e="https://api.emailjs.com")=>{Ws._userID=n,Ws._origin=e},Cy=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class vf{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const Sy=(n,e,t={})=>new Promise((r,s)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:o})=>{const l=new vf(o);l.status===200||l.text==="OK"?r(l):s(l)}),i.addEventListener("error",({target:o})=>{s(new vf(o))}),i.open("POST",Ws._origin+n,!0),Object.keys(t).forEach(o=>{i.setRequestHeader(o,t[o])}),i.send(e)}),_A=(n,e,t,r)=>{const s=r||Ws._userID;return Cy(s,n,e),Sy("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:s,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},xA=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},bA=(n,e,t,r)=>{const s=r||Ws._userID,i=xA(t);Cy(s,n,e);const o=new FormData(i);return o.append("lib_version","3.12.1"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",s),Sy("/api/v1.0/email/send-form",o)},TA={init:wA,send:_A,sendForm:bA},EA="service_cs2zlx7",IA="template_26pllzl",AA="MHJLn1TUuJZRK9NVz",CA=async({name:n,phone:e})=>{try{const t={to_email:"Rishabhg101@gmail.com",from_name:"Vaastu Guru",name:n,phone:e,time:new Date().toLocaleString()};return await TA.send(EA,IA,t,AA),Re({title:"Request Sent!",description:"Our team will contact you shortly."}),!0}catch(t){return console.error("Failed to send email:",t),Re({title:"Error",description:"Could not send the request. Please try again later.",variant:"destructive"}),!1}},SA=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},PA=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],l=n[t++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ry={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,l=o?n[s+1]:0,c=s+2<n.length,u=c?n[s+2]:0,d=i>>2,m=(i&3)<<4|l>>4;let g=(l&15)<<2|u>>6,y=u&63;c||(y=64,o||(g=64)),r.push(t[d],t[m],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Py(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):PA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],l=s<n.length?t[n.charAt(s)]:0;++s;const u=s<n.length?t[n.charAt(s)]:64;++s;const m=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||l==null||u==null||m==null)throw new RA;const g=i<<2|l>>4;if(r.push(g),u!==64){const y=l<<4&240|u>>2;if(r.push(y),m!==64){const b=u<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NA=function(n){const e=Py(n);return Ry.encodeByteArray(e,!0)},Io=function(n){return NA(n).replace(/\./g,"")},Ny=function(n){try{return Ry.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=()=>kA().__FIREBASE_DEFAULTS__,jA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ny(n[1]);return e&&JSON.parse(e)},ta=()=>{try{return SA()||VA()||jA()||DA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ky=n=>{var e,t;return(t=(e=ta())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},OA=n=>{const e=ky(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Vy=()=>{var n;return(n=ta())===null||n===void 0?void 0:n.config},jy=n=>{var e;return(e=ta())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n),l="";return[Io(JSON.stringify(t)),Io(JSON.stringify(o)),l].join(".")}const Os={};function FA(){const n={prod:[],emulator:[]};for(const e of Object.keys(Os))Os[e]?n.emulator.push(e):n.prod.push(e);return n}function UA(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let wf=!1;function Oy(n,e){if(typeof window>"u"||typeof document>"u"||!es(window.location.host)||Os[n]===e||Os[n]||wf)return;Os[n]=e;function t(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=FA().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{wf=!0,o()},g}function d(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=UA(r),y=t("text"),b=document.getElementById(y)||document.createElement("span"),T=t("learnmore"),x=document.getElementById(T)||document.createElement("a"),V=t("preprendIcon"),k=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const R=g.element;l(R),d(x,T);const O=u();c(k,V),R.append(k,b,x,O),document.body.appendChild(R)}i?(b.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function YA(){var n;const e=(n=ta())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const n=Qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function GA(){return!YA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function KA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="FirebaseError";class Zt extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=QA,Object.setPrototypeOf(this,Zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,di.prototype.create)}}class di{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?XA(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Zt(s,l,r)}}function XA(n,e){return n.replace(JA,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const JA=/\{\$([^}]+)}/g;function ZA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function sr(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(_f(i)&&_f(o)){if(!sr(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function _f(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eC(n,e){const t=new tC(n,e);return t.subscribe.bind(t)}class tC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");nC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=il),s.error===void 0&&(s.error=il),s.complete===void 0&&(s.complete=il);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function il(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(n){return n&&n._delegate?n._delegate:n}class ir{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new MA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iC(e))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qn){return this.instances.has(e)}getOptions(e=Qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qn){return this.component?this.component.multipleInstances?e:Qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sC(n){return n===Qn?void 0:n}function iC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(te||(te={}));const aC={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},lC=te.INFO,cC={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},uC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=cC[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qc{constructor(e){this.name=e,this._logLevel=lC,this._logHandler=uC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const hC=(n,e)=>e.some(t=>n instanceof t);let xf,bf;function dC(){return xf||(xf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fC(){return bf||(bf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const My=new WeakMap,$l=new WeakMap,Ly=new WeakMap,ol=new WeakMap,Hc=new WeakMap;function mC(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(xn(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&My.set(t,n)}).catch(()=>{}),Hc.set(e,n),e}function pC(n){if($l.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});$l.set(n,e)}let zl={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $l.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ly.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gC(n){zl=n(zl)}function yC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(al(this),e,...t);return Ly.set(r,e.sort?e.sort():[e]),xn(r)}:fC().includes(n)?function(...e){return n.apply(al(this),e),xn(My.get(this))}:function(...e){return xn(n.apply(al(this),e))}}function vC(n){return typeof n=="function"?yC(n):(n instanceof IDBTransaction&&pC(n),hC(n,dC())?new Proxy(n,zl):n)}function xn(n){if(n instanceof IDBRequest)return mC(n);if(ol.has(n))return ol.get(n);const e=vC(n);return e!==n&&(ol.set(n,e),Hc.set(e,n)),e}const al=n=>Hc.get(n);function wC(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),l=xn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(xn(o.result),c.oldVersion,c.newVersion,xn(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const _C=["get","getKey","getAll","getAllKeys","count"],xC=["put","add","delete","clear"],ll=new Map;function Tf(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ll.get(e))return ll.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=xC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||_C.includes(t)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[t](...l),s&&c.done]))[0]};return ll.set(e,i),i}gC(n=>({...n,get:(e,t,r)=>Tf(e,t)||n.get(e,t,r),has:(e,t)=>!!Tf(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(TC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function TC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ql="@firebase/app",Ef="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt=new qc("@firebase/app"),EC="@firebase/app-compat",IC="@firebase/analytics-compat",AC="@firebase/analytics",CC="@firebase/app-check-compat",SC="@firebase/app-check",PC="@firebase/auth",RC="@firebase/auth-compat",NC="@firebase/database",kC="@firebase/data-connect",VC="@firebase/database-compat",jC="@firebase/functions",DC="@firebase/functions-compat",OC="@firebase/installations",MC="@firebase/installations-compat",LC="@firebase/messaging",FC="@firebase/messaging-compat",UC="@firebase/performance",BC="@firebase/performance-compat",YC="@firebase/remote-config",$C="@firebase/remote-config-compat",zC="@firebase/storage",qC="@firebase/storage-compat",HC="@firebase/firestore",GC="@firebase/ai",WC="@firebase/firestore-compat",KC="firebase",QC="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="[DEFAULT]",XC={[ql]:"fire-core",[EC]:"fire-core-compat",[AC]:"fire-analytics",[IC]:"fire-analytics-compat",[SC]:"fire-app-check",[CC]:"fire-app-check-compat",[PC]:"fire-auth",[RC]:"fire-auth-compat",[NC]:"fire-rtdb",[kC]:"fire-data-connect",[VC]:"fire-rtdb-compat",[jC]:"fire-fn",[DC]:"fire-fn-compat",[OC]:"fire-iid",[MC]:"fire-iid-compat",[LC]:"fire-fcm",[FC]:"fire-fcm-compat",[UC]:"fire-perf",[BC]:"fire-perf-compat",[YC]:"fire-rc",[$C]:"fire-rc-compat",[zC]:"fire-gcs",[qC]:"fire-gcs-compat",[HC]:"fire-fst",[WC]:"fire-fst-compat",[GC]:"fire-vertex","fire-js":"fire-js",[KC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Map,JC=new Map,Gl=new Map;function If(n,e){try{n.container.addComponent(e)}catch(t){Wt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zr(n){const e=n.name;if(Gl.has(e))return Wt.debug(`There were multiple attempts to register component ${e}.`),!1;Gl.set(e,n);for(const t of Ao.values())If(t,n);for(const t of JC.values())If(t,n);return!0}function Gc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bn=new di("app","Firebase",ZC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=QC;function Fy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hl,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw bn.create("bad-app-name",{appName:String(s)});if(t||(t=Vy()),!t)throw bn.create("no-options");const i=Ao.get(s);if(i){if(sr(t,i.options)&&sr(r,i.config))return i;throw bn.create("duplicate-app",{appName:s})}const o=new oC(s);for(const c of Gl.values())o.addComponent(c);const l=new eS(t,r,o);return Ao.set(s,l),l}function Uy(n=Hl){const e=Ao.get(n);if(!e&&n===Hl&&Vy())return Fy();if(!e)throw bn.create("no-app",{appName:n});return e}function Tn(n,e,t){var r;let s=(r=XC[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wt.warn(l.join(" "));return}zr(new ir(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="firebase-heartbeat-database",nS=1,Ks="firebase-heartbeat-store";let cl=null;function By(){return cl||(cl=wC(tS,nS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ks)}catch(t){console.warn(t)}}}}).catch(n=>{throw bn.create("idb-open",{originalErrorMessage:n.message})})),cl}async function rS(n){try{const t=(await By()).transaction(Ks),r=await t.objectStore(Ks).get(Yy(n));return await t.done,r}catch(e){if(e instanceof Zt)Wt.warn(e.message);else{const t=bn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wt.warn(t.message)}}}async function Af(n,e){try{const r=(await By()).transaction(Ks,"readwrite");await r.objectStore(Ks).put(e,Yy(n)),await r.done}catch(t){if(t instanceof Zt)Wt.warn(t.message);else{const r=bn.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wt.warn(r.message)}}}function Yy(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=1024,iS=30;class oS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lS(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cf();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>iS){const o=cS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Cf(),{heartbeatsToSend:r,unsentEntries:s}=aS(this._heartbeatsCache.heartbeats),i=Io(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Wt.warn(t),""}}}function Cf(){return new Date().toISOString().substring(0,10)}function aS(n,e=sS){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Sf(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Sf(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class lS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?KA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Af(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Af(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Sf(n){return Io(JSON.stringify({version:2,heartbeats:n})).length}function cS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(n){zr(new ir("platform-logger",e=>new bC(e),"PRIVATE")),zr(new ir("heartbeat",e=>new oS(e),"PRIVATE")),Tn(ql,Ef,n),Tn(ql,Ef,"esm2017"),Tn("fire-js","")}uS("");var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var En,$y;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,w){function _(){}_.prototype=w.prototype,A.D=w.prototype,A.prototype=new _,A.prototype.constructor=A,A.C=function(C,P,S){for(var E=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)E[Y-2]=arguments[Y];return w.prototype[P].apply(C,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,w,_){_||(_=0);var C=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)C[P]=w.charCodeAt(_++)|w.charCodeAt(_++)<<8|w.charCodeAt(_++)<<16|w.charCodeAt(_++)<<24;else for(P=0;16>P;++P)C[P]=w[_++]|w[_++]<<8|w[_++]<<16|w[_++]<<24;w=A.g[0],_=A.g[1],P=A.g[2];var S=A.g[3],E=w+(S^_&(P^S))+C[0]+3614090360&4294967295;w=_+(E<<7&4294967295|E>>>25),E=S+(P^w&(_^P))+C[1]+3905402710&4294967295,S=w+(E<<12&4294967295|E>>>20),E=P+(_^S&(w^_))+C[2]+606105819&4294967295,P=S+(E<<17&4294967295|E>>>15),E=_+(w^P&(S^w))+C[3]+3250441966&4294967295,_=P+(E<<22&4294967295|E>>>10),E=w+(S^_&(P^S))+C[4]+4118548399&4294967295,w=_+(E<<7&4294967295|E>>>25),E=S+(P^w&(_^P))+C[5]+1200080426&4294967295,S=w+(E<<12&4294967295|E>>>20),E=P+(_^S&(w^_))+C[6]+2821735955&4294967295,P=S+(E<<17&4294967295|E>>>15),E=_+(w^P&(S^w))+C[7]+4249261313&4294967295,_=P+(E<<22&4294967295|E>>>10),E=w+(S^_&(P^S))+C[8]+1770035416&4294967295,w=_+(E<<7&4294967295|E>>>25),E=S+(P^w&(_^P))+C[9]+2336552879&4294967295,S=w+(E<<12&4294967295|E>>>20),E=P+(_^S&(w^_))+C[10]+4294925233&4294967295,P=S+(E<<17&4294967295|E>>>15),E=_+(w^P&(S^w))+C[11]+2304563134&4294967295,_=P+(E<<22&4294967295|E>>>10),E=w+(S^_&(P^S))+C[12]+1804603682&4294967295,w=_+(E<<7&4294967295|E>>>25),E=S+(P^w&(_^P))+C[13]+4254626195&4294967295,S=w+(E<<12&4294967295|E>>>20),E=P+(_^S&(w^_))+C[14]+2792965006&4294967295,P=S+(E<<17&4294967295|E>>>15),E=_+(w^P&(S^w))+C[15]+1236535329&4294967295,_=P+(E<<22&4294967295|E>>>10),E=w+(P^S&(_^P))+C[1]+4129170786&4294967295,w=_+(E<<5&4294967295|E>>>27),E=S+(_^P&(w^_))+C[6]+3225465664&4294967295,S=w+(E<<9&4294967295|E>>>23),E=P+(w^_&(S^w))+C[11]+643717713&4294967295,P=S+(E<<14&4294967295|E>>>18),E=_+(S^w&(P^S))+C[0]+3921069994&4294967295,_=P+(E<<20&4294967295|E>>>12),E=w+(P^S&(_^P))+C[5]+3593408605&4294967295,w=_+(E<<5&4294967295|E>>>27),E=S+(_^P&(w^_))+C[10]+38016083&4294967295,S=w+(E<<9&4294967295|E>>>23),E=P+(w^_&(S^w))+C[15]+3634488961&4294967295,P=S+(E<<14&4294967295|E>>>18),E=_+(S^w&(P^S))+C[4]+3889429448&4294967295,_=P+(E<<20&4294967295|E>>>12),E=w+(P^S&(_^P))+C[9]+568446438&4294967295,w=_+(E<<5&4294967295|E>>>27),E=S+(_^P&(w^_))+C[14]+3275163606&4294967295,S=w+(E<<9&4294967295|E>>>23),E=P+(w^_&(S^w))+C[3]+4107603335&4294967295,P=S+(E<<14&4294967295|E>>>18),E=_+(S^w&(P^S))+C[8]+1163531501&4294967295,_=P+(E<<20&4294967295|E>>>12),E=w+(P^S&(_^P))+C[13]+2850285829&4294967295,w=_+(E<<5&4294967295|E>>>27),E=S+(_^P&(w^_))+C[2]+4243563512&4294967295,S=w+(E<<9&4294967295|E>>>23),E=P+(w^_&(S^w))+C[7]+1735328473&4294967295,P=S+(E<<14&4294967295|E>>>18),E=_+(S^w&(P^S))+C[12]+2368359562&4294967295,_=P+(E<<20&4294967295|E>>>12),E=w+(_^P^S)+C[5]+4294588738&4294967295,w=_+(E<<4&4294967295|E>>>28),E=S+(w^_^P)+C[8]+2272392833&4294967295,S=w+(E<<11&4294967295|E>>>21),E=P+(S^w^_)+C[11]+1839030562&4294967295,P=S+(E<<16&4294967295|E>>>16),E=_+(P^S^w)+C[14]+4259657740&4294967295,_=P+(E<<23&4294967295|E>>>9),E=w+(_^P^S)+C[1]+2763975236&4294967295,w=_+(E<<4&4294967295|E>>>28),E=S+(w^_^P)+C[4]+1272893353&4294967295,S=w+(E<<11&4294967295|E>>>21),E=P+(S^w^_)+C[7]+4139469664&4294967295,P=S+(E<<16&4294967295|E>>>16),E=_+(P^S^w)+C[10]+3200236656&4294967295,_=P+(E<<23&4294967295|E>>>9),E=w+(_^P^S)+C[13]+681279174&4294967295,w=_+(E<<4&4294967295|E>>>28),E=S+(w^_^P)+C[0]+3936430074&4294967295,S=w+(E<<11&4294967295|E>>>21),E=P+(S^w^_)+C[3]+3572445317&4294967295,P=S+(E<<16&4294967295|E>>>16),E=_+(P^S^w)+C[6]+76029189&4294967295,_=P+(E<<23&4294967295|E>>>9),E=w+(_^P^S)+C[9]+3654602809&4294967295,w=_+(E<<4&4294967295|E>>>28),E=S+(w^_^P)+C[12]+3873151461&4294967295,S=w+(E<<11&4294967295|E>>>21),E=P+(S^w^_)+C[15]+530742520&4294967295,P=S+(E<<16&4294967295|E>>>16),E=_+(P^S^w)+C[2]+3299628645&4294967295,_=P+(E<<23&4294967295|E>>>9),E=w+(P^(_|~S))+C[0]+4096336452&4294967295,w=_+(E<<6&4294967295|E>>>26),E=S+(_^(w|~P))+C[7]+1126891415&4294967295,S=w+(E<<10&4294967295|E>>>22),E=P+(w^(S|~_))+C[14]+2878612391&4294967295,P=S+(E<<15&4294967295|E>>>17),E=_+(S^(P|~w))+C[5]+4237533241&4294967295,_=P+(E<<21&4294967295|E>>>11),E=w+(P^(_|~S))+C[12]+1700485571&4294967295,w=_+(E<<6&4294967295|E>>>26),E=S+(_^(w|~P))+C[3]+2399980690&4294967295,S=w+(E<<10&4294967295|E>>>22),E=P+(w^(S|~_))+C[10]+4293915773&4294967295,P=S+(E<<15&4294967295|E>>>17),E=_+(S^(P|~w))+C[1]+2240044497&4294967295,_=P+(E<<21&4294967295|E>>>11),E=w+(P^(_|~S))+C[8]+1873313359&4294967295,w=_+(E<<6&4294967295|E>>>26),E=S+(_^(w|~P))+C[15]+4264355552&4294967295,S=w+(E<<10&4294967295|E>>>22),E=P+(w^(S|~_))+C[6]+2734768916&4294967295,P=S+(E<<15&4294967295|E>>>17),E=_+(S^(P|~w))+C[13]+1309151649&4294967295,_=P+(E<<21&4294967295|E>>>11),E=w+(P^(_|~S))+C[4]+4149444226&4294967295,w=_+(E<<6&4294967295|E>>>26),E=S+(_^(w|~P))+C[11]+3174756917&4294967295,S=w+(E<<10&4294967295|E>>>22),E=P+(w^(S|~_))+C[2]+718787259&4294967295,P=S+(E<<15&4294967295|E>>>17),E=_+(S^(P|~w))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+w&4294967295,A.g[1]=A.g[1]+(P+(E<<21&4294967295|E>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+S&4294967295}r.prototype.u=function(A,w){w===void 0&&(w=A.length);for(var _=w-this.blockSize,C=this.B,P=this.h,S=0;S<w;){if(P==0)for(;S<=_;)s(this,A,S),S+=this.blockSize;if(typeof A=="string"){for(;S<w;)if(C[P++]=A.charCodeAt(S++),P==this.blockSize){s(this,C),P=0;break}}else for(;S<w;)if(C[P++]=A[S++],P==this.blockSize){s(this,C),P=0;break}}this.h=P,this.o+=w},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var w=1;w<A.length-8;++w)A[w]=0;var _=8*this.o;for(w=A.length-8;w<A.length;++w)A[w]=_&255,_/=256;for(this.u(A),A=Array(16),w=_=0;4>w;++w)for(var C=0;32>C;C+=8)A[_++]=this.g[w]>>>C&255;return A};function i(A,w){var _=l;return Object.prototype.hasOwnProperty.call(_,A)?_[A]:_[A]=w(A)}function o(A,w){this.h=w;for(var _=[],C=!0,P=A.length-1;0<=P;P--){var S=A[P]|0;C&&S==w||(_[P]=S,C=!1)}this.g=_}var l={};function c(A){return-128<=A&&128>A?i(A,function(w){return new o([w|0],0>w?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return x(u(-A));for(var w=[],_=1,C=0;A>=_;C++)w[C]=A/_|0,_*=4294967296;return new o(w,0)}function d(A,w){if(A.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A.charAt(0)=="-")return x(d(A.substring(1),w));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(w,8)),C=m,P=0;P<A.length;P+=8){var S=Math.min(8,A.length-P),E=parseInt(A.substring(P,P+S),w);8>S?(S=u(Math.pow(w,S)),C=C.j(S).add(u(E))):(C=C.j(_),C=C.add(u(E)))}return C}var m=c(0),g=c(1),y=c(16777216);n=o.prototype,n.m=function(){if(T(this))return-x(this).m();for(var A=0,w=1,_=0;_<this.g.length;_++){var C=this.i(_);A+=(0<=C?C:4294967296+C)*w,w*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b(this))return"0";if(T(this))return"-"+x(this).toString(A);for(var w=u(Math.pow(A,6)),_=this,C="";;){var P=O(_,w).g;_=V(_,P.j(w));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(A);if(_=P,b(_))return S+C;for(;6>S.length;)S="0"+S;C=S+C}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function b(A){if(A.h!=0)return!1;for(var w=0;w<A.g.length;w++)if(A.g[w]!=0)return!1;return!0}function T(A){return A.h==-1}n.l=function(A){return A=V(this,A),T(A)?-1:b(A)?0:1};function x(A){for(var w=A.g.length,_=[],C=0;C<w;C++)_[C]=~A.g[C];return new o(_,~A.h).add(g)}n.abs=function(){return T(this)?x(this):this},n.add=function(A){for(var w=Math.max(this.g.length,A.g.length),_=[],C=0,P=0;P<=w;P++){var S=C+(this.i(P)&65535)+(A.i(P)&65535),E=(S>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);C=E>>>16,S&=65535,E&=65535,_[P]=E<<16|S}return new o(_,_[_.length-1]&-2147483648?-1:0)};function V(A,w){return A.add(x(w))}n.j=function(A){if(b(this)||b(A))return m;if(T(this))return T(A)?x(this).j(x(A)):x(x(this).j(A));if(T(A))return x(this.j(x(A)));if(0>this.l(y)&&0>A.l(y))return u(this.m()*A.m());for(var w=this.g.length+A.g.length,_=[],C=0;C<2*w;C++)_[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<A.g.length;P++){var S=this.i(C)>>>16,E=this.i(C)&65535,Y=A.i(P)>>>16,ce=A.i(P)&65535;_[2*C+2*P]+=E*ce,k(_,2*C+2*P),_[2*C+2*P+1]+=S*ce,k(_,2*C+2*P+1),_[2*C+2*P+1]+=E*Y,k(_,2*C+2*P+1),_[2*C+2*P+2]+=S*Y,k(_,2*C+2*P+2)}for(C=0;C<w;C++)_[C]=_[2*C+1]<<16|_[2*C];for(C=w;C<2*w;C++)_[C]=0;return new o(_,0)};function k(A,w){for(;(A[w]&65535)!=A[w];)A[w+1]+=A[w]>>>16,A[w]&=65535,w++}function R(A,w){this.g=A,this.h=w}function O(A,w){if(b(w))throw Error("division by zero");if(b(A))return new R(m,m);if(T(A))return w=O(x(A),w),new R(x(w.g),x(w.h));if(T(w))return w=O(A,x(w)),new R(x(w.g),w.h);if(30<A.g.length){if(T(A)||T(w))throw Error("slowDivide_ only works with positive integers.");for(var _=g,C=w;0>=C.l(A);)_=F(_),C=F(C);var P=$(_,1),S=$(C,1);for(C=$(C,2),_=$(_,2);!b(C);){var E=S.add(C);0>=E.l(A)&&(P=P.add(_),S=E),C=$(C,1),_=$(_,1)}return w=V(A,P.j(w)),new R(P,w)}for(P=m;0<=A.l(w);){for(_=Math.max(1,Math.floor(A.m()/w.m())),C=Math.ceil(Math.log(_)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),S=u(_),E=S.j(w);T(E)||0<E.l(A);)_-=C,S=u(_),E=S.j(w);b(S)&&(S=g),P=P.add(S),A=V(A,E)}return new R(P,A)}n.A=function(A){return O(this,A).h},n.and=function(A){for(var w=Math.max(this.g.length,A.g.length),_=[],C=0;C<w;C++)_[C]=this.i(C)&A.i(C);return new o(_,this.h&A.h)},n.or=function(A){for(var w=Math.max(this.g.length,A.g.length),_=[],C=0;C<w;C++)_[C]=this.i(C)|A.i(C);return new o(_,this.h|A.h)},n.xor=function(A){for(var w=Math.max(this.g.length,A.g.length),_=[],C=0;C<w;C++)_[C]=this.i(C)^A.i(C);return new o(_,this.h^A.h)};function F(A){for(var w=A.g.length+1,_=[],C=0;C<w;C++)_[C]=A.i(C)<<1|A.i(C-1)>>>31;return new o(_,A.h)}function $(A,w){var _=w>>5;w%=32;for(var C=A.g.length-_,P=[],S=0;S<C;S++)P[S]=0<w?A.i(S+_)>>>w|A.i(S+_+1)<<32-w:A.i(S+_);return new o(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$y=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,En=o}).apply(typeof Pf<"u"?Pf:typeof self<"u"?self:typeof window<"u"?window:{});var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zy,Ps,qy,no,Wl,Hy,Gy,Wy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,p){return a==Array.prototype||a==Object.prototype||(a[f]=p.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof qi=="object"&&qi];for(var f=0;f<a.length;++f){var p=a[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function s(a,f){if(f)e:{var p=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var N=a[v];if(!(N in p))break e;p=p[N]}a=a[a.length-1],v=p[a],f=f(v),f!=v&&f!=null&&e(p,a,{configurable:!0,writable:!0,value:f})}}function i(a,f){a instanceof String&&(a+="");var p=0,v=!1,N={next:function(){if(!v&&p<a.length){var j=p++;return{value:f(j,a[j]),done:!1}}return v=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}s("Array.prototype.values",function(a){return a||function(){return i(this,function(f,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function u(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function d(a,f,p){return a.call.apply(a.bind,arguments)}function m(a,f,p){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,v),a.apply(f,N)}}return function(){return a.apply(f,arguments)}}function g(a,f,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,g.apply(null,arguments)}function y(a,f){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function b(a,f){function p(){}p.prototype=f.prototype,a.aa=f.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(v,N,j){for(var L=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)L[ue-2]=arguments[ue];return f.prototype[N].apply(v,L)}}function T(a){const f=a.length;if(0<f){const p=Array(f);for(let v=0;v<f;v++)p[v]=a[v];return p}return[]}function x(a,f){for(let p=1;p<arguments.length;p++){const v=arguments[p];if(c(v)){const N=a.length||0,j=v.length||0;a.length=N+j;for(let L=0;L<j;L++)a[N+L]=v[L]}else a.push(v)}}class V{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function k(a){return/^[\s\xa0]*$/.test(a)}function R(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var F=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function $(a,f,p){for(const v in a)f.call(p,a[v],v,a)}function A(a,f){for(const p in a)f.call(void 0,a[p],p,a)}function w(a){const f={};for(const p in a)f[p]=a[p];return f}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(a,f){let p,v;for(let N=1;N<arguments.length;N++){v=arguments[N];for(p in v)a[p]=v[p];for(let j=0;j<_.length;j++)p=_[j],Object.prototype.hasOwnProperty.call(v,p)&&(a[p]=v[p])}}function P(a){var f=1;a=a.split(":");const p=[];for(;0<f&&a.length;)p.push(a.shift()),f--;return a.length&&p.push(a.join(":")),p}function S(a){l.setTimeout(()=>{throw a},0)}function E(){var a=Ae;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Y{constructor(){this.h=this.g=null}add(f,p){const v=ce.get();v.set(f,p),this.h?this.h.next=v:this.g=v,this.h=v}}var ce=new V(()=>new se,a=>a.reset());class se{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Ie=!1,Ae=new Y,wt=()=>{const a=l.Promise.resolve(void 0);ve=()=>{a.then(ie)}};var ie=()=>{for(var a;a=E();){try{a.h.call(a.g)}catch(p){S(p)}var f=ce;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}Ie=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var Un=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,f),l.removeEventListener("test",p,f)}catch{}return a}();function en(a,f){if(Z.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(F){e:{try{O(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else p=="mouseover"?f=a.fromElement:p=="mouseout"&&(f=a.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Bn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&en.aa.h.call(this)}}b(en,Z);var Bn={2:"touch",3:"pen",4:"mouse"};en.prototype.h=function(){en.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var tn="closure_listenable_"+(1e6*Math.random()|0),va=0;function ls(a,f,p,v,N){this.listener=a,this.proxy=null,this.src=f,this.type=p,this.capture=!!v,this.ha=N,this.key=++va,this.da=this.fa=!1}function Ot(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function at(a){this.src=a,this.g={},this.h=0}at.prototype.add=function(a,f,p,v,N){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var L=wa(a,f,v,N);return-1<L?(f=a[L],p||(f.fa=!1)):(f=new ls(f,this.src,j,!!v,N),f.fa=p,a.push(f)),f};function bi(a,f){var p=f.type;if(p in a.g){var v=a.g[p],N=Array.prototype.indexOf.call(v,f,void 0),j;(j=0<=N)&&Array.prototype.splice.call(v,N,1),j&&(Ot(f),a.g[p].length==0&&(delete a.g[p],a.h--))}}function wa(a,f,p,v){for(var N=0;N<a.length;++N){var j=a[N];if(!j.da&&j.listener==f&&j.capture==!!p&&j.ha==v)return N}return-1}var _a="closure_lm_"+(1e6*Math.random()|0),xa={};function Uu(a,f,p,v,N){if(v&&v.once)return Yu(a,f,p,v,N);if(Array.isArray(f)){for(var j=0;j<f.length;j++)Uu(a,f[j],p,v,N);return null}return p=Ia(p),a&&a[tn]?a.K(f,p,u(v)?!!v.capture:!!v,N):Bu(a,f,p,!1,v,N)}function Bu(a,f,p,v,N,j){if(!f)throw Error("Invalid event type");var L=u(N)?!!N.capture:!!N,ue=Ta(a);if(ue||(a[_a]=ue=new at(a)),p=ue.add(f,p,v,L,j),p.proxy)return p;if(v=tw(),p.proxy=v,v.src=a,v.listener=p,a.addEventListener)Un||(N=L),N===void 0&&(N=!1),a.addEventListener(f.toString(),v,N);else if(a.attachEvent)a.attachEvent(zu(f.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function tw(){function a(p){return f.call(a.src,a.listener,p)}const f=nw;return a}function Yu(a,f,p,v,N){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Yu(a,f[j],p,v,N);return null}return p=Ia(p),a&&a[tn]?a.L(f,p,u(v)?!!v.capture:!!v,N):Bu(a,f,p,!0,v,N)}function $u(a,f,p,v,N){if(Array.isArray(f))for(var j=0;j<f.length;j++)$u(a,f[j],p,v,N);else v=u(v)?!!v.capture:!!v,p=Ia(p),a&&a[tn]?(a=a.i,f=String(f).toString(),f in a.g&&(j=a.g[f],p=wa(j,p,v,N),-1<p&&(Ot(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete a.g[f],a.h--)))):a&&(a=Ta(a))&&(f=a.g[f.toString()],a=-1,f&&(a=wa(f,p,v,N)),(p=-1<a?f[a]:null)&&ba(p))}function ba(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[tn])bi(f.i,a);else{var p=a.type,v=a.proxy;f.removeEventListener?f.removeEventListener(p,v,a.capture):f.detachEvent?f.detachEvent(zu(p),v):f.addListener&&f.removeListener&&f.removeListener(v),(p=Ta(f))?(bi(p,a),p.h==0&&(p.src=null,f[_a]=null)):Ot(a)}}}function zu(a){return a in xa?xa[a]:xa[a]="on"+a}function nw(a,f){if(a.da)a=!0;else{f=new en(f,this);var p=a.listener,v=a.ha||a.src;a.fa&&ba(a),a=p.call(v,f)}return a}function Ta(a){return a=a[_a],a instanceof at?a:null}var Ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ia(a){return typeof a=="function"?a:(a[Ea]||(a[Ea]=function(f){return a.handleEvent(f)}),a[Ea])}function $e(){we.call(this),this.i=new at(this),this.M=this,this.F=null}b($e,we),$e.prototype[tn]=!0,$e.prototype.removeEventListener=function(a,f,p,v){$u(this,a,f,p,v)};function Xe(a,f){var p,v=a.F;if(v)for(p=[];v;v=v.F)p.push(v);if(a=a.M,v=f.type||f,typeof f=="string")f=new Z(f,a);else if(f instanceof Z)f.target=f.target||a;else{var N=f;f=new Z(v,a),C(f,N)}if(N=!0,p)for(var j=p.length-1;0<=j;j--){var L=f.g=p[j];N=Ti(L,v,!0,f)&&N}if(L=f.g=a,N=Ti(L,v,!0,f)&&N,N=Ti(L,v,!1,f)&&N,p)for(j=0;j<p.length;j++)L=f.g=p[j],N=Ti(L,v,!1,f)&&N}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var p=a.g[f],v=0;v<p.length;v++)Ot(p[v]);delete a.g[f],a.h--}}this.F=null},$e.prototype.K=function(a,f,p,v){return this.i.add(String(a),f,!1,p,v)},$e.prototype.L=function(a,f,p,v){return this.i.add(String(a),f,!0,p,v)};function Ti(a,f,p,v){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,j=0;j<f.length;++j){var L=f[j];if(L&&!L.da&&L.capture==p){var ue=L.listener,Le=L.ha||L.src;L.fa&&bi(a.i,L),N=ue.call(Le,v)!==!1&&N}}return N&&!v.defaultPrevented}function qu(a,f,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function Hu(a){a.g=qu(()=>{a.g=null,a.i&&(a.i=!1,Hu(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class rw extends we{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Hu(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(a){we.call(this),this.h=a,this.g={}}b(cs,we);var Gu=[];function Wu(a){$(a.g,function(f,p){this.g.hasOwnProperty(p)&&ba(f)},a),a.g={}}cs.prototype.N=function(){cs.aa.N.call(this),Wu(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Aa=l.JSON.stringify,sw=l.JSON.parse,iw=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ca(){}Ca.prototype.h=null;function Ku(a){return a.h||(a.h=a.i())}function Qu(){}var us={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sa(){Z.call(this,"d")}b(Sa,Z);function Pa(){Z.call(this,"c")}b(Pa,Z);var Yn={},Xu=null;function Ei(){return Xu=Xu||new $e}Yn.La="serverreachability";function Ju(a){Z.call(this,Yn.La,a)}b(Ju,Z);function hs(a){const f=Ei();Xe(f,new Ju(f))}Yn.STAT_EVENT="statevent";function Zu(a,f){Z.call(this,Yn.STAT_EVENT,a),this.stat=f}b(Zu,Z);function Je(a){const f=Ei();Xe(f,new Zu(f,a))}Yn.Ma="timingevent";function eh(a,f){Z.call(this,Yn.Ma,a),this.size=f}b(eh,Z);function ds(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function fs(){this.g=!0}fs.prototype.xa=function(){this.g=!1};function ow(a,f,p,v,N,j){a.info(function(){if(a.g)if(j)for(var L="",ue=j.split("&"),Le=0;Le<ue.length;Le++){var oe=ue[Le].split("=");if(1<oe.length){var ze=oe[0];oe=oe[1];var qe=ze.split("_");L=2<=qe.length&&qe[1]=="type"?L+(ze+"="+oe+"&"):L+(ze+"=redacted&")}}else L=null;else L=j;return"XMLHTTP REQ ("+v+") [attempt "+N+"]: "+f+`
`+p+`
`+L})}function aw(a,f,p,v,N,j,L){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+N+"]: "+f+`
`+p+`
`+j+" "+L})}function _r(a,f,p,v){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+cw(a,p)+(v?" "+v:"")})}function lw(a,f){a.info(function(){return"TIMEOUT: "+f})}fs.prototype.info=function(){};function cw(a,f){if(!a.g)return f;if(!f)return null;try{var p=JSON.parse(f);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var v=p[a];if(!(2>v.length)){var N=v[1];if(Array.isArray(N)&&!(1>N.length)){var j=N[0];if(j!="noop"&&j!="stop"&&j!="close")for(var L=1;L<N.length;L++)N[L]=""}}}}return Aa(p)}catch{return f}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},th={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ra;function Ai(){}b(Ai,Ca),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},Ra=new Ai;function nn(a,f,p,v){this.j=a,this.i=f,this.l=p,this.R=v||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nh}function nh(){this.i=null,this.g="",this.h=!1}var rh={},Na={};function ka(a,f,p){a.L=1,a.v=Ri(Mt(f)),a.m=p,a.P=!0,sh(a,null)}function sh(a,f){a.F=Date.now(),Ci(a),a.A=Mt(a.v);var p=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),vh(p.i,"t",v),a.C=0,p=a.j.J,a.h=new nh,a.g=Oh(a.j,p?f:null,!a.m),0<a.O&&(a.M=new rw(g(a.Y,a,a.g),a.O)),f=a.U,p=a.g,v=a.ca;var N="readystatechange";Array.isArray(N)||(N&&(Gu[0]=N.toString()),N=Gu);for(var j=0;j<N.length;j++){var L=Uu(p,N[j],v||f.handleEvent,!1,f.h||f);if(!L)break;f.g[L.key]=L}f=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),hs(),ow(a.i,a.u,a.A,a.l,a.R,a.m)}nn.prototype.ca=function(a){a=a.target;const f=this.M;f&&Lt(a)==3?f.j():this.Y(a)},nn.prototype.Y=function(a){try{if(a==this.g)e:{const qe=Lt(this.g);var f=this.g.Ba();const Tr=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||Ih(this.g)))){this.J||qe!=4||f==7||(f==8||0>=Tr?hs(3):hs(2)),Va(this);var p=this.g.Z();this.X=p;t:if(ih(this)){var v=Ih(this.g);a="";var N=v.length,j=Lt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),ms(this);var L="";break t}this.h.i=new l.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,a+=this.h.i.decode(v[f],{stream:!(j&&f==N-1)});v.length=0,this.h.g+=a,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=p==200,aw(this.i,this.u,this.A,this.l,this.R,qe,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ue,Le=this.g;if((ue=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(ue)){var oe=ue;break t}}oe=null}if(p=oe)_r(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,p);else{this.o=!1,this.s=3,Je(12),$n(this),ms(this);break e}}if(this.P){p=!0;let ft;for(;!this.J&&this.C<L.length;)if(ft=uw(this,L),ft==Na){qe==4&&(this.s=4,Je(14),p=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==rh){this.s=4,Je(15),_r(this.i,this.l,L,"[Invalid Chunk]"),p=!1;break}else _r(this.i,this.l,ft,null),ja(this,ft);if(ih(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||L.length!=0||this.h.h||(this.s=1,Je(16),p=!1),this.o=this.o&&p,!p)_r(this.i,this.l,L,"[Invalid Chunked Response]"),$n(this),ms(this);else if(0<L.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Ua(ze),ze.M=!0,Je(11))}}else _r(this.i,this.l,L,null),ja(this,L);qe==4&&$n(this),this.o&&!this.J&&(qe==4?kh(this.j,this):(this.o=!1,Ci(this)))}else Cw(this.g),p==400&&0<L.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),$n(this),ms(this)}}}catch{}finally{}};function ih(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function uw(a,f){var p=a.C,v=f.indexOf(`
`,p);return v==-1?Na:(p=Number(f.substring(p,v)),isNaN(p)?rh:(v+=1,v+p>f.length?Na:(f=f.slice(v,v+p),a.C=v+p,f)))}nn.prototype.cancel=function(){this.J=!0,$n(this)};function Ci(a){a.S=Date.now()+a.I,oh(a,a.I)}function oh(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ds(g(a.ba,a),f)}function Va(a){a.B&&(l.clearTimeout(a.B),a.B=null)}nn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(lw(this.i,this.A),this.L!=2&&(hs(),Je(17)),$n(this),this.s=2,ms(this)):oh(this,this.S-a)};function ms(a){a.j.G==0||a.J||kh(a.j,a)}function $n(a){Va(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Wu(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function ja(a,f){try{var p=a.j;if(p.G!=0&&(p.g==a||Da(p.h,a))){if(!a.K&&Da(p.h,a)&&p.G==3){try{var v=p.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var N=v;if(N[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Oi(p),ji(p);else break e;Fa(p),Je(18)}}else p.za=N[1],0<p.za-p.T&&37500>N[2]&&p.F&&p.v==0&&!p.C&&(p.C=ds(g(p.Za,p),6e3));if(1>=ch(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else qn(p,11)}else if((a.K||p.g==a)&&Oi(p),!k(f))for(N=p.Da.g.parse(f),f=0;f<N.length;f++){let oe=N[f];if(p.T=oe[0],oe=oe[1],p.G==2)if(oe[0]=="c"){p.K=oe[1],p.ia=oe[2];const ze=oe[3];ze!=null&&(p.la=ze,p.j.info("VER="+p.la));const qe=oe[4];qe!=null&&(p.Aa=qe,p.j.info("SVER="+p.Aa));const Tr=oe[5];Tr!=null&&typeof Tr=="number"&&0<Tr&&(v=1.5*Tr,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const ft=a.g;if(ft){const Li=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var j=v.h;j.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Oa(j,j.h),j.h=null))}if(v.D){const Ba=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(v.ya=Ba,fe(v.I,v.D,Ba))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var L=a;if(v.qa=Dh(v,v.J?v.ia:null,v.W),L.K){uh(v.h,L);var ue=L,Le=v.L;Le&&(ue.I=Le),ue.B&&(Va(ue),Ci(ue)),v.g=L}else Rh(v);0<p.i.length&&Di(p)}else oe[0]!="stop"&&oe[0]!="close"||qn(p,7);else p.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?qn(p,7):La(p):oe[0]!="noop"&&p.l&&p.l.ta(oe),p.v=0)}}hs(4)}catch{}}var hw=class{constructor(a,f){this.g=a,this.map=f}};function ah(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lh(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ch(a){return a.h?1:a.g?a.g.size:0}function Da(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Oa(a,f){a.g?a.g.add(f):a.h=f}function uh(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}ah.prototype.cancel=function(){if(this.i=hh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function hh(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const p of a.g.values())f=f.concat(p.D);return f}return T(a.i)}function dw(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var f=[],p=a.length,v=0;v<p;v++)f.push(a[v]);return f}f=[],p=0;for(v in a)f[p++]=a[v];return f}function fw(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var f=[];a=a.length;for(var p=0;p<a;p++)f.push(p);return f}f=[],p=0;for(const v in a)f[p++]=v;return f}}}function dh(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var p=fw(a),v=dw(a),N=v.length,j=0;j<N;j++)f.call(void 0,v[j],p&&p[j],a)}var fh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mw(a,f){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var v=a[p].indexOf("="),N=null;if(0<=v){var j=a[p].substring(0,v);N=a[p].substring(v+1)}else j=a[p];f(j,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function zn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof zn){this.h=a.h,Si(this,a.j),this.o=a.o,this.g=a.g,Pi(this,a.s),this.l=a.l;var f=a.i,p=new ys;p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),mh(this,p),this.m=a.m}else a&&(f=String(a).match(fh))?(this.h=!1,Si(this,f[1]||"",!0),this.o=ps(f[2]||""),this.g=ps(f[3]||"",!0),Pi(this,f[4]),this.l=ps(f[5]||"",!0),mh(this,f[6]||"",!0),this.m=ps(f[7]||"")):(this.h=!1,this.i=new ys(null,this.h))}zn.prototype.toString=function(){var a=[],f=this.j;f&&a.push(gs(f,ph,!0),":");var p=this.g;return(p||f=="file")&&(a.push("//"),(f=this.o)&&a.push(gs(f,ph,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(gs(p,p.charAt(0)=="/"?yw:gw,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",gs(p,ww)),a.join("")};function Mt(a){return new zn(a)}function Si(a,f,p){a.j=p?ps(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Pi(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function mh(a,f,p){f instanceof ys?(a.i=f,_w(a.i,a.h)):(p||(f=gs(f,vw)),a.i=new ys(f,a.h))}function fe(a,f,p){a.i.set(f,p)}function Ri(a){return fe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ps(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function gs(a,f,p){return typeof a=="string"?(a=encodeURI(a).replace(f,pw),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function pw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ph=/[#\/\?@]/g,gw=/[#\?:]/g,yw=/[#\?]/g,vw=/[#\?@]/g,ww=/#/g;function ys(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function rn(a){a.g||(a.g=new Map,a.h=0,a.i&&mw(a.i,function(f,p){a.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}n=ys.prototype,n.add=function(a,f){rn(this),this.i=null,a=xr(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(f),this.h+=1,this};function gh(a,f){rn(a),f=xr(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function yh(a,f){return rn(a),f=xr(a,f),a.g.has(f)}n.forEach=function(a,f){rn(this),this.g.forEach(function(p,v){p.forEach(function(N){a.call(f,N,v,this)},this)},this)},n.na=function(){rn(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),p=[];for(let v=0;v<f.length;v++){const N=a[v];for(let j=0;j<N.length;j++)p.push(f[v])}return p},n.V=function(a){rn(this);let f=[];if(typeof a=="string")yh(this,a)&&(f=f.concat(this.g.get(xr(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)f=f.concat(a[p])}return f},n.set=function(a,f){return rn(this),this.i=null,a=xr(this,a),yh(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},n.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function vh(a,f,p){gh(a,f),0<p.length&&(a.i=null,a.g.set(xr(a,f),T(p)),a.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var p=0;p<f.length;p++){var v=f[p];const j=encodeURIComponent(String(v)),L=this.V(v);for(v=0;v<L.length;v++){var N=j;L[v]!==""&&(N+="="+encodeURIComponent(String(L[v]))),a.push(N)}}return this.i=a.join("&")};function xr(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function _w(a,f){f&&!a.j&&(rn(a),a.i=null,a.g.forEach(function(p,v){var N=v.toLowerCase();v!=N&&(gh(this,v),vh(this,N,p))},a)),a.j=f}function xw(a,f){const p=new fs;if(l.Image){const v=new Image;v.onload=y(sn,p,"TestLoadImage: loaded",!0,f,v),v.onerror=y(sn,p,"TestLoadImage: error",!1,f,v),v.onabort=y(sn,p,"TestLoadImage: abort",!1,f,v),v.ontimeout=y(sn,p,"TestLoadImage: timeout",!1,f,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else f(!1)}function bw(a,f){const p=new fs,v=new AbortController,N=setTimeout(()=>{v.abort(),sn(p,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:v.signal}).then(j=>{clearTimeout(N),j.ok?sn(p,"TestPingServer: ok",!0,f):sn(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),sn(p,"TestPingServer: error",!1,f)})}function sn(a,f,p,v,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),v(p)}catch{}}function Tw(){this.g=new iw}function Ew(a,f,p){const v=p||"";try{dh(a,function(N,j){let L=N;u(N)&&(L=Aa(N)),f.push(v+j+"="+encodeURIComponent(L))})}catch(N){throw f.push(v+"type="+encodeURIComponent("_badmap")),N}}function Ni(a){this.l=a.Ub||null,this.j=a.eb||!1}b(Ni,Ca),Ni.prototype.g=function(){return new ki(this.l,this.j)},Ni.prototype.i=function(a){return function(){return a}}({});function ki(a,f){$e.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ki,$e),n=ki.prototype,n.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,ws(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wh(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function wh(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?vs(this):ws(this),this.readyState==3&&wh(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,vs(this))},n.Qa=function(a){this.g&&(this.response=a,vs(this))},n.ga=function(){this.g&&vs(this)};function vs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ws(a)}n.setRequestHeader=function(a,f){this.u.append(a,f)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=f.next();return a.join(`\r
`)};function ws(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function _h(a){let f="";return $(a,function(p,v){f+=v,f+=":",f+=p,f+=`\r
`}),f}function Ma(a,f,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=_h(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):fe(a,f,p))}function be(a){$e.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(be,$e);var Iw=/^https?$/i,Aw=["POST","PUT"];n=be.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,f,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ra.g(),this.v=this.o?Ku(this.o):Ku(Ra),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(j){xh(this,j);return}if(a=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var N in v)p.set(N,v[N]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const j of v.keys())p.set(j,v.get(j));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),N=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Aw,f,void 0))||v||N||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,L]of p)this.g.setRequestHeader(j,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eh(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){xh(this,j)}};function xh(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,bh(a),Vi(a)}function bh(a){a.A||(a.A=!0,Xe(a,"complete"),Xe(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Xe(this,"complete"),Xe(this,"abort"),Vi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Th(this):this.bb())},n.bb=function(){Th(this)};function Th(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Lt(a)!=4||a.Z()!=2)){if(a.u&&Lt(a)==4)qu(a.Ea,0,a);else if(Xe(a,"readystatechange"),Lt(a)==4){a.h=!1;try{const L=a.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var v;if(v=L===0){var N=String(a.D).match(fh)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),v=!Iw.test(N?N.toLowerCase():"")}p=v}if(p)Xe(a,"complete"),Xe(a,"success");else{a.m=6;try{var j=2<Lt(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",bh(a)}}finally{Vi(a)}}}}function Vi(a,f){if(a.g){Eh(a);const p=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||Xe(a,"ready");try{p.onreadystatechange=v}catch{}}}function Eh(a){a.I&&(l.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Lt(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Lt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),sw(f)}};function Ih(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Cw(a){const f={};a=(a.g&&2<=Lt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(k(a[v]))continue;var p=P(a[v]);const N=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=f[N]||[];f[N]=j,j.push(p)}A(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(a,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||f}function Ah(a){this.Aa=0,this.i=[],this.j=new fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,a),this.cb=_s("retryDelaySeedMs",1e4,a),this.Wa=_s("forwardChannelMaxRetries",2,a),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ah(a&&a.concurrentRequestLimit),this.Da=new Tw,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ah.prototype,n.la=8,n.G=1,n.connect=function(a,f,p,v){Je(0),this.W=a,this.H=f||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=Dh(this,null,this.W),Di(this)};function La(a){if(Ch(a),a.G==3){var f=a.U++,p=Mt(a.I);if(fe(p,"SID",a.K),fe(p,"RID",f),fe(p,"TYPE","terminate"),xs(a,p),f=new nn(a,a.j,f),f.L=2,f.v=Ri(Mt(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=f.v,p=!0),p||(f.g=Oh(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ci(f)}jh(a)}function ji(a){a.g&&(Ua(a),a.g.cancel(),a.g=null)}function Ch(a){ji(a),a.u&&(l.clearTimeout(a.u),a.u=null),Oi(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Di(a){if(!lh(a.h)&&!a.s){a.s=!0;var f=a.Ga;ve||wt(),Ie||(ve(),Ie=!0),Ae.add(f,a),a.B=0}}function Sw(a,f){return ch(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ds(g(a.Ga,a,f),Vh(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const N=new nn(this,this.j,a);let j=this.o;if(this.S&&(j?(j=w(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(N.H=j,j=null),this.P)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=Ph(this,N,f),p=Mt(this.I),fe(p,"RID",a),fe(p,"CVER",22),this.D&&fe(p,"X-HTTP-Session-Id",this.D),xs(this,p),j&&(this.O?f="headers="+encodeURIComponent(String(_h(j)))+"&"+f:this.m&&Ma(p,this.m,j)),Oa(this.h,N),this.Ua&&fe(p,"TYPE","init"),this.P?(fe(p,"$req",f),fe(p,"SID","null"),N.T=!0,ka(N,p,null)):ka(N,p,f),this.G=2}}else this.G==3&&(a?Sh(this,a):this.i.length==0||lh(this.h)||Sh(this))};function Sh(a,f){var p;f?p=f.l:p=a.U++;const v=Mt(a.I);fe(v,"SID",a.K),fe(v,"RID",p),fe(v,"AID",a.T),xs(a,v),a.m&&a.o&&Ma(v,a.m,a.o),p=new nn(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),f&&(a.i=f.D.concat(a.i)),f=Ph(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Oa(a.h,p),ka(p,v,f)}function xs(a,f){a.H&&$(a.H,function(p,v){fe(f,v,p)}),a.l&&dh({},function(p,v){fe(f,v,p)})}function Ph(a,f,p){p=Math.min(a.i.length,p);var v=a.l?g(a.l.Na,a.l,a):null;e:{var N=a.i;let j=-1;for(;;){const L=["count="+p];j==-1?0<p?(j=N[0].g,L.push("ofs="+j)):j=0:L.push("ofs="+j);let ue=!0;for(let Le=0;Le<p;Le++){let oe=N[Le].g;const ze=N[Le].map;if(oe-=j,0>oe)j=Math.max(0,N[Le].g-100),ue=!1;else try{Ew(ze,L,"req"+oe+"_")}catch{v&&v(ze)}}if(ue){v=L.join("&");break e}}}return a=a.i.splice(0,p),f.D=a,v}function Rh(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;ve||wt(),Ie||(ve(),Ie=!0),Ae.add(f,a),a.v=0}}function Fa(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ds(g(a.Fa,a),Vh(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Nh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ds(g(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),ji(this),Nh(this))};function Ua(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Nh(a){a.g=new nn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Mt(a.qa);fe(f,"RID","rpc"),fe(f,"SID",a.K),fe(f,"AID",a.T),fe(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&fe(f,"TO",a.ja),fe(f,"TYPE","xmlhttp"),xs(a,f),a.m&&a.o&&Ma(f,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Ri(Mt(f)),p.m=null,p.P=!0,sh(p,a)}n.Za=function(){this.C!=null&&(this.C=null,ji(this),Fa(this),Je(19))};function Oi(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function kh(a,f){var p=null;if(a.g==f){Oi(a),Ua(a),a.g=null;var v=2}else if(Da(a.h,f))p=f.D,uh(a.h,f),v=1;else return;if(a.G!=0){if(f.o)if(v==1){p=f.m?f.m.length:0,f=Date.now()-f.F;var N=a.B;v=Ei(),Xe(v,new eh(v,p)),Di(a)}else Rh(a);else if(N=f.s,N==3||N==0&&0<f.X||!(v==1&&Sw(a,f)||v==2&&Fa(a)))switch(p&&0<p.length&&(f=a.h,f.i=f.i.concat(p)),N){case 1:qn(a,5);break;case 4:qn(a,10);break;case 3:qn(a,6);break;default:qn(a,2)}}}function Vh(a,f){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*f}function qn(a,f){if(a.j.info("Error code "+f),f==2){var p=g(a.fb,a),v=a.Xa;const N=!v;v=new zn(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Si(v,"https"),Ri(v),N?xw(v.toString(),p):bw(v.toString(),p)}else Je(2);a.G=0,a.l&&a.l.sa(f),jh(a),Ch(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function jh(a){if(a.G=0,a.ka=[],a.l){const f=hh(a.h);(f.length!=0||a.i.length!=0)&&(x(a.ka,f),x(a.ka,a.i),a.h.i.length=0,T(a.i),a.i.length=0),a.l.ra()}}function Dh(a,f,p){var v=p instanceof zn?Mt(p):new zn(p);if(v.g!="")f&&(v.g=f+"."+v.g),Pi(v,v.s);else{var N=l.location;v=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var j=new zn(null);v&&Si(j,v),f&&(j.g=f),N&&Pi(j,N),p&&(j.l=p),v=j}return p=a.D,f=a.ya,p&&f&&fe(v,p,f),fe(v,"VER",a.la),xs(a,v),v}function Oh(a,f,p){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new be(new Ni({eb:p})):new be(a.pa),f.Ha(a.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mh(){}n=Mh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Mi(){}Mi.prototype.g=function(a,f){return new it(a,f)};function it(a,f){$e.call(this),this.g=new Ah(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!k(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!k(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new br(this)}b(it,$e),it.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},it.prototype.close=function(){La(this.g)},it.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Aa(a),a=p);f.i.push(new hw(f.Ya++,a)),f.G==3&&Di(f)},it.prototype.N=function(){this.g.l=null,delete this.j,La(this.g),delete this.g,it.aa.N.call(this)};function Lh(a){Sa.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const p in f){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}b(Lh,Sa);function Fh(){Pa.call(this),this.status=1}b(Fh,Pa);function br(a){this.g=a}b(br,Mh),br.prototype.ua=function(){Xe(this.g,"a")},br.prototype.ta=function(a){Xe(this.g,new Lh(a))},br.prototype.sa=function(a){Xe(this.g,new Fh)},br.prototype.ra=function(){Xe(this.g,"b")},Mi.prototype.createWebChannel=Mi.prototype.g,it.prototype.send=it.prototype.o,it.prototype.open=it.prototype.m,it.prototype.close=it.prototype.close,Wy=function(){return new Mi},Gy=function(){return Ei()},Hy=Yn,Wl={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,no=Ii,th.COMPLETE="complete",qy=th,Qu.EventType=us,us.OPEN="a",us.CLOSE="b",us.ERROR="c",us.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Ps=Qu,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,zy=be}).apply(typeof qi<"u"?qi:typeof self<"u"?self:typeof window<"u"?window:{});const Rf="@firebase/firestore",Nf="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ns="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new qc("@firebase/firestore");function Ar(){return or.logLevel}function B(n,...e){if(or.logLevel<=te.DEBUG){const t=e.map(Wc);or.debug(`Firestore (${ns}): ${n}`,...t)}}function Kt(n,...e){if(or.logLevel<=te.ERROR){const t=e.map(Wc);or.error(`Firestore (${ns}): ${n}`,...t)}}function Rn(n,...e){if(or.logLevel<=te.WARN){const t=e.map(Wc);or.warn(`Firestore (${ns}): ${n}`,...t)}}function Wc(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Ky(n,r,t)}function Ky(n,e,t){let r=`FIRESTORE (${ns}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Kt(r),new Error(r)}function le(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Ky(e,s,r)}function K(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends Zt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(We.UNAUTHENTICATED))}shutdown(){}}class dS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fS{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){le(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let i=new In;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new In,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new In)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string",31837,{l:r}),new Qy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string",2055,{h:e}),new We(e)}}class mS{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pS{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new mS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){le(this.o===void 0,3512);const r=i=>{i.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kf(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(le(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=yS(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function J(n,e){return n<e?-1:n>e?1:0}function Kl(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return J(r,s);{const i=Xy(),o=vS(i.encode(Vf(n,t)),i.encode(Vf(e,t)));return o!==0?o:J(r,s)}}t+=r>65535?2:1}return J(n.length,e.length)}function Vf(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function vS(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return J(n[t],e[t]);return J(n.length,e.length)}function qr(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="__name__";class _t{constructor(e,t,r){t===void 0?t=0:t>e.length&&H(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&H(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _t.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _t?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=_t.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return J(e.length,t.length)}static compareSegments(e,t){const r=_t.isNumericId(e),s=_t.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?_t.extractNumericId(e).compare(_t.extractNumericId(t)):Kl(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return En.fromString(e.substring(4,e.length-2))}}class he extends _t{construct(e,t,r){return new he(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new he(t)}static emptyPath(){return new he([])}}const wS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ue extends _t{construct(e,t,r){return new Ue(e,t,r)}static isValidIdentifier(e){return wS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ue.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jf}static keyField(){return new Ue([jf])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new U(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new U(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new U(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new U(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ue(t)}static emptyPath(){return new Ue([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(he.fromString(e))}static fromName(e){return new z(he.fromString(e).popFirst(5))}static empty(){return new z(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return he.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new he(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n,e,t){if(!t)throw new U(D.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _S(n,e,t,r){if(e===!0&&r===!0)throw new U(D.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Df(n){if(!z.isDocumentKey(n))throw new U(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Of(n){if(z.isDocumentKey(n))throw new U(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Zy(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function na(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":H(12329,{type:typeof n})}function Qs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new U(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=na(n);throw new U(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xS(n,e){if(e<=0)throw new U(D.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,e){const t={typeString:n};return e&&(t.value=e),t}function mi(n,e){if(!Zy(n))throw new U(D.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(s&&typeof o!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new U(D.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=-62135596800,Lf=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(e){return pe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Lf);return new pe(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Mf)throw new U(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lf}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mi(e,pe._jsonSchema))return new pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mf;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:ke("string",pe._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{static fromTimestamp(e){return new W(e)}static min(){return new W(new pe(0,0))}static max(){return new W(new pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=-1;function bS(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=W.fromTimestamp(r===1e9?new pe(t+1,0):new pe(t,r));return new Nn(s,z.empty(),e)}function TS(n){return new Nn(n.readTime,n.key,Xs)}class Nn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Nn(W.min(),z.empty(),Xs)}static max(){return new Nn(W.max(),z.empty(),Xs)}}function ES(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=z.comparator(n.documentKey,e.documentKey),t!==0?t:J(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rs(n){if(n.code!==D.FAILED_PRECONDITION||n.message!==IS)throw n;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&H(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof M?t:M.resolve(t)}catch(t){return M.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):M.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):M.reject(t)}static resolve(e){return new M((t,r)=>{t(e)})}static reject(e){return new M((t,r)=>{r(e)})}static waitFor(e){return new M((t,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&t()},c=>r(c))}),o=!0,i===s&&t()})}static or(e){let t=M.resolve(!1);for(const r of e)t=t.next(s=>s?M.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new M((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;t(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,t){return new M((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function CS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ss(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ra.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=-1;function sa(n){return n==null}function Co(n){return n===0&&1/n==-1/0}function SS(n){return typeof n=="number"&&Number.isInteger(n)&&!Co(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="";function PS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ff(e)),e=RS(n.get(t),e);return Ff(e)}function RS(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case ev:t+="";break;default:t+=i}}return t}function Ff(n){return n+ev+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,t){this.comparator=e,this.root=t||Fe.EMPTY}insert(e,t){return new xe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hi(this.root,e,this.comparator,!0)}}class Hi{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Fe.RED,this.left=s??Fe.EMPTY,this.right=i??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Fe(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Fe.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw H(43730,{key:this.key,value:this.value});if(this.right.isRed())throw H(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw H(27949);return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw H(57766)}get value(){throw H(16141)}get color(){throw H(16727)}get left(){throw H(29726)}get right(){throw H(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new Fe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bf(this.data.getIterator())}getIteratorFrom(e){return new Bf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new je(this.comparator);return t.data=e,t}}class Bf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.fields=e,e.sort(Ue.comparator)}static empty(){return new gt([])}unionWith(e){let t=new je(Ue.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new gt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qr(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nv("Invalid base64 string: "+i):i}}(e);return new Ye(t)}static fromUint8Array(e){const t=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ye(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const NS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kn(n){if(le(!!n,39018),typeof n=="string"){let e=0;const t=NS.exec(n);if(le(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vn(n){return typeof n=="string"?Ye.fromBase64String(n):Ye.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="server_timestamp",sv="__type__",iv="__previous_value__",ov="__local_write_time__";function Xc(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[sv])===null||t===void 0?void 0:t.stringValue)===rv}function ia(n){const e=n.mapValue.fields[iv];return Xc(e)?ia(e):e}function Js(n){const e=kn(n.mapValue.fields[ov].timestampValue);return new pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,r,s,i,o,l,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const So="(default)";class Zs{constructor(e,t){this.projectId=e,this.database=t||So}static empty(){return new Zs("","")}get isDefaultDatabase(){return this.database===So}isEqual(e){return e instanceof Zs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="__type__",lv="__max__",Gi={mapValue:{fields:{__type__:{stringValue:lv}}}},cv="__vector__",Po="value";function jn(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xc(n)?4:jS(n)?9007199254740991:VS(n)?10:11:H(28295,{value:n})}function Dt(n,e){if(n===e)return!0;const t=jn(n);if(t!==jn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Js(n).isEqual(Js(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=kn(s.timestampValue),l=kn(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return Vn(s.bytesValue).isEqual(Vn(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return Ce(s.geoPointValue.latitude)===Ce(i.geoPointValue.latitude)&&Ce(s.geoPointValue.longitude)===Ce(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ce(s.integerValue)===Ce(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ce(s.doubleValue),l=Ce(i.doubleValue);return o===l?Co(o)===Co(l):isNaN(o)&&isNaN(l)}return!1}(n,e);case 9:return qr(n.arrayValue.values||[],e.arrayValue.values||[],Dt);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Uf(o)!==Uf(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Dt(o[c],l[c])))return!1;return!0}(n,e);default:return H(52216,{left:n})}}function ei(n,e){return(n.values||[]).find(t=>Dt(t,e))!==void 0}function Hr(n,e){if(n===e)return 0;const t=jn(n),r=jn(e);if(t!==r)return J(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return J(n.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Ce(i.integerValue||i.doubleValue),c=Ce(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(n,e);case 3:return Yf(n.timestampValue,e.timestampValue);case 4:return Yf(Js(n),Js(e));case 5:return Kl(n.stringValue,e.stringValue);case 6:return function(i,o){const l=Vn(i),c=Vn(o);return l.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=J(l[u],c[u]);if(d!==0)return d}return J(l.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const l=J(Ce(i.latitude),Ce(o.latitude));return l!==0?l:J(Ce(i.longitude),Ce(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $f(n.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,d;const m=i.fields||{},g=o.fields||{},y=(l=m[Po])===null||l===void 0?void 0:l.arrayValue,b=(c=g[Po])===null||c===void 0?void 0:c.arrayValue,T=J(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:$f(y,b)}(n.mapValue,e.mapValue);case 11:return function(i,o){if(i===Gi.mapValue&&o===Gi.mapValue)return 0;if(i===Gi.mapValue)return 1;if(o===Gi.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let m=0;m<c.length&&m<d.length;++m){const g=Kl(c[m],d[m]);if(g!==0)return g;const y=Hr(l[c[m]],u[d[m]]);if(y!==0)return y}return J(c.length,d.length)}(n.mapValue,e.mapValue);default:throw H(23264,{le:t})}}function Yf(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return J(n,e);const t=kn(n),r=kn(e),s=J(t.seconds,r.seconds);return s!==0?s:J(t.nanos,r.nanos)}function $f(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Hr(t[s],r[s]);if(i)return i}return J(t.length,r.length)}function Gr(n){return Ql(n)}function Ql(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=kn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Vn(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return z.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=Ql(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ql(t.fields[o])}`;return s+"}"}(n.mapValue):H(61005,{value:n})}function ro(n){switch(jn(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ia(n);return e?16+ro(e):16;case 5:return 2*n.stringValue.length;case 6:return Vn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ro(i),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return gr(r.fields,(i,o)=>{s+=i.length+ro(o)}),s}(n.mapValue);default:throw H(13486,{value:n})}}function zf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xl(n){return!!n&&"integerValue"in n}function Jc(n){return!!n&&"arrayValue"in n}function qf(n){return!!n&&"nullValue"in n}function Hf(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function so(n){return!!n&&"mapValue"in n}function VS(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[av])===null||t===void 0?void 0:t.stringValue)===cv}function Ms(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gr(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ms(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ms(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lv}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.value=e}static empty(){return new ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!so(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ms(t)}setAll(e){let t=Ue.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,r,s),r={},s=[],t=l.popLast()}o?r[l.lastSegment()]=Ms(o):s.push(l.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());so(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];so(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){gr(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ut(Ms(this.value))}}function uv(n){const e=[];return gr(n.fields,(t,r)=>{const s=new Ue([t]);if(so(r)){const i=uv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,t,r,s,i,o,l){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ke(e,0,W.min(),W.min(),W.min(),ut.empty(),0)}static newFoundDocument(e,t,r,s){return new Ke(e,1,t,W.min(),r,s,0)}static newNoDocument(e,t){return new Ke(e,2,t,W.min(),W.min(),ut.empty(),0)}static newUnknownDocument(e,t){return new Ke(e,3,t,W.min(),W.min(),ut.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t){this.position=e,this.inclusive=t}}function Gf(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),t.key):r=Hr(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wf(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Dt(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t="asc"){this.field=e,this.dir=t}}function DS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{}class Ne extends hv{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new MS(e,t,r):t==="array-contains"?new US(e,r):t==="in"?new BS(e,r):t==="not-in"?new YS(e,r):t==="array-contains-any"?new $S(e,r):new Ne(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new LS(e,r):new FS(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Hr(t,this.value)):t!==null&&jn(this.value)===jn(t)&&this.matchesComparison(Hr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vt extends hv{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new vt(e,t)}matches(e){return dv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function dv(n){return n.op==="and"}function fv(n){return OS(n)&&dv(n)}function OS(n){for(const e of n.filters)if(e instanceof vt)return!1;return!0}function Jl(n){if(n instanceof Ne)return n.field.canonicalString()+n.op.toString()+Gr(n.value);if(fv(n))return n.filters.map(e=>Jl(e)).join(",");{const e=n.filters.map(t=>Jl(t)).join(",");return`${n.op}(${e})`}}function mv(n,e){return n instanceof Ne?function(r,s){return s instanceof Ne&&r.op===s.op&&r.field.isEqual(s.field)&&Dt(r.value,s.value)}(n,e):n instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&mv(o,s.filters[l]),!0):!1}(n,e):void H(19439)}function pv(n){return n instanceof Ne?function(t){return`${t.field.canonicalString()} ${t.op} ${Gr(t.value)}`}(n):n instanceof vt?function(t){return t.op.toString()+" {"+t.getFilters().map(pv).join(" ,")+"}"}(n):"Filter"}class MS extends Ne{constructor(e,t,r){super(e,t,r),this.key=z.fromName(r.referenceValue)}matches(e){const t=z.comparator(e.key,this.key);return this.matchesComparison(t)}}class LS extends Ne{constructor(e,t){super(e,"in",t),this.keys=gv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FS extends Ne{constructor(e,t){super(e,"not-in",t),this.keys=gv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gv(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>z.fromName(r.referenceValue))}class US extends Ne{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jc(t)&&ei(t.arrayValue,this.value)}}class BS extends Ne{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ei(this.value.arrayValue,t)}}class YS extends Ne{constructor(e,t){super(e,"not-in",t)}matches(e){if(ei(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ei(this.value.arrayValue,t)}}class $S extends Ne{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ei(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Pe=null}}function Kf(n,e=null,t=[],r=[],s=null,i=null,o=null){return new zS(n,e,t,r,s,i,o)}function Zc(n){const e=K(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Jl(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),sa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gr(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gr(r)).join(",")),e.Pe=t}return e.Pe}function eu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wf(n.startAt,e.startAt)&&Wf(n.endAt,e.endAt)}function Zl(n){return z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function qS(n,e,t,r,s,i,o,l){return new is(n,e,t,r,s,i,o,l)}function yv(n){return new is(n)}function Qf(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vv(n){return n.collectionGroup!==null}function Ls(n){const e=K(n);if(e.Te===null){e.Te=[];const t=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new je(Ue.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.Te.push(new ti(i,r))}),t.has(Ue.keyField().canonicalString())||e.Te.push(new ti(Ue.keyField(),r))}return e.Te}function Et(n){const e=K(n);return e.Ie||(e.Ie=HS(e,Ls(n))),e.Ie}function HS(n,e){if(n.limitType==="F")return Kf(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ti(s.field,i)});const t=n.endAt?new Ro(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ro(n.startAt.position,n.startAt.inclusive):null;return Kf(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ec(n,e){const t=n.filters.concat([e]);return new is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function No(n,e,t){return new is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function oa(n,e){return eu(Et(n),Et(e))&&n.limitType===e.limitType}function wv(n){return`${Zc(Et(n))}|lt:${n.limitType}`}function Cr(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>pv(s)).join(", ")}]`),sa(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Gr(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Gr(s)).join(",")),`Target(${r})`}(Et(n))}; limitType=${n.limitType})`}function aa(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of Ls(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=Gf(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Ls(r),s)||r.endAt&&!function(o,l,c){const u=Gf(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Ls(r),s))}(n,e)}function GS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _v(n){return(e,t)=>{let r=!1;for(const s of Ls(n)){const i=WS(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function WS(n,e,t){const r=n.field.isKeyField()?z.comparator(e.key,t.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Hr(c,u):H(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return H(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){gr(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return tv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new xe(z.comparator);function Qt(){return KS}const xv=new xe(z.comparator);function Rs(...n){let e=xv;for(const t of n)e=e.insert(t.key,t);return e}function bv(n){let e=xv;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zn(){return Fs()}function Tv(){return Fs()}function Fs(){return new yr(n=>n.toString(),(n,e)=>n.isEqual(e))}const QS=new xe(z.comparator),XS=new je(z.comparator);function ne(...n){let e=XS;for(const t of n)e=e.add(t);return e}const JS=new je(J);function ZS(){return JS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Co(e)?"-0":e}}function Ev(n){return{integerValue:""+n}}function eP(n,e){return SS(e)?Ev(e):tu(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this._=void 0}}function tP(n,e,t){return n instanceof ni?function(s,i){const o={fields:{[sv]:{stringValue:rv},[ov]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Xc(i)&&(i=ia(i)),i&&(o.fields[iv]=i),{mapValue:o}}(t,e):n instanceof ri?Av(n,e):n instanceof si?Cv(n,e):function(s,i){const o=Iv(s,i),l=Xf(o)+Xf(s.Ee);return Xl(o)&&Xl(s.Ee)?Ev(l):tu(s.serializer,l)}(n,e)}function nP(n,e,t){return n instanceof ri?Av(n,e):n instanceof si?Cv(n,e):t}function Iv(n,e){return n instanceof ko?function(r){return Xl(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ni extends la{}class ri extends la{constructor(e){super(),this.elements=e}}function Av(n,e){const t=Sv(e);for(const r of n.elements)t.some(s=>Dt(s,r))||t.push(r);return{arrayValue:{values:t}}}class si extends la{constructor(e){super(),this.elements=e}}function Cv(n,e){let t=Sv(e);for(const r of n.elements)t=t.filter(s=>!Dt(s,r));return{arrayValue:{values:t}}}class ko extends la{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Xf(n){return Ce(n.integerValue||n.doubleValue)}function Sv(n){return Jc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t){this.field=e,this.transform=t}}function sP(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof ri&&s instanceof ri||r instanceof si&&s instanceof si?qr(r.elements,s.elements,Dt):r instanceof ko&&s instanceof ko?Dt(r.Ee,s.Ee):r instanceof ni&&s instanceof ni}(n.transform,e.transform)}class iP{constructor(e,t){this.version=e,this.transformResults=t}}class It{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new It}static exists(e){return new It(void 0,e)}static updateTime(e){return new It(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function io(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ca{}function Pv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nu(n.key,It.none()):new pi(n.key,n.data,It.none());{const t=n.data,r=ut.empty();let s=new je(Ue.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new vr(n.key,r,new gt(s.toArray()),It.none())}}function oP(n,e,t){n instanceof pi?function(s,i,o){const l=s.value.clone(),c=Zf(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):n instanceof vr?function(s,i,o){if(!io(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Zf(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Rv(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Us(n,e,t,r){return n instanceof pi?function(i,o,l,c){if(!io(i.precondition,o))return l;const u=i.value.clone(),d=em(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof vr?function(i,o,l,c){if(!io(i.precondition,o))return l;const u=em(i.fieldTransforms,c,o),d=o.data;return d.setAll(Rv(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(i,o,l){return io(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(n,e,t)}function aP(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=Iv(r.transform,s||null);i!=null&&(t===null&&(t=ut.empty()),t.set(r.field,i))}return t||null}function Jf(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qr(r,s,(i,o)=>sP(i,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pi extends ca{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vr extends ca{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Rv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Zf(n,e,t){const r=new Map;le(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,nP(o,l,t[s]))}return r}function em(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,tP(i,o,e))}return r}class nu extends ca{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lP extends ca{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&oP(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Us(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Us(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Tv();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=t.has(s.key)?null:l;const c=Pv(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ne())}isEqual(e){return this.batchId===e.batchId&&qr(this.mutations,e.mutations,(t,r)=>Jf(t,r))&&qr(this.baseMutations,e.baseMutations,(t,r)=>Jf(t,r))}}class ru{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return QS}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ru(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,re;function dP(n){switch(n){case D.OK:return H(64938);case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return H(15467,{code:n})}}function Nv(n){if(n===void 0)return Kt("GRPC error has no .code"),D.UNKNOWN;switch(n){case Se.OK:return D.OK;case Se.CANCELLED:return D.CANCELLED;case Se.UNKNOWN:return D.UNKNOWN;case Se.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Se.INTERNAL:return D.INTERNAL;case Se.UNAVAILABLE:return D.UNAVAILABLE;case Se.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Se.NOT_FOUND:return D.NOT_FOUND;case Se.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Se.ABORTED:return D.ABORTED;case Se.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Se.DATA_LOSS:return D.DATA_LOSS;default:return H(39323,{code:n})}}(re=Se||(Se={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new En([4294967295,4294967295],0);function tm(n){const e=Xy().encode(n),t=new $y;return t.update(e),new Uint8Array(t.digest())}function nm(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new En([t,r],0),new En([s,i],0)]}class su{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ns(`Invalid padding: ${t}`);if(r<0)throw new Ns(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ns(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ns(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=En.fromNumber(this.fe)}pe(e,t,r){let s=e.add(t.multiply(En.fromNumber(r)));return s.compare(fP)===1&&(s=new En([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=tm(e),[r,s]=nm(t);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new su(i,s,t);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.fe===0)return;const t=tm(e),[r,s]=nm(t);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ns extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,gi.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ua(W.min(),s,new xe(J),Qt(),ne())}}class gi{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new gi(r,t,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=s}}class kv{constructor(e,t){this.targetId=e,this.De=t}}class Vv{constructor(e,t,r=Ye.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class rm{constructor(){this.ve=0,this.Ce=sm(),this.Fe=Ye.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ne(),t=ne(),r=ne();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:H(38017,{changeType:i})}}),new gi(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=sm()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class mP{constructor(e){this.We=e,this.Ge=new Map,this.ze=Qt(),this.je=Wi(),this.Je=Wi(),this.He=new xe(J)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:H(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,s)=>{this.nt(s)&&t(s)})}it(e){const t=e.targetId,r=e.De.count,s=this.st(t);if(s){const i=s.target;if(Zl(i))if(r===0){const o=new z(i.path);this.Xe(t,o,Ke.newNoDocument(o,W.min()))}else le(r===1,20013,{expectedCount:r});else{const o=this.ot(t);if(o!==r){const l=this._t(e),c=l?this.ut(l,e,o):1;if(c!==0){this.rt(t);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,l;try{o=Vn(r).toUint8Array()}catch(c){if(c instanceof nv)return Rn("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new su(o,s,i)}catch(c){return Rn(c instanceof Ns?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Xe(t,i,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((i,o)=>{const l=this.st(o);if(l){if(i.current&&Zl(l.target)){const c=new z(l.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,Ke.newNoDocument(c,e))}i.Ne&&(t.set(o,i.Le()),i.ke())}});let r=ne();this.Je.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new ua(e,t,this.He,this.ze,r);return this.ze=Qt(),this.je=Wi(),this.Je=Wi(),this.He=new xe(J),s}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new rm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new je(J),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new je(J),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new rm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Wi(){return new xe(z.comparator)}function sm(){return new xe(z.comparator)}const pP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),gP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),yP=(()=>({and:"AND",or:"OR"}))();class vP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tc(n,e){return n.useProto3Json||sa(e)?e:{value:e}}function Vo(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wP(n,e){return Vo(n,e.toTimestamp())}function At(n){return le(!!n,49232),W.fromTimestamp(function(t){const r=kn(t);return new pe(r.seconds,r.nanos)}(n))}function iu(n,e){return nc(n,e).canonicalString()}function nc(n,e){const t=function(s){return new he(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Dv(n){const e=he.fromString(n);return le(Uv(e),10190,{key:e.toString()}),e}function rc(n,e){return iu(n.databaseId,e.path)}function ul(n,e){const t=Dv(e);if(t.get(1)!==n.databaseId.projectId)throw new U(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new U(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new z(Mv(t))}function Ov(n,e){return iu(n.databaseId,e)}function _P(n){const e=Dv(n);return e.length===4?he.emptyPath():Mv(e)}function sc(n){return new he(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Mv(n){return le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function im(n,e,t){return{name:rc(n,e),fields:t.value.mapValue.fields}}function xP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:H(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(le(d===void 0||typeof d=="string",58123),Ye.fromBase64String(d||"")):(le(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ye.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?D.UNKNOWN:Nv(u.code);return new U(d,u.message||"")}(o);t=new Vv(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ul(n,r.document.name),i=At(r.document.updateTime),o=r.document.createTime?At(r.document.createTime):W.min(),l=new ut({mapValue:{fields:r.document.fields}}),c=Ke.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];t=new oo(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ul(n,r.document),i=r.readTime?At(r.readTime):W.min(),o=Ke.newNoDocument(s,i),l=r.removedTargetIds||[];t=new oo([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ul(n,r.document),i=r.removedTargetIds||[];t=new oo([],i,s,null)}else{if(!("filter"in e))return H(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new hP(s,i),l=r.targetId;t=new kv(l,o)}}return t}function bP(n,e){let t;if(e instanceof pi)t={update:im(n,e.key,e.value)};else if(e instanceof nu)t={delete:rc(n,e.key)};else if(e instanceof vr)t={update:im(n,e.key,e.data),updateMask:NP(e.fieldMask)};else{if(!(e instanceof lP))return H(16599,{Rt:e.type});t={verify:rc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof ni)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ri)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof si)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ko)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw H(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:wP(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:H(27497)}(n,e.precondition)),t}function TP(n,e){return n&&n.length>0?(le(e!==void 0,14353),n.map(t=>function(s,i){let o=s.updateTime?At(s.updateTime):At(i);return o.isEqual(W.min())&&(o=At(i)),new iP(o,s.transformResults||[])}(t,e))):[]}function EP(n,e){return{documents:[Ov(n,e.path)]}}function IP(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Ov(n,s);const i=function(u){if(u.length!==0)return Fv(vt.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:Sr(g.field),direction:SP(g.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=tc(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:s}}function AP(n){let e=_P(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){le(r===1,65062);const d=t.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];t.where&&(i=function(m){const g=Lv(m);return g instanceof vt&&fv(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(m){return m.map(g=>function(b){return new ti(Pr(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(t.orderBy));let l=null;t.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,sa(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(m){const g=!!m.before,y=m.values||[];return new Ro(y,g)}(t.startAt));let u=null;return t.endAt&&(u=function(m){const g=!m.before,y=m.values||[];return new Ro(y,g)}(t.endAt)),qS(e,s,o,i,l,"F",c,u)}function CP(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Lv(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Pr(t.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Pr(t.unaryFilter.field);return Ne.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Pr(t.unaryFilter.field);return Ne.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pr(t.unaryFilter.field);return Ne.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return H(61313);default:return H(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ne.create(Pr(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return H(58110);default:return H(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vt.create(t.compositeFilter.filters.map(r=>Lv(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return H(1026)}}(t.compositeFilter.op))}(n):H(30097,{filter:n})}function SP(n){return pP[n]}function PP(n){return gP[n]}function RP(n){return yP[n]}function Sr(n){return{fieldPath:n.canonicalString()}}function Pr(n){return Ue.fromServerFormat(n.fieldPath)}function Fv(n){return n instanceof Ne?function(t){if(t.op==="=="){if(Hf(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NAN"}};if(qf(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Hf(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NOT_NAN"}};if(qf(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sr(t.field),op:PP(t.op),value:t.value}}}(n):n instanceof vt?function(t){const r=t.getFilters().map(s=>Fv(s));return r.length===1?r[0]:{compositeFilter:{op:RP(t.op),filters:r}}}(n):H(54877,{filter:n})}function NP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Uv(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,r,s,i=W.min(),o=W.min(),l=Ye.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new pn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.gt=e}}function VP(n){const e=AP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?No(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.Dn=new DP}addToCollectionParentIndex(e,t){return this.Dn.add(t),M.resolve()}getCollectionParents(e,t){return M.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return M.resolve()}deleteFieldIndex(e,t){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,t){return M.resolve()}getDocumentsMatchingTarget(e,t){return M.resolve(null)}getIndexType(e,t){return M.resolve(0)}getFieldIndexes(e,t){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,t){return M.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,t){return M.resolve(Nn.min())}updateCollectionGroup(e,t,r){return M.resolve()}updateIndexEntries(e,t){return M.resolve()}}class DP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new je(he.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new je(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bv=41943040;class rt{static withCacheSize(e){return new rt(e,rt.DEFAULT_COLLECTION_PERCENTILE,rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rt.DEFAULT_COLLECTION_PERCENTILE=10,rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rt.DEFAULT=new rt(Bv,rt.DEFAULT_COLLECTION_PERCENTILE,rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rt.DISABLED=new rt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Wr(0)}static ur(){return new Wr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="LruGarbageCollector",OP=1048576;function lm([n,e],[t,r]){const s=J(n,t);return s===0?J(e,r):s}class MP{constructor(e){this.Tr=e,this.buffer=new je(lm),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lm(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){B(am,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ss(t)?B(am,"Ignoring IndexedDB error during garbage collection: ",t):await rs(t)}await this.Rr(3e5)})}}class FP{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return M.resolve(ra.ue);const r=new MP(t);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(om)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),om):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,s,i,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,t))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),Ar()<=te.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function UP(n,e){return new FP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.changes=new yr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?M.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Us(r.mutation,s,gt.empty(),pe.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ne()){const s=Zn();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let o=Rs();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Zn();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ne()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,r,s){let i=Qt();const o=Fs(),l=function(){return Fs()}();return t.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof vr)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Us(d.mutation,u,d.mutation.getFieldMask(),pe.now())):o.set(u.key,gt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),t.forEach((u,d)=>{var m;return l.set(u,new YP(d,(m=o.get(u))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,t){const r=Fs();let s=new xe((o,l)=>o-l),i=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=t.get(c);if(u===null)return;let d=r.get(c)||gt.empty();d=l.applyToLocalView(u,d),r.set(c,d);const m=(s.get(l.batchId)||ne()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,m=Tv();d.forEach(g=>{if(!i.has(g)){const y=Pv(t.get(g),r.get(g));y!==null&&m.set(g,y),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(o){return z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):M.resolve(Zn());let l=Xs,c=i;return o.next(u=>M.forEach(u,(d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ne())).next(d=>({batchId:l,changes:bv(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next(r=>{let s=Rs();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=Rs();return this.indexManager.getCollectionParents(e,i).next(l=>M.forEach(l,c=>{const u=function(m,g){return new is(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ke.newInvalidDocument(d)))});let l=Rs();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Us(d.mutation,u,gt.empty(),pe.now()),aa(t,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return M.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(s){return{id:s.id,version:s.version,createTime:At(s.createTime)}}(t)),M.resolve()}getNamedQuery(e,t){return M.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(s){return{name:s.name,query:VP(s.bundledQuery),readTime:At(s.readTime)}}(t)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.overlays=new xe(z.comparator),this.kr=new Map}getOverlay(e,t){return M.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zn();return M.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.wt(e,t,i)}),M.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,t,r){const s=Zn(),i=t.length+1,o=new z(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return M.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new xe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Zn(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Zn(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return M.resolve(l)}wt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uP(t,r));let i=this.kr.get(t);i===void 0&&(i=ne(),this.kr.set(t,i)),this.kr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.qr=new je(De.Qr),this.$r=new je(De.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new De(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new De(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new z(new he([])),r=new De(t,e),s=new De(t,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new z(new he([])),r=new De(t,e),s=new De(t,e+1);let i=ne();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const t=new De(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class De{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return z.comparator(e.key,t.key)||J(e.Hr,t.Hr)}static Ur(e,t){return J(e.Hr,t.Hr)||z.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new je(De.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cP(i,t,r,s);this.mutationQueue.push(o);for(const l of s)this.Yr=this.Yr.add(new De(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,t){return M.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Qc:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new De(t,0),s=new De(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const l=this.Zr(o.Hr);i.push(l)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new je(J);return t.forEach(s=>{const i=new De(s,0),o=new De(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],l=>{r=r.add(l.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;z.isDocumentKey(i)||(i=i.child(""));const o=new De(new z(i),0);let l=new je(J);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Hr)),!0)},o),M.resolve(this.ei(l))}ei(e){const t=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){le(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(t.mutations,s=>{const i=new De(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new De(t,0),s=this.Yr.firstAfterOrEqual(r);return M.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.ni=e,this.docs=function(){return new xe(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return M.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(t))}getEntries(e,t){let r=Qt();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ke.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=Qt();const o=t.path,l=new z(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ES(TS(d),r)<=0||(s.has(d.key)||aa(t,d))&&(i=i.insert(d.key,d.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,t,r,s){H(9500)}ri(e,t){return M.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new KP(this)}getSize(e){return M.resolve(this.size)}}class KP extends BP{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),M.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.persistence=e,this.ii=new yr(t=>Zc(t),eu),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.si=0,this.oi=new ou,this.targetCount=0,this._i=Wr.ar()}forEachTarget(e,t){return this.ii.forEach((r,s)=>t(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),M.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Wr(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,M.resolve()}updateTargetData(e,t){return this.hr(t),M.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.ii.forEach((o,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return M.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),M.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),M.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return M.resolve(r)}containsKey(e,t){return M.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t){this.ai={},this.overlays={},this.ui=new ra(0),this.ci=!1,this.ci=!0,this.li=new HP,this.referenceDelegate=e(this),this.hi=new QP(this),this.indexManager=new jP,this.remoteDocumentCache=function(s){return new WP(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new kP(t),this.Ti=new zP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new GP(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);const s=new XP(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,t){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class XP extends AS{constructor(e){super(),this.currentSequenceNumber=e}}class au{constructor(e){this.persistence=e,this.Ai=new ou,this.Ri=null}static Vi(e){return new au(e)}get mi(){if(this.Ri)return this.Ri;throw H(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),M.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),M.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{const s=z.fromPath(r);return this.fi(e,s).next(i=>{i||t.removeEntry(s,W.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return M.or([()=>M.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class jo{constructor(e,t){this.persistence=e,this.gi=new yr(r=>PS(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=UP(this,t)}static Vi(e,t){return new jo(e,t)}Ii(){}di(e){return M.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return M.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?M.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,t).next(l=>{l||(r++,i.removeEntry(o,W.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),M.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),M.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ro(e.data.value)),t}Sr(e,t,r){return M.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return M.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=s}static Es(e,t){let r=ne(),s=ne();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new lu(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return GA()?8:CS(Qe())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ps(e,t).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,t,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new JP;return this.ws(e,t,o).next(l=>{if(i.result=l,this.Rs)return this.Ss(e,t,o,l.size)})}).next(()=>i.result)}Ss(e,t,r,s){return r.documentReadCount<this.Vs?(Ar()<=te.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Cr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(Ar()<=te.DEBUG&&B("QueryEngine","Query:",Cr(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Ar()<=te.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Cr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Et(t))):M.resolve())}ps(e,t){if(Qf(t))return M.resolve(null);let r=Et(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=No(t,null,"F"),r=Et(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ne(...i);return this.gs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(t,l);return this.Ds(t,u,o,c.readTime)?this.ps(e,No(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,s){return Qf(t)||s.isEqual(W.min())?M.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(t,i);return this.Ds(t,o,r,s)?M.resolve(null):(Ar()<=te.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cr(t)),this.vs(e,o,t,bS(s,Xs)).next(l=>l))})}bs(e,t){let r=new je(_v(e));return t.forEach((s,i)=>{aa(e,i)&&(r=r.add(i))}),r}Ds(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,t,r){return Ar()<=te.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Cr(t)),this.gs.getDocumentsMatchingQuery(e,t,Nn.min(),r)}vs(e,t,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu="LocalStore",eR=3e8;class tR{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new xe(J),this.Ms=new yr(i=>Zc(i),eu),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $P(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function nR(n,e,t,r){return new tR(n,e,t,r)}async function $v(n,e){const t=K(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=ne();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:l}))})})}function rR(n,e){const t=K(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.Os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const m=u.batch,g=m.keys();let y=M.resolve();return g.forEach(b=>{y=y.next(()=>d.getEntry(c,b)).next(T=>{const x=u.docVersions.get(b);le(x!==null,48541),T.version.compareTo(x)<0&&(m.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),d.addEntry(T)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ne();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function zv(n){const e=K(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function sR(n,e){const t=K(n),r=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const l=[];e.targetChanges.forEach((d,m)=>{const g=s.get(m);if(!g)return;l.push(t.hi.removeMatchingKeys(i,d.removedDocuments,m).next(()=>t.hi.addMatchingKeys(i,d.addedDocuments,m)));let y=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Ye.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(m,y),function(T,x,V){return T.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=eR?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,y,d)&&l.push(t.hi.updateTargetData(i,y))});let c=Qt(),u=ne();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(iR(i,o,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(W.min())){const d=t.hi.getLastRemoteSnapshotVersion(i).next(m=>t.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return M.waitFor(l).next(()=>o.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(t.Fs=s,i))}function iR(n,e,t){let r=ne(),s=ne();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let o=Qt();return t.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(W.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):B(cu,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ls:o,ks:s}})}function oR(n,e){const t=K(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qc),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aR(n,e){const t=K(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.hi.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):t.hi.allocateTargetId(r).next(o=>(s=new pn(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function ic(n,e,t){const r=K(n),s=r.Fs.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ss(o))throw o;B(cu,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function cm(n,e,t){const r=K(n);let s=W.min(),i=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const m=K(c),g=m.Ms.get(d);return g!==void 0?M.resolve(m.Fs.get(g)):m.hi.getTargetData(u,d)}(r,o,Et(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,t?s:W.min(),t?i:ne())).next(l=>(lR(r,GS(e),l),{documents:l,qs:i})))}function lR(n,e,t){let r=n.xs.get(e)||W.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.xs.set(e,r)}class um{constructor(){this.activeTargetIds=ZS()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cR{constructor(){this.Fo=new um,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new um,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="ConnectivityMonitor";class dm{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){B(hm,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){B(hm,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ki=null;function oc(){return Ki===null?Ki=function(){return 268435456+Math.round(2147483648*Math.random())}():Ki++,"0x"+Ki.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="RestConnection",hR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dR{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===So?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,i){const o=oc(),l=this.Go(e,t.toUriEncodedString());B(hl,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,s,i);const{host:u}=new URL(l),d=es(u);return this.jo(e,l,c,r,d).then(m=>(B(hl,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Rn(hl,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m})}Jo(e,t,r,s,i,o){return this.Wo(e,t,r,s,i)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ns}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,t){const r=hR[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class mR extends dR{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,s,i){const o=oc();return new Promise((l,c)=>{const u=new zy;u.setWithCredentials(!0),u.listenOnce(qy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case no.NO_ERROR:const m=u.getResponseJson();B(He,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case no.TIMEOUT:B(He,`RPC '${e}' ${o} timed out`),c(new U(D.DEADLINE_EXCEEDED,"Request time out"));break;case no.HTTP_ERROR:const g=u.getStatus();if(B(He,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const T=function(V){const k=V.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(k)>=0?k:D.UNKNOWN}(b.status);c(new U(T,b.message))}else c(new U(D.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new U(D.UNAVAILABLE,"Connection failed."));break;default:H(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{B(He,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);B(He,`RPC '${e}' ${o} sending request:`,s),u.send(t,"POST",d,r,15)})}P_(e,t,r){const s=oc(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Wy(),l=Gy(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=i.join("");B(He,`Creating RPC '${e}' stream ${s}: ${d}`,c);const m=o.createWebChannel(d,c);this.T_(m);let g=!1,y=!1;const b=new fR({Ho:x=>{y?B(He,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(g||(B(He,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),B(He,`RPC '${e}' stream ${s} sending:`,x),m.send(x))},Yo:()=>m.close()}),T=(x,V,k)=>{x.listen(V,R=>{try{k(R)}catch(O){setTimeout(()=>{throw O},0)}})};return T(m,Ps.EventType.OPEN,()=>{y||(B(He,`RPC '${e}' stream ${s} transport opened.`),b.s_())}),T(m,Ps.EventType.CLOSE,()=>{y||(y=!0,B(He,`RPC '${e}' stream ${s} transport closed`),b.__(),this.I_(m))}),T(m,Ps.EventType.ERROR,x=>{y||(y=!0,Rn(He,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),b.__(new U(D.UNAVAILABLE,"The operation could not be completed")))}),T(m,Ps.EventType.MESSAGE,x=>{var V;if(!y){const k=x.data[0];le(!!k,16349);const R=k,O=(R==null?void 0:R.error)||((V=R[0])===null||V===void 0?void 0:V.error);if(O){B(He,`RPC '${e}' stream ${s} received error:`,O);const F=O.status;let $=function(_){const C=Se[_];if(C!==void 0)return Nv(C)}(F),A=O.message;$===void 0&&($=D.INTERNAL,A="Unknown error status: "+F+" with message "+O.message),y=!0,b.__(new U($,A)),m.close()}else B(He,`RPC '${e}' stream ${s} received:`,k),b.a_(k)}}),T(l,Hy.STAT_EVENT,x=>{x.stat===Wl.PROXY?B(He,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Wl.NOPROXY&&B(He,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function dl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(n){return new vP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-r);s>0&&B("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="PersistentStream";class Hv{constructor(e,t,r,s,i,o,l,c){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new qv(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(Kt(t.toString()),Kt("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===t&&this.W_(r,s)},r=>{e(()=>{const s=new U(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return B(fm,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(B(fm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pR extends Hv{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=xP(this.serializer,e),r=function(i){if(!("targetChange"in i))return W.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?W.min():o.readTime?At(o.readTime):W.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=sc(this.serializer),t.addTarget=function(i,o){let l;const c=o.target;if(l=Zl(c)?{documents:EP(i,c)}:{query:IP(i,c).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=jv(i,o.resumeToken);const u=tc(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(W.min())>0){l.readTime=Vo(i,o.snapshotVersion.toTimestamp());const u=tc(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=CP(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=sc(this.serializer),t.removeTarget=e,this.k_(t)}}class gR extends Hv{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=TP(e.writeResults,e.commitTime),r=At(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=sc(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>bP(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{}class vR extends yR{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new U(D.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,nc(t,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new U(D.UNKNOWN,i.toString())})}Jo(e,t,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Jo(e,nc(t,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(D.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class wR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Kt(t),this._a=!1):B("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="RemoteStore";class _R{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{wr(this)&&(B(ar,"Restarting streams for network reachability change."),await async function(c){const u=K(c);u.Ia.add(4),await yi(u),u.Aa.set("Unknown"),u.Ia.delete(4),await da(u)}(this))})}),this.Aa=new wR(r,s)}}async function da(n){if(wr(n))for(const e of n.da)await e(!0)}async function yi(n){for(const e of n.da)await e(!1)}function Gv(n,e){const t=K(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),fu(t)?du(t):os(t).x_()&&hu(t,e))}function uu(n,e){const t=K(n),r=os(t);t.Ta.delete(e),r.x_()&&Wv(t,e),t.Ta.size===0&&(r.x_()?r.B_():wr(t)&&t.Aa.set("Unknown"))}function hu(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}os(n).H_(e)}function Wv(n,e){n.Ra.$e(e),os(n).Y_(e)}function du(n){n.Ra=new mP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),os(n).start(),n.Aa.aa()}function fu(n){return wr(n)&&!os(n).M_()&&n.Ta.size>0}function wr(n){return K(n).Ia.size===0}function Kv(n){n.Ra=void 0}async function xR(n){n.Aa.set("Online")}async function bR(n){n.Ta.forEach((e,t)=>{hu(n,e)})}async function TR(n,e){Kv(n),fu(n)?(n.Aa.la(e),du(n)):n.Aa.set("Unknown")}async function ER(n,e,t){if(n.Aa.set("Online"),e instanceof Vv&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ta.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ta.delete(l),s.Ra.removeTarget(l))}(n,e)}catch(r){B(ar,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Do(n,r)}else if(e instanceof oo?n.Ra.Ye(e):e instanceof kv?n.Ra.it(e):n.Ra.et(e),!t.isEqual(W.min()))try{const r=await zv(n.localStore);t.compareTo(r)>=0&&await function(i,o){const l=i.Ra.Pt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ta.get(u);d&&i.Ta.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ta.get(c);if(!d)return;i.Ta.set(c,d.withResumeToken(Ye.EMPTY_BYTE_STRING,d.snapshotVersion)),Wv(i,c);const m=new pn(d.target,c,u,d.sequenceNumber);hu(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(r){B(ar,"Failed to raise snapshot:",r),await Do(n,r)}}async function Do(n,e,t){if(!ss(e))throw e;n.Ia.add(1),await yi(n),n.Aa.set("Offline"),t||(t=()=>zv(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{B(ar,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await da(n)})}function Qv(n,e){return e().catch(t=>Do(n,t,e))}async function fa(n){const e=K(n),t=Dn(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Qc;for(;IR(e);)try{const s=await oR(e.localStore,r);if(s===null){e.Pa.length===0&&t.B_();break}r=s.batchId,AR(e,s)}catch(s){await Do(e,s)}Xv(e)&&Jv(e)}function IR(n){return wr(n)&&n.Pa.length<10}function AR(n,e){n.Pa.push(e);const t=Dn(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function Xv(n){return wr(n)&&!Dn(n).M_()&&n.Pa.length>0}function Jv(n){Dn(n).start()}async function CR(n){Dn(n).na()}async function SR(n){const e=Dn(n);for(const t of n.Pa)e.X_(t.mutations)}async function PR(n,e,t){const r=n.Pa.shift(),s=ru.from(r,e,t);await Qv(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await fa(n)}async function RR(n,e){e&&Dn(n).Z_&&await async function(r,s){if(function(o){return dP(o)&&o!==D.ABORTED}(s.code)){const i=r.Pa.shift();Dn(r).N_(),await Qv(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await fa(r)}}(n,e),Xv(n)&&Jv(n)}async function mm(n,e){const t=K(n);t.asyncQueue.verifyOperationInProgress(),B(ar,"RemoteStore received new credentials");const r=wr(t);t.Ia.add(3),await yi(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await da(t)}async function NR(n,e){const t=K(n);e?(t.Ia.delete(2),await da(t)):e||(t.Ia.add(2),await yi(t),t.Aa.set("Unknown"))}function os(n){return n.Va||(n.Va=function(t,r,s){const i=K(t);return i.ia(),new pR(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Zo:xR.bind(null,n),e_:bR.bind(null,n),n_:TR.bind(null,n),J_:ER.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),fu(n)?du(n):n.Aa.set("Unknown")):(await n.Va.stop(),Kv(n))})),n.Va}function Dn(n){return n.ma||(n.ma=function(t,r,s){const i=K(t);return i.ia(),new gR(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:CR.bind(null,n),n_:RR.bind(null,n),ea:SR.bind(null,n),ta:PR.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await fa(n)):(await n.ma.stop(),n.Pa.length>0&&(B(ar,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,l=new mu(e,t,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pu(n,e){if(Kt("AsyncQueue",`${e}: ${n}`),ss(n))return new U(D.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{static emptySet(e){return new Or(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||z.comparator(t.key,r.key):(t,r)=>z.comparator(t.key,r.key),this.keyedMap=Rs(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Or)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Or;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.fa=new xe(z.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):H(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Kr{constructor(e,t,r,s,i,o,l,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new Kr(e,t,Or.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class VR{constructor(){this.queries=gm(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const s=K(t),i=s.queries;s.queries=gm(),i.forEach((o,l)=>{for(const c of l.wa)c.onError(r)})})(this,new U(D.ABORTED,"Firestore shutting down"))}}function gm(){return new yr(n=>wv(n),oa)}async function jR(n,e){const t=K(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new kR,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await t.onListen(s,!0);break;case 1:i.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const l=pu(o,`Initialization of query '${Cr(e.query)}' failed`);return void e.onError(l)}t.queries.set(s,i),i.wa.push(e),e.va(t.onlineState),i.ya&&e.Ca(i.ya)&&gu(t)}async function DR(n,e){const t=K(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function OR(n,e){const t=K(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const l of o.wa)l.Ca(s)&&(r=!0);o.ya=s}}r&&gu(t)}function MR(n,e,t){const r=K(n),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(t);r.queries.delete(e)}function gu(n){n.Da.forEach(e=>{e.next()})}var ac,ym;(ym=ac||(ac={})).Fa="default",ym.Cache="cache";class LR{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Kr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Kr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ac.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.key=e}}class e0{constructor(e){this.key=e}}class FR{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ne(),this.mutatedKeys=ne(),this.Xa=_v(e),this.eu=new Or(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new pm,s=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,m)=>{const g=s.get(d),y=aa(this.query,m)?m:null,b=!!g&&this.mutatedKeys.has(g.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;g&&y?g.data.isEqual(y.data)?b!==T&&(r.track({type:3,doc:y}),x=!0):this.iu(g,y)||(r.track({type:2,doc:y}),x=!0,(c&&this.Xa(y,c)>0||u&&this.Xa(y,u)<0)&&(l=!0)):!g&&y?(r.track({type:0,doc:y}),x=!0):g&&!y&&(r.track({type:1,doc:g}),x=!0,(c||u)&&(l=!0)),x&&(y?(o=o.add(y),i=T?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:l,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,m)=>function(y,b){const T=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H(20277,{At:x})}};return T(y)-T(b)}(d.type,m.type)||this.Xa(d.doc,m.doc)),this.su(r),s=s!=null&&s;const l=t&&!s?this.ou():[],c=this.Za.size===0&&this.current&&!s?1:0,u=c!==this.Ya;return this.Ya=c,o.length!==0||u?{snapshot:new Kr(this.query,e.eu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new pm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ne(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new e0(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Zv(r))}),t}uu(e){this.Ha=e.qs,this.Za=ne();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Kr.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const yu="SyncEngine";class UR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class BR{constructor(e){this.key=e,this.lu=!1}}class YR{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new yr(l=>wv(l),oa),this.Tu=new Map,this.Iu=new Set,this.du=new xe(z.comparator),this.Eu=new Map,this.Au=new ou,this.Ru={},this.Vu=new Map,this.mu=Wr.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function $R(n,e,t=!0){const r=o0(n);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await t0(r,e,t,!0),s}async function zR(n,e){const t=o0(n);await t0(t,e,!0,!1)}async function t0(n,e,t,r){const s=await aR(n.localStore,Et(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let l;return r&&(l=await qR(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&Gv(n.remoteStore,s),l}async function qR(n,e,t,r,s){n.gu=(m,g,y)=>async function(T,x,V,k){let R=x.view.nu(V);R.Ds&&(R=await cm(T.localStore,x.query,!1).then(({documents:A})=>x.view.nu(A,R)));const O=k&&k.targetChanges.get(x.targetId),F=k&&k.targetMismatches.get(x.targetId)!=null,$=x.view.applyChanges(R,T.isPrimaryClient,O,F);return wm(T,x.targetId,$._u),$.snapshot}(n,m,g,y);const i=await cm(n.localStore,e,!0),o=new FR(e,i.qs),l=o.nu(i.documents),c=gi.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),u=o.applyChanges(l,n.isPrimaryClient,c);wm(n,t,u._u);const d=new UR(e,t,o);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot}async function HR(n,e,t){const r=K(n),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!oa(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ic(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&uu(r.remoteStore,s.targetId),lc(r,s.targetId)}).catch(rs)):(lc(r,s.targetId),await ic(r.localStore,s.targetId,!0))}async function GR(n,e){const t=K(n),r=t.Pu.get(e),s=t.Tu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),uu(t.remoteStore,r.targetId))}async function WR(n,e,t){const r=tN(n);try{const s=await function(o,l){const c=K(o),u=pe.now(),d=l.reduce((y,b)=>y.add(b.key),ne());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Qt(),T=ne();return c.Os.getEntries(y,d).next(x=>{b=x,b.forEach((V,k)=>{k.isValidDocument()||(T=T.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,b)).next(x=>{m=x;const V=[];for(const k of l){const R=aP(k,m.get(k.key).overlayedDocument);R!=null&&V.push(new vr(k.key,R,uv(R.value.mapValue),It.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,V,l)}).next(x=>{g=x;const V=x.applyToLocalDocumentSet(m,T);return c.documentOverlayCache.saveOverlays(y,x.batchId,V)})}).then(()=>({batchId:g.batchId,changes:bv(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Ru[o.currentUser.toKey()];u||(u=new xe(J)),u=u.insert(l,c),o.Ru[o.currentUser.toKey()]=u}(r,s.batchId,t),await vi(r,s.changes),await fa(r.remoteStore)}catch(s){const i=pu(s,"Failed to persist write");t.reject(i)}}async function n0(n,e){const t=K(n);try{const r=await sR(t.localStore,e);e.targetChanges.forEach((s,i)=>{const o=t.Eu.get(i);o&&(le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?le(o.lu,14607):s.removedDocuments.size>0&&(le(o.lu,42227),o.lu=!1))}),await vi(t,r,e)}catch(r){await rs(r)}}function vm(n,e,t){const r=K(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Pu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=K(o);c.onlineState=l;let u=!1;c.queries.forEach((d,m)=>{for(const g of m.wa)g.va(l)&&(u=!0)}),u&&gu(c)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KR(n,e,t){const r=K(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new xe(z.comparator);o=o.insert(i,Ke.newNoDocument(i,W.min()));const l=ne().add(i),c=new ua(W.min(),new Map,new xe(J),o,l);await n0(r,c),r.du=r.du.remove(i),r.Eu.delete(e),vu(r)}else await ic(r.localStore,e,!1).then(()=>lc(r,e,t)).catch(rs)}async function QR(n,e){const t=K(n),r=e.batch.batchId;try{const s=await rR(t.localStore,e);s0(t,r,null),r0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await vi(t,s)}catch(s){await rs(s)}}async function XR(n,e,t){const r=K(n);try{const s=await function(o,l){const c=K(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(m=>(le(m!==null,37113),d=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);s0(r,e,t),r0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await vi(r,s)}catch(s){await rs(s)}}function r0(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function s0(n,e,t){const r=K(n);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function lc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||i0(n,r)})}function i0(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(uu(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),vu(n))}function wm(n,e,t){for(const r of t)r instanceof Zv?(n.Au.addReference(r.key,e),JR(n,r)):r instanceof e0?(B(yu,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||i0(n,r.key)):H(19791,{yu:r})}function JR(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(B(yu,"New document in limbo: "+t),n.Iu.add(r),vu(n))}function vu(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new z(he.fromString(e)),r=n.mu.next();n.Eu.set(r,new BR(t)),n.du=n.du.insert(t,r),Gv(n.remoteStore,new pn(Et(yv(t.path)),r,"TargetPurposeLimboResolution",ra.ue))}}async function vi(n,e,t){const r=K(n),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((l,c)=>{o.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){const m=u?!u.fromCache:(d=t==null?void 0:t.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){s.push(u);const m=lu.Es(c.targetId,u);i.push(m)}}))}),await Promise.all(o),r.hu.J_(s),await async function(c,u){const d=K(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>M.forEach(u,g=>M.forEach(g.Is,y=>d.persistence.referenceDelegate.addReference(m,g.targetId,y)).next(()=>M.forEach(g.ds,y=>d.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))}catch(m){if(!ss(m))throw m;B(cu,"Failed to update sequence numbers: "+m)}for(const m of u){const g=m.targetId;if(!m.fromCache){const y=d.Fs.get(g),b=y.snapshotVersion,T=y.withLastLimboFreeSnapshotVersion(b);d.Fs=d.Fs.insert(g,T)}}}(r.localStore,i))}async function ZR(n,e){const t=K(n);if(!t.currentUser.isEqual(e)){B(yu,"User change. New user:",e.toKey());const r=await $v(t.localStore,e);t.currentUser=e,function(i,o){i.Vu.forEach(l=>{l.forEach(c=>{c.reject(new U(D.CANCELLED,o))})}),i.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vi(t,r.Bs)}}function eN(n,e){const t=K(n),r=t.Eu.get(e);if(r&&r.lu)return ne().add(r.key);{let s=ne();const i=t.Tu.get(e);if(!i)return s;for(const o of i){const l=t.Pu.get(o);s=s.unionWith(l.view.tu)}return s}}function o0(n){const e=K(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=n0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KR.bind(null,e),e.hu.J_=OR.bind(null,e.eventManager),e.hu.pu=MR.bind(null,e.eventManager),e}function tN(n){const e=K(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XR.bind(null,e),e}class Oo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ha(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return nR(this.persistence,new ZP,e.initialUser,this.serializer)}Du(e){return new Yv(au.Vi,this.serializer)}bu(e){return new cR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oo.provider={build:()=>new Oo};class nN extends Oo{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){le(this.persistence.referenceDelegate instanceof jo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LP(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?rt.withCacheSize(this.cacheSizeBytes):rt.DEFAULT;return new Yv(r=>jo.Vi(r,t),this.serializer)}}class cc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZR.bind(null,this.syncEngine),await NR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VR}()}createDatastore(e){const t=ha(e.databaseInfo.databaseId),r=function(i){return new mR(i)}(e.databaseInfo);return function(i,o,l,c){return new vR(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,o,l){return new _R(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,t=>vm(this.syncEngine,t,0),function(){return dm.C()?new dm:new uR}())}createSyncEngine(e,t){return function(s,i,o,l,c,u,d){const m=new YR(s,i,o,l,c,u);return d&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=K(s);B(ar,"RemoteStore shutting down."),i.Ia.add(5),await yi(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cc.provider={build:()=>new cc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Kt("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="FirestoreClient";class sN{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=We.UNAUTHENTICATED,this.clientId=Kc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{B(On,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(B(On,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=pu(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fl(n,e){n.asyncQueue.verifyOperationInProgress(),B(On,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $v(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Rn("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{B("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Rn("Terminating Firestore due to IndexedDb database deletion failed",s)})}),n._offlineComponents=e}async function _m(n,e){n.asyncQueue.verifyOperationInProgress();const t=await iN(n);B(On,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>mm(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>mm(e.remoteStore,s)),n._onlineComponents=e}async function iN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(On,"Using user provided OfflineComponentProvider");try{await fl(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===D.FAILED_PRECONDITION||s.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Rn("Error using user provided cache. Falling back to memory cache: "+t),await fl(n,new Oo)}}else B(On,"Using default OfflineComponentProvider"),await fl(n,new nN(void 0));return n._offlineComponents}async function a0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(On,"Using user provided OnlineComponentProvider"),await _m(n,n._uninitializedComponentsProvider._online)):(B(On,"Using default OnlineComponentProvider"),await _m(n,new cc))),n._onlineComponents}function oN(n){return a0(n).then(e=>e.syncEngine)}async function aN(n){const e=await a0(n),t=e.eventManager;return t.onListen=$R.bind(null,e.syncEngine),t.onUnlisten=HR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GR.bind(null,e.syncEngine),t}function lN(n,e,t={}){const r=new In;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new rN({next:g=>{d.Ou(),o.enqueueAndForget(()=>DR(i,m)),g.fromCache&&c.source==="server"?u.reject(new U(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new LR(l,d,{includeMetadataChanges:!0,ka:!0});return jR(i,m)}(await aN(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="firestore.googleapis.com",bm=!0;class Tm{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c0,this.ssl=bm}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:bm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OP)throw new U(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_S("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new U(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new U(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new U(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ma{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hS;switch(r.type){case"firstParty":return new pS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=xm.get(t);r&&(B("ComponentProvider","Removing Datastore"),xm.delete(t),r.terminate())}(this),Promise.resolve()}}function cN(n,e,t,r={}){var s;n=Qs(n,ma);const i=es(e),o=n._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;i&&(Dy(`https://${c}`),Oy("Firestore",!0)),o.host!==c0&&o.host!==c&&Rn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!sr(u,l)&&(n._setSettings(u),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=We.MOCK_USER;else{d=LA(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new U(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new We(g)}n._authCredentials=new dS(new Qy(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fn(this.firestore,e,this._query)}}class Me{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new An(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Me(this.firestore,e,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(mi(t,Me._jsonSchema))return new Me(e,r||null,new z(he.fromString(t.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:ke("string",Me._jsonSchemaVersion),referencePath:ke("string")};class An extends Fn{constructor(e,t,r){super(e,t,yv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Me(this.firestore,null,new z(e))}withConverter(e){return new An(this.firestore,e,this._path)}}function Em(n,e,...t){if(n=dt(n),Jy("collection","path",e),n instanceof ma){const r=he.fromString(e,...t);return Of(r),new An(n,null,r)}{if(!(n instanceof Me||n instanceof An))throw new U(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(he.fromString(e,...t));return Of(r),new An(n.firestore,null,r)}}function u0(n,e,...t){if(n=dt(n),arguments.length===1&&(e=Kc.newId()),Jy("doc","path",e),n instanceof ma){const r=he.fromString(e,...t);return Df(r),new Me(n,null,new z(r))}{if(!(n instanceof Me||n instanceof An))throw new U(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(he.fromString(e,...t));return Df(r),new Me(n.firestore,n instanceof An?n.converter:null,new z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="AsyncQueue";class Am{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new qv(this,"async_queue_retry"),this.oc=()=>{const r=dl();r&&B(Im,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=dl();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=dl();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new In;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ss(e))throw e;B(Im,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Kt("INTERNAL UNHANDLED ERROR: ",Cm(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=mu.createAndSchedule(this,e,t,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&H(47125,{hc:Cm(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Cm(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class pa extends ma{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Am,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Am(e),this._firestoreClient=void 0,await e}}}function uN(n,e){const t=typeof n=="object"?n:Uy(),r=typeof n=="string"?n:e||So,s=Gc(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=OA("firestore");i&&cN(s,...i)}return s}function h0(n){if(n._terminated)throw new U(D.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hN(n),n._firestoreClient}function hN(n){var e,t,r;const s=n._freezeSettings(),i=function(l,c,u,d){return new kS(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,l0(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new sN(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ht(Ye.fromBase64String(e))}catch(t){throw new U(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ht(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ht._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mi(e,ht._jsonSchema))return ht.fromBase64String(e.bytes)}}ht._jsonSchemaVersion="firestore/bytes/1.0",ht._jsonSchema={type:ke("string",ht._jsonSchemaVersion),bytes:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ue(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ct._jsonSchemaVersion}}static fromJSON(e){if(mi(e,Ct._jsonSchema))return new Ct(e.latitude,e.longitude)}}Ct._jsonSchemaVersion="firestore/geoPoint/1.0",Ct._jsonSchema={type:ke("string",Ct._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:St._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mi(e,St._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new St(e.vectorValues);throw new U(D.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}St._jsonSchemaVersion="firestore/vectorValue/1.0",St._jsonSchema={type:ke("string",St._jsonSchemaVersion),vectorValues:ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=/^__.*__$/;class fN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,t,this.fieldTransforms):new pi(e,this.data,t,this.fieldTransforms)}}function d0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H(40011,{Ec:n})}}class xu{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new xu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Mo(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(d0(this.Ec)&&dN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class mN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ha(e)}Dc(e,t,r,s=!1){return new xu({Ec:e,methodName:t,bc:r,path:Ue.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f0(n){const e=n._freezeSettings(),t=ha(n._databaseId);return new mN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pN(n,e,t,r,s,i={}){const o=n.Dc(i.merge||i.mergeFields?2:0,e,t,s);g0("Data must be an object, but it was:",o,r);const l=m0(r,o);let c,u;if(i.merge)c=new gt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const g=yN(e,m,t);if(!o.contains(g))throw new U(D.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);wN(d,g)||d.push(g)}c=new gt(d),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new fN(new ut(l),c,u)}class bu extends _u{_toFieldTransform(e){return new rP(e.path,new ni)}isEqual(e){return e instanceof bu}}function gN(n,e,t,r=!1){return Tu(t,n.Dc(r?4:3,e))}function Tu(n,e){if(p0(n=dt(n)))return g0("Unsupported field value:",e,n),m0(n,e);if(n instanceof _u)return function(r,s){if(!d0(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Tu(l,s.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=pe.fromDate(r);return{timestampValue:Vo(s.serializer,i)}}if(r instanceof pe){const i=new pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vo(s.serializer,i)}}if(r instanceof Ct)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ht)return{bytesValue:jv(s.serializer,r._byteString)};if(r instanceof Me){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iu(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof St)return function(o,l){return{mapValue:{fields:{[av]:{stringValue:cv},[Po]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.wc("VectorValues must only contain numeric values.");return tu(l.serializer,u)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${na(r)}`)}(n,e)}function m0(n,e){const t={};return tv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gr(n,(r,s)=>{const i=Tu(s,e.Vc(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function p0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pe||n instanceof Ct||n instanceof ht||n instanceof Me||n instanceof _u||n instanceof St)}function g0(n,e,t){if(!p0(t)||!Zy(t)){const r=na(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function yN(n,e,t){if((e=dt(e))instanceof wu)return e._internalPath;if(typeof e=="string")return y0(n,e);throw Mo("Field path arguments must be of type string or ",n,!1,void 0,t)}const vN=new RegExp("[~\\*/\\[\\]]");function y0(n,e,t){if(e.search(vN)>=0)throw Mo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wu(...e.split("."))._internalPath}catch{throw Mo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mo(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new U(D.INVALID_ARGUMENT,l+n+c)}function wN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Eu("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _N extends v0{data(){return super.data()}}function Eu(n,e){return typeof e=="string"?y0(n,e):e instanceof wu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new U(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iu{}class Au extends Iu{}function bN(n,e,...t){let r=[];e instanceof Iu&&r.push(e),r=r.concat(t),function(i){const o=i.filter(c=>c instanceof Su).length,l=i.filter(c=>c instanceof Cu).length;if(o>1||o>0&&l>0)throw new U(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Cu extends Au{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Cu(e,t,r)}_apply(e){const t=this._parse(e);return w0(e._query,t),new Fn(e.firestore,e.converter,ec(e._query,t))}_parse(e){const t=f0(e.firestore);return function(i,o,l,c,u,d,m){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new U(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Pm(m,d);const b=[];for(const T of m)b.push(Sm(c,i,T));g={arrayValue:{values:b}}}else g=Sm(c,i,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Pm(m,d),g=gN(l,o,m,d==="in"||d==="not-in");return Ne.create(u,d,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Su extends Iu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Su(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:vt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)w0(o,c),o=ec(o,c)}(e._query,t),new Fn(e.firestore,e.converter,ec(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pu extends Au{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Pu(e,t)}_apply(e){const t=function(s,i,o){if(s.startAt!==null)throw new U(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new U(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ti(i,o)}(e._query,this._field,this._direction);return new Fn(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new is(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function TN(n,e="asc"){const t=e,r=Eu("orderBy",n);return Pu._create(r,t)}class Ru extends Au{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ru(e,t,r)}_apply(e){return new Fn(e.firestore,e.converter,No(e._query,this._limit,this._limitType))}}function EN(n){return xS("limit",n),Ru._create("limit",n,"F")}function Sm(n,e,t){if(typeof(t=dt(t))=="string"){if(t==="")throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vv(e)&&t.indexOf("/")!==-1)throw new U(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(he.fromString(t));if(!z.isDocumentKey(r))throw new U(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zf(n,new z(r))}if(t instanceof Me)return zf(n,t._key);throw new U(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${na(t)}.`)}function Pm(n,e){if(!Array.isArray(n)||n.length===0)throw new U(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w0(n,e){const t=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new U(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class IN{convertValue(e,t="none"){switch(jn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw H(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return gr(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Po].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ce(o.doubleValue));return new St(i)}convertGeoPoint(e){return new Ct(Ce(e.latitude),Ce(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ia(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Js(e));default:return null}}convertTimestamp(e){const t=kn(e);return new pe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=he.fromString(e);le(Uv(r),9688,{name:e});const s=new Zs(r.get(1),r.get(3)),i=new z(r.popFirst(5));return s.isEqual(t)||Kt(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Qi{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mr extends v0{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ao(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Eu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new U(D.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Mr._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Mr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mr._jsonSchema={type:ke("string",Mr._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class ao extends Mr{data(e={}){return super.data(e)}}class Lr{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Qi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ao(this._firestore,this._userDataWriter,r.key,r,new Qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new U(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new ao(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Qi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new ao(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Qi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:CN(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new U(D.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H(61501,{type:n})}}Lr._jsonSchemaVersion="firestore/querySnapshot/1.0",Lr._jsonSchema={type:ke("string",Lr._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};class SN extends IN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ht(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Me(this.firestore,null,t)}}function PN(n){n=Qs(n,Fn);const e=Qs(n.firestore,pa),t=h0(e),r=new SN(e);return xN(n._query),lN(t,n._query).then(s=>new Lr(e,r,n,s))}function RN(n){return _0(Qs(n.firestore,pa),[new nu(n._key,It.none())])}function NN(n,e){const t=Qs(n.firestore,pa),r=u0(n),s=AN(n.converter,e);return _0(t,[pN(f0(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,It.exists(!1))]).then(()=>r)}function _0(n,e){return function(r,s){const i=new In;return r.asyncQueue.enqueueAndForget(async()=>WR(await oN(r),s,i)),i.promise}(h0(n),e)}function Rm(){return new bu("serverTimestamp")}(function(e,t=!0){(function(s){ns=s})(ts),zr(new ir("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new pa(new fS(r.getProvider("auth-internal")),new gS(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new U(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zs(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:t},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Tn(Rf,Nf,e),Tn(Rf,Nf,"esm2017")})();var kN="firebase",VN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn(kN,VN,"app");function x0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jN=x0,b0=new di("auth","Firebase",x0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new qc("@firebase/auth");function DN(n,...e){Lo.logLevel<=te.WARN&&Lo.warn(`Auth (${ts}): ${n}`,...e)}function lo(n,...e){Lo.logLevel<=te.ERROR&&Lo.error(`Auth (${ts}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n,...e){throw Nu(n,...e)}function Pt(n,...e){return Nu(n,...e)}function T0(n,e,t){const r=Object.assign(Object.assign({},jN()),{[e]:t});return new di("auth","Firebase",r).create(e,{appName:n.name})}function tr(n){return T0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nu(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return b0.create(n,...e)}function G(n,e,...t){if(!n)throw Nu(e,...t)}function Bt(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lo(e),new Error(e)}function Jt(n,e){n||Bt(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ON(){return Nm()==="http:"||Nm()==="https:"}function Nm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ON()||zA()||"connection"in navigator)?navigator.onLine:!0}function LN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jt(t>e,"Short delay should be less than long delay!"),this.isMobile=BA()||qA()}get(){return MN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(n,e){Jt(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BN=new wi(3e4,6e4);function Vu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function as(n,e,t,r,s={}){return I0(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=fi(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:c},i);return $A()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&es(n.emulatorConfig.host)&&(u.credentials="include"),E0.fetch()(await A0(n,n.config.apiHost,t,l),u)})}async function I0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},FN),e);try{const s=new $N(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Xi(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xi(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Xi(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Xi(n,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw T0(n,d,u);Xt(n,d)}}catch(s){if(s instanceof Zt)throw s;Xt(n,"network-request-failed",{message:String(s)})}}async function YN(n,e,t,r,s={}){const i=await as(n,e,t,r,s);return"mfaPendingCredential"in i&&Xt(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function A0(n,e,t,r){const s=`${e}${t}?${r}`,i=n,o=i.config.emulator?ku(n.config,s):`${n.config.apiScheme}://${s}`;return UN.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class $N{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pt(this.auth,"network-request-failed")),BN.get())})}}function Xi(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Pt(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(n,e){return as(n,"POST","/v1/accounts:delete",e)}async function Fo(n,e){return as(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qN(n,e=!1){const t=dt(n),r=await t.getIdToken(e),s=ju(r);G(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bs(ml(s.auth_time)),issuedAtTime:Bs(ml(s.iat)),expirationTime:Bs(ml(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ml(n){return Number(n)*1e3}function ju(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return lo("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ny(t);return s?JSON.parse(s):(lo("Failed to decode base64 JWT payload"),null)}catch(s){return lo("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function km(n){const e=ju(n);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ii(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Zt&&HN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function HN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bs(this.lastLoginAt),this.creationTime=Bs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n){var e;const t=n.auth,r=await n.getIdToken(),s=await ii(n,Fo(t,{idToken:r}));G(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?C0(i.providerUserInfo):[],l=KN(n.providerData,o),c=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new hc(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,m)}async function WN(n){const e=dt(n);await Uo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KN(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function C0(n){return n.map(e=>{var{providerId:t}=e,r=mc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(n,e){const t=await I0(n,{},async()=>{const r=fi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=await A0(n,s,"/v1/token",`key=${i}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return n.emulatorConfig&&es(n.emulatorConfig.host)&&(c.credentials="include"),E0.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XN(n,e){return as(n,"POST","/v2/accounts:revokeToken",Vu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):km(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){G(e.length!==0,"internal-error");const t=km(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await QN(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new Fr;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(G(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(G(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fr,this.toJSON())}_performRefresh(){return Bt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(n,e){G(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class yt{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=mc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ii(this,this.stsTokenManager.getToken(this.auth,e));return G(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qN(this,e)}reload(){return WN(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Uo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bt(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await ii(this,zN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,o,l,c,u,d;const m=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(s=t.email)!==null&&s!==void 0?s:void 0,y=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=t.photoURL)!==null&&o!==void 0?o:void 0,T=(l=t.tenantId)!==null&&l!==void 0?l:void 0,x=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,V=(u=t.createdAt)!==null&&u!==void 0?u:void 0,k=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:R,emailVerified:O,isAnonymous:F,providerData:$,stsTokenManager:A}=t;G(R&&A,e,"internal-error");const w=Fr.fromJSON(this.name,A);G(typeof R=="string",e,"internal-error"),an(m,e.name),an(g,e.name),G(typeof O=="boolean",e,"internal-error"),G(typeof F=="boolean",e,"internal-error"),an(y,e.name),an(b,e.name),an(T,e.name),an(x,e.name),an(V,e.name),an(k,e.name);const _=new yt({uid:R,auth:e,email:g,emailVerified:O,displayName:m,isAnonymous:F,photoURL:b,phoneNumber:y,tenantId:T,stsTokenManager:w,createdAt:V,lastLoginAt:k});return $&&Array.isArray($)&&(_.providerData=$.map(C=>Object.assign({},C))),x&&(_._redirectEventId=x),_}static async _fromIdTokenResponse(e,t,r=!1){const s=new Fr;s.updateFromServerResponse(t);const i=new yt({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Uo(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];G(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?C0(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Fr;l.updateFromIdToken(r);const c=new yt({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new hc(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Map;function Yt(n){Jt(n instanceof Function,"Expected a class definition");let e=Vm.get(n);return e?(Jt(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Vm.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}S0.type="NONE";const jm=S0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(n,e,t){return`firebase:${n}:${e}:${t}`}class Ur{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=co(this.userKey,s.apiKey,i),this.fullPersistenceKey=co("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fo(this.auth,{idToken:e}).catch(()=>{});return t?yt._fromGetAccountInfoResponse(this.auth,t,e):null}return yt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ur(Yt(jm),e,r);const s=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Yt(jm);const o=co(r,e.config.apiKey,e.name);let l=null;for(const u of t)try{const d=await u._get(o);if(d){let m;if(typeof d=="string"){const g=await Fo(e,{idToken:d}).catch(()=>{});if(!g)break;m=await yt._fromGetAccountInfoResponse(e,g,d)}else m=yt._fromJSON(e,d);u!==i&&(l=m),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ur(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ur(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j0(e))return"Blackberry";if(D0(e))return"Webos";if(R0(e))return"Safari";if((e.includes("chrome/")||N0(e))&&!e.includes("edge/"))return"Chrome";if(V0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function P0(n=Qe()){return/firefox\//i.test(n)}function R0(n=Qe()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N0(n=Qe()){return/crios\//i.test(n)}function k0(n=Qe()){return/iemobile/i.test(n)}function V0(n=Qe()){return/android/i.test(n)}function j0(n=Qe()){return/blackberry/i.test(n)}function D0(n=Qe()){return/webos/i.test(n)}function Du(n=Qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JN(n=Qe()){var e;return Du(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZN(){return HA()&&document.documentMode===10}function O0(n=Qe()){return Du(n)||V0(n)||D0(n)||j0(n)||/windows phone/i.test(n)||k0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(n,e=[]){let t;switch(n){case"Browser":t=Dm(Qe());break;case"Worker":t=`${Dm(Qe())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(n,e={}){return as(n,"GET","/v2/passwordPolicy",Vu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=6;class rk{constructor(e){var t,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:nk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Om(this),this.idTokenSubscription=new Om(this),this.beforeStateQueue=new ek(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yt(t)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ur.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fo(this,{idToken:e}),r=await yt._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uo(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bt(this.app))return Promise.reject(tr(this));const t=e?dt(e):null;return t&&G(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bt(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bt(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yt(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tk(this),t=new rk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new di("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await XN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yt(e)||this._popupRedirectResolver;G(t,this,"argument-error"),this.redirectPersistenceManager=await Ur.create(this,[Yt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(bt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&DN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ou(n){return dt(n)}class Om{constructor(e){this.auth=e,this.observer=null,this.addObserver=eC(t=>this.observer=t)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ik(n){Mu=n}function ok(n){return Mu.loadJS(n)}function ak(){return Mu.gapiScript}function lk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(n,e){const t=Gc(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(sr(i,e??{}))return s;Xt(s,"already-initialized")}return t.initialize({options:e})}function uk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Yt);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hk(n,e,t){const r=Ou(n);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(t!=null&&t.disableWarnings),i=L0(e),{host:o,port:l}=dk(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(sr(u,r.config.emulator)&&sr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,es(o)?(Dy(`${i}//${o}${c}`),Oy("Auth",!0)):s||fk()}function L0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dk(n){const e=L0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Mm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Mm(o)}}}function Mm(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function fk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bt("not implemented")}_getIdTokenResponse(e){return Bt("not implemented")}_linkToIdToken(e,t){return Bt("not implemented")}_getReauthenticationResolver(e){return Bt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Br(n,e){return YN(n,"POST","/v1/accounts:signInWithIdp",Vu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="http://localhost";class lr extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new lr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=mc(t,["providerId","signInMethod"]);if(!r||!s)return null;const o=new lr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Br(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Br(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Br(e,t)}buildRequest(){const e={requestUri:mk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fi(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends U0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un extends _i{constructor(){super("facebook.com")}static credential(e){return lr._fromParams({providerId:un.PROVIDER_ID,signInMethod:un.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return un.credentialFromTaggedObject(e)}static credentialFromError(e){return un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return un.credential(e.oauthAccessToken)}catch{return null}}}un.FACEBOOK_SIGN_IN_METHOD="facebook.com";un.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn extends _i{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return lr._fromParams({providerId:hn.PROVIDER_ID,signInMethod:hn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hn.credentialFromTaggedObject(e)}static credentialFromError(e){return hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return hn.credential(t,r)}catch{return null}}}hn.GOOGLE_SIGN_IN_METHOD="google.com";hn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends _i{constructor(){super("github.com")}static credential(e){return lr._fromParams({providerId:dn.PROVIDER_ID,signInMethod:dn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dn.credentialFromTaggedObject(e)}static credentialFromError(e){return dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dn.credential(e.oauthAccessToken)}catch{return null}}}dn.GITHUB_SIGN_IN_METHOD="github.com";dn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends _i{constructor(){super("twitter.com")}static credential(e,t){return lr._fromParams({providerId:fn.PROVIDER_ID,signInMethod:fn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fn.credentialFromTaggedObject(e)}static credentialFromError(e){return fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return fn.credential(t,r)}catch{return null}}}fn.TWITTER_SIGN_IN_METHOD="twitter.com";fn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await yt._fromIdTokenResponse(e,r,s),o=Lm(r);return new Qr({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Lm(r);return new Qr({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Lm(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Zt{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Bo.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Bo(e,t,r,s)}}function B0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Bo._fromErrorAndOperation(n,i,e,r):i})}async function pk(n,e,t=!1){const r=await ii(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qr._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(n,e,t=!1){const{auth:r}=n;if(bt(r.app))return Promise.reject(tr(r));const s="reauthenticate";try{const i=await ii(n,B0(r,s,e,n),t);G(i.idToken,r,"internal-error");const o=ju(i.idToken);G(o,r,"internal-error");const{sub:l}=o;return G(n.uid===l,r,"user-mismatch"),Qr._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Xt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(n,e,t=!1){if(bt(n.app))return Promise.reject(tr(n));const r="signIn",s=await B0(n,r,e),i=await Qr._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function vk(n,e,t,r){return dt(n).onIdTokenChanged(e,t,r)}function wk(n,e,t){return dt(n).beforeAuthStateChanged(e,t)}const Yo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yo,"1"),this.storage.removeItem(Yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=1e3,xk=10;class $0 extends Y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);ZN()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,xk):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},_k)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$0.type="LOCAL";const bk=$0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends Y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}z0.type="SESSION";const q0=z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new ga(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(t.origin,i)),c=await Tk(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ga.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=Lu("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const g=m;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(g.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return window}function Ik(n){Rt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(){return typeof Rt().WorkerGlobalScope<"u"&&typeof Rt().importScripts=="function"}async function Ak(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ck(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Sk(){return H0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="firebaseLocalStorageDb",Pk=1,$o="firebaseLocalStorage",W0="fbase_key";class xi{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ya(n,e){return n.transaction([$o],e?"readwrite":"readonly").objectStore($o)}function Rk(){const n=indexedDB.deleteDatabase(G0);return new xi(n).toPromise()}function dc(){const n=indexedDB.open(G0,Pk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore($o,{keyPath:W0})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains($o)?e(r):(r.close(),await Rk(),e(await dc()))})})}async function Fm(n,e,t){const r=ya(n,!0).put({[W0]:e,value:t});return new xi(r).toPromise()}async function Nk(n,e){const t=ya(n,!1).get(e),r=await new xi(t).toPromise();return r===void 0?null:r.value}function Um(n,e){const t=ya(n,!0).delete(e);return new xi(t).toPromise()}const kk=800,Vk=3;class K0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dc(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Vk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ga._getInstance(Sk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Ak(),!this.activeServiceWorker)return;this.sender=new Ek(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ck()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dc();return await Fm(e,Yo,"1"),await Um(e,Yo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fm(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Nk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Um(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ya(s,!1).getAll();return new xi(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K0.type="LOCAL";const jk=K0;new wi(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n,e){return e?Yt(e):(G(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends F0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Br(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Br(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Br(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ok(n){return yk(n.auth,new Fu(n),n.bypassAuthState)}function Mk(n){const{auth:e,user:t}=n;return G(t,e,"internal-error"),gk(t,new Fu(n),n.bypassAuthState)}async function Lk(n){const{auth:e,user:t}=n;return G(t,e,"internal-error"),pk(t,new Fu(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ok;case"linkViaPopup":case"linkViaRedirect":return Lk;case"reauthViaPopup":case"reauthViaRedirect":return Mk;default:Xt(this.auth,"internal-error")}}resolve(e){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=new wi(2e3,1e4);class jr extends Q0{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,jr.currentPopupAction&&jr.currentPopupAction.cancel(),jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){Jt(this.filter.length===1,"Popup operations only handle one event");const e=Lu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fk.get())};e()}}jr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="pendingRedirect",uo=new Map;class Bk extends Q0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=uo.get(this.auth._key());if(!e){try{const r=await Yk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}uo.set(this.auth._key(),e)}return this.bypassAuthState||uo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yk(n,e){const t=qk(e),r=zk(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function $k(n,e){uo.set(n._key(),e)}function zk(n){return Yt(n._redirectPersistence)}function qk(n){return co(Uk,n.config.apiKey,n.name)}async function Hk(n,e,t=!1){if(bt(n.app))return Promise.reject(tr(n));const r=Ou(n),s=Dk(r,e),o=await new Bk(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=10*60*1e3;class Wk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!X0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Pt(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bm(e))}saveEventToCache(e){this.cachedEventUids.add(Bm(e)),this.lastProcessedEventTime=Date.now()}}function Bm(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function X0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(n,e={}){return as(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jk=/^https?/;async function Zk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Qk(n);for(const t of e)try{if(eV(t))return}catch{}Xt(n,"unauthorized-domain")}function eV(n){const e=uc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Jk.test(t))return!1;if(Xk.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=new wi(3e4,6e4);function Ym(){const n=Rt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nV(n){return new Promise((e,t)=>{var r,s,i;function o(){Ym(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ym(),t(Pt(n,"network-request-failed"))},timeout:tV.get()})}if(!((s=(r=Rt().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Rt().gapi)===null||i===void 0)&&i.load)o();else{const l=lk("iframefcb");return Rt()[l]=()=>{gapi.load?o():t(Pt(n,"network-request-failed"))},ok(`${ak()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw ho=null,e})}let ho=null;function rV(n){return ho=ho||nV(n),ho}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new wi(5e3,15e3),iV="__/auth/iframe",oV="emulator/auth/iframe",aV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cV(n){const e=n.config;G(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ku(e,oV):`https://${n.config.authDomain}/${iV}`,r={apiKey:e.apiKey,appName:n.name,v:ts},s=lV.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${fi(r).slice(1)}`}async function uV(n){const e=await rV(n),t=Rt().gapi;return G(t,n,"internal-error"),e.open({where:document.body,url:cV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Pt(n,"network-request-failed"),l=Rt().setTimeout(()=>{i(o)},sV.get());function c(){Rt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dV=500,fV=600,mV="_blank",pV="http://localhost";class $m{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gV(n,e,t,r=dV,s=fV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},hV),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Qe().toLowerCase();t&&(l=N0(u)?mV:t),P0(u)&&(e=e||pV,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[y,b])=>`${g}${y}=${b},`,"");if(JN(u)&&l!=="_self")return yV(e||"",l),new $m(null);const m=window.open(e||"",l,d);G(m,n,"popup-blocked");try{m.focus()}catch{}return new $m(m)}function yV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="__/auth/handler",wV="emulator/auth/handler",_V=encodeURIComponent("fac");async function zm(n,e,t,r,s,i){G(n.config.authDomain,n,"auth-domain-config-required"),G(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ts,eventId:s};if(e instanceof U0){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",ZA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries(i||{}))o[d]=m}if(e instanceof _i){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await n._getAppCheckToken(),u=c?`#${_V}=${encodeURIComponent(c)}`:"";return`${xV(n)}?${fi(l).slice(1)}${u}`}function xV({config:n}){return n.emulator?ku(n,wV):`https://${n.authDomain}/${vV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="webStorageSupport";class bV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q0,this._completeRedirectFn=Hk,this._overrideRedirectResult=$k}async _openPopup(e,t,r,s){var i;Jt((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await zm(e,t,r,uc(),s);return gV(e,o,Lu())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await zm(e,t,r,uc(),s);return Ik(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Jt(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await uV(e),r=new Wk(e);return t.register("authEvent",s=>(G(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pl,{type:pl},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[pl];o!==void 0&&t(!!o),Xt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return O0()||R0()||Du()}}const TV=bV;var qm="@firebase/auth",Hm="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AV(n){zr(new ir("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M0(n)},u=new sk(r,s,i,c);return uk(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zr(new ir("auth-internal",e=>{const t=Ou(e.getProvider("auth").getImmediate());return(r=>new EV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(qm,Hm,IV(n)),Tn(qm,Hm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=5*60,SV=jy("authIdTokenMaxAge")||CV;let Gm=null;const PV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>SV)return;const s=t==null?void 0:t.token;Gm!==s&&(Gm=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function RV(n=Uy()){const e=Gc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ck(n,{popupRedirectResolver:TV,persistence:[jk,bk,q0]}),r=jy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=PV(i.toString());wk(t,o,()=>o(t.currentUser)),vk(t,l=>o(l))}}const s=ky("auth");return s&&hk(t,`http://${s}`),t}function NV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ik({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Pt("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",NV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AV("Browser");const kV={apiKey:"AIzaSyBEkHEv31lTHHEMAyD2EJCMvZNXrtLd4Pw",authDomain:"vaastu-guru.firebaseapp.com",projectId:"vaastu-guru",storageBucket:"vaastu-guru.firebasestorage.app",messagingSenderId:"1014806685724",appId:"1:1014806685724:web:500d11f3252c1a080cd7d9",measurementId:"G-ZYCD6R3GJE"},J0=Fy(kV);RV(J0);const gl=uN(J0),Xr=Be.forwardRef(({className:n,type:e,...t},r)=>h.jsx("input",{type:e,className:tt("flex h-10 w-full rounded-xl border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));Xr.displayName="Input";const Cn=({onSuccess:n})=>{const[e,t]=I.useState(""),[r,s]=I.useState(""),[i,o]=I.useState(!1),l=async c=>{if(c.preventDefault(),!e||!r){Re({title:"Missing Information",description:"Please fill in all fields",variant:"destructive"});return}if(r.length!==10){Re({title:"Invalid Phone",description:"Please enter a 10-digit phone number",variant:"destructive"});return}o(!0);try{await CA({name:e,phone:r})&&(Re({title:"Success!",description:"Your consultation request has been submitted"}),n==null||n())}catch(u){console.error("Submission Error:",u),Re({title:"Error",description:"Failed to submit request. Please try again.",variant:"destructive"})}finally{o(!1)}};return h.jsxs("form",{onSubmit:l,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsx(rr,{htmlFor:"name",className:"text-gray-700 font-medium",children:"Your Name"}),h.jsx(Xr,{id:"name",value:e,onChange:c=>t(c.target.value),className:"border-gray-300 focus:border-orange-500 focus:ring-orange-500 rounded-xl",required:!0})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx(rr,{htmlFor:"phone",className:"text-gray-700 font-medium",children:"Phone Number"}),h.jsx(Xr,{id:"phone",type:"tel",value:r,onChange:c=>s(c.target.value.replace(/\D/g,"")),className:"border-gray-300 focus:border-orange-500 focus:ring-orange-500 rounded-xl",maxLength:10,required:!0})]}),h.jsx(Q.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:h.jsx(ae,{type:"submit",className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-300 shadow-md hover:shadow-lg",disabled:i,children:i?h.jsxs("span",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Submit Request"})})]})};function VV(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var jV=["color"],DV=I.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,s=VV(n,jV);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),I.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const Ht=Uw,Jr=Bw,Z0=({className:n,children:e,...t})=>h.jsx(Qm,{className:tt(n),...t,children:h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e})});Z0.displayName=Qm.displayName;const ew=I.forwardRef(({className:n,...e},t)=>h.jsx(Xm,{ref:t,className:tt("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm transition-all duration-300","data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in",n),...e}));ew.displayName=Xm.displayName;const Nt=I.forwardRef(({className:n,children:e,...t},r)=>h.jsxs(Z0,{children:[h.jsx(ew,{}),h.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center justify-center w-full h-full",children:h.jsxs(Jm,{ref:r,className:tt("relative z-50 w-full max-w-md gap-4 rounded-2xl border border-orange-200 bg-gradient-to-br from-orange-50 to-white p-6 shadow-xl","animate-in data-[state=open]:fade-in-90 data-[state=open]:slide-in-from-bottom-10","sm:zoom-in-90 data-[state=open]:sm:slide-in-from-bottom-0",n),...t,children:[e,h.jsxs(Fw,{className:"absolute right-4 top-4 rounded-sm p-1 opacity-70 transition-opacity hover:bg-orange-100 hover:opacity-100 focus:outline-none disabled:pointer-events-none",children:[h.jsx(DV,{className:"h-5 w-5 text-orange-600"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})})]}));Nt.displayName=Jm.displayName;const kt=({className:n,...e})=>h.jsx("div",{className:tt("flex flex-col space-y-2 text-center",n),...e});kt.displayName="DialogHeader";const Vt=I.forwardRef(({className:n,...e},t)=>h.jsx(Zm,{ref:t,className:tt("text-2xl font-bold text-orange-600",n),...e}));Vt.displayName=Zm.displayName;const jt=I.forwardRef(({className:n,...e},t)=>h.jsx(ep,{ref:t,className:tt("text-sm text-orange-500",n),...e}));jt.displayName=ep.displayName;const OV=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-orange-500"})}),MV=({reviews:n,isSignedIn:e,user:t,handleDeleteReview:r})=>{var l;const s=I.useRef(null),[i,o]=I.useState(30);return I.useEffect(()=>{n.length>5?o(40+n.length*2):o(30)},[n.length]),h.jsx("div",{className:"overflow-hidden py-4",ref:s,children:h.jsx(Q.div,{className:"flex",animate:{x:[0,-((l=s.current)==null?void 0:l.scrollWidth)/2||-1e3]},transition:{x:{repeat:1/0,repeatType:"loop",duration:i,ease:"linear"}},children:[...n,...n].map((c,u)=>h.jsxs(Q.div,{className:"flex-shrink-0 mx-3 bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl shadow-lg min-w-[300px] max-w-[320px]",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[h.jsx(Hx,{className:"h-8 w-8 text-orange-500 mb-4"}),h.jsx("div",{className:"mb-4",children:h.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(d=>h.jsx(Oe,{className:`h-5 w-5 ${d<=c.rating?"text-yellow-400 fill-current":"text-gray-300"}`},d))})}),h.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',c.comment,'"']}),h.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[h.jsx("span",{className:"font-medium",children:c.name}),h.jsx("span",{children:c.createdAt&&!isNaN(new Date(c.createdAt).getTime())?new Date(c.createdAt).toLocaleDateString():"No date"})]}),e&&(t==null?void 0:t.id)===c.userId&&h.jsx("button",{onClick:()=>r(c.id),className:"absolute top-3 right-3 text-red-500 hover:text-red-700 transition",title:"Delete Review",children:h.jsx(Wx,{size:18})})]},`${c.id}-${u}`))})})},LV=()=>{const[n,e]=I.useState([]),[t,r]=I.useState({rating:5,comment:""}),{isLoaded:s,isSignedIn:i,user:o}=cr(),[l,c]=I.useState(!1);I.useEffect(()=>{(async()=>{try{const y=bN(Em(gl,"reviews"),TN("createdAt","desc"),EN(50)),T=(await PN(y)).docs.map(x=>{var k;const V=x.data();return{id:x.id,...V,createdAt:(k=V.createdAt)!=null&&k.toDate?V.createdAt.toDate():null,isCurrentUser:i&&V.userId===(o==null?void 0:o.id)}});e(T)}catch(y){console.error("Error fetching reviews:",y),Re({title:"Error",description:"Could not load reviews",variant:"destructive"})}})()},[i,o==null?void 0:o.id]);const u=async g=>{if(!i){Re({title:"Not signed in",description:"Please sign in to delete your review",variant:"destructive"});return}try{await RN(u0(gl,"reviews",g)),e(y=>y.filter(b=>b.id!==g)),Re({title:"Deleted",description:"Your review has been removed."})}catch(y){console.error("Error deleting review:",y),Re({title:"Error",description:"Could not delete review",variant:"destructive"})}},d=async g=>{if(g.preventDefault(),!i)return Re({title:"Please sign in",description:"You need to be logged in to submit a review",variant:"destructive"});const y=t.comment.trim();if(y.length<3)return Re({title:"Invalid comment",description:"Comment must be at least 3 characters",variant:"destructive"});if(t.rating<1||t.rating>5)return Re({title:"Invalid rating",description:"Rating must be between 1 and 5",variant:"destructive"});try{const b={name:o.fullName||o.username||"Anonymous",userId:o.id,rating:Number(t.rating),comment:y,createdAt:Rm(),updatedAt:Rm()},T=await NN(Em(gl,"reviews"),b);e(x=>[{id:T.id,...b,createdAt:new Date,isCurrentUser:!0},...x]),r({rating:5,comment:""}),Re({title:"Success!",description:"Your review has been submitted"})}catch(b){console.error("Error adding review:",b),Re({title:"Error",description:b.message||"Failed to submit review",variant:"destructive"})}},m=(g,y=!1,b=null)=>h.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(T=>h.jsx(Oe,{className:`h-5 w-5 ${T<=g?"text-yellow-400 fill-current":"text-gray-300"} ${y?"cursor-pointer hover:text-yellow-400":""}`,onClick:y?()=>b(T):void 0},T))});return s?h.jsxs(h.Fragment,{children:[h.jsxs(nr,{children:[h.jsx("title",{children:"Vaastu Guru - Expert Numerology & Vaastu Consultancy"}),h.jsx("meta",{name:"description",content:"Get expert numerology and vaastu consultations from Yashraj Guruji and Rishabh Goel. Transform your life with ancient wisdom and modern insights."})]}),h.jsxs("div",{className:"min-h-screen",children:[h.jsx("section",{className:"relative py-20 px-4 text-center",children:h.jsx("div",{className:"container mx-auto max-w-6xl",children:h.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white text-shadow",children:["Welcome to ",h.jsx("span",{className:"text-black",children:"Vaastu Guru"})]}),h.jsx("p",{className:"text-xl md:text-2xl text-white max-w-3xl mx-auto",children:"Unlock the secrets of your destiny through ancient numerology and vaastu wisdom"}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[i?h.jsxs(Ht,{open:l,onOpenChange:c,children:[h.jsx(Jr,{asChild:!0,children:h.jsx(ae,{className:"orange-gradient text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105 px-8 py-3 text-lg rounded-xl",children:"Book Consultation"})}),h.jsxs(Nt,{className:"sm:max-w-[425px]",children:[h.jsxs(kt,{children:[h.jsx(Vt,{children:"Book a Consultation"}),h.jsx(jt,{children:"Fill out the form below and we'll contact you shortly"})]}),h.jsx(Cn,{onSuccess:()=>c(!1)})]})]}):h.jsx($t,{mode:"modal",children:h.jsx(ae,{className:"orange-gradient text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105 px-8 py-3 text-lg rounded-xl",children:"Book Consultation"})}),h.jsx(ae,{asChild:!0,variant:"outline",className:"border-white text-white hover:bg-white hover:text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 px-8 py-3 text-lg rounded-xl",children:h.jsx(yn,{to:"/services",children:"Learn More"})})]})]})})}),h.jsx("section",{className:"py-16 bg-white",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[h.jsxs(Q.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},className:"space-y-6",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold gradient-text",children:"Book Expert Consultation"}),h.jsx("p",{className:"text-lg text-gray-600",children:"Get personalized guidance from our experts in numerology and vaastu shastra. Transform your life and spaces with ancient wisdom tailored to your needs."}),h.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 p-5 rounded-2xl border-2 border-orange-100 shadow-sm",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"bg-orange-500 p-2 rounded-full flex-shrink-0",children:h.jsx(Ji,{className:"h-5 w-5 text-white"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-orange-800 text-lg mb-1",children:"Instant Call Consultation"}),h.jsx("p",{className:"text-sm text-orange-700 mb-3",children:"Connect directly with Rishabh Goel for immediate guidance"}),h.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-xl border border-orange-200",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-xs text-gray-500 line-through block",children:"Regular: 2099"}),h.jsx("span",{className:"text-xl font-bold text-orange-600",children:"Only 499"})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-xs bg-gradient-to-r from-orange-500 to-amber-500 text-white px-2 py-1 rounded-full font-medium",children:"77% OFF"}),h.jsx("p",{className:"text-xs text-green-600 mt-1 font-medium",children:"Limited Time"})]})]}),h.jsxs("ul",{className:"text-xs text-orange-700 mt-3 space-y-1 pl-1",children:[h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),h.jsx("span",{children:"Accepts one Date of Birth"})]}),h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),h.jsx("span",{children:"Immediate connection after payment"})]}),h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),h.jsx("span",{children:"Personalized solutions for your needs"})]})]})]})]})}),h.jsx("div",{className:"flex flex-wrap gap-4",children:i?h.jsxs(Ht,{open:l,onOpenChange:c,children:[h.jsx(Jr,{asChild:!0,children:h.jsx(ae,{className:"orange-gradient text-white hover:orange-gradient-hover px-8 py-3 text-lg rounded-xl hover:orange-gradient-hover transition-transform duration-300 ease-in-out",children:"Book Consultation"})}),h.jsxs(Nt,{className:"sm:max-w-[425px]",children:[h.jsxs(kt,{children:[h.jsx(Vt,{children:"Book a Consultation"}),h.jsx(jt,{children:"Fill out the form below and we'll contact you shortly"})]}),h.jsx(Cn,{onSuccess:()=>c(!1)})]})]}):h.jsx($t,{mode:"modal",children:h.jsx(ae,{className:"orange-gradient text-white hover:orange-gradient-hover px-8 py-3 text-lg rounded-xl hover:orange-gradient-hover transition-transform duration-300 ease-in-out",children:"Book Consultation"})})})]}),h.jsx(Q.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"flex justify-center",children:h.jsx("img",{src:"https://eugenixhairsciences.com/wp-content/uploads/2023/09/consultation.jpg",alt:"Consultation session",className:"rounded-xl shadow-lg w-full max-w-md"})})]})})}),h.jsx("section",{className:"py-16 bg-gradient-to-r from-orange-50 to-white",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[h.jsx(Q.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},className:"flex justify-center order-2 md:order-1",children:h.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Numerology calculator",className:"rounded-xl shadow-lg w-full max-w-md"})}),h.jsxs(Q.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"space-y-6 order-1 md:order-2",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold gradient-text",children:"Numerology Calculator"}),h.jsx("p",{className:"text-lg text-gray-600",children:"Discover insights about yourself with our advanced numerology calculator:"}),h.jsxs("ul",{className:"space-y-4 text-gray-700",children:[h.jsxs("li",{className:"flex items-start",children:[h.jsx(vn,{className:"h-5 w-5 text-orange-500 mr-2 mt-1 flex-shrink-0"}),h.jsx("span",{children:"Analyzes your core personality traits and behaviors"})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx(vn,{className:"h-5 w-5 text-orange-500 mr-2 mt-1 flex-shrink-0"}),h.jsx("span",{children:"Shows your current fortune meter"})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx(vn,{className:"h-5 w-5 text-orange-500 mr-2 mt-1 flex-shrink-0"}),h.jsx("span",{children:"Checks name compatibility with person"})]})]}),h.jsx(ae,{asChild:!0,className:"orange-gradient text-white hover:orange-gradient-hover px-8 py-3 text-lg rounded-xl hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105",children:h.jsx(yn,{to:"/calculator",children:"Try Calculator"})})]})]})})}),h.jsx("section",{className:"py-16 bg-white",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[{icon:Xx,number:"10000+",label:"Happy Clients"},{icon:Fp,number:"25+",label:"Years Experience"},{icon:Bx,number:"98%",label:"Success Rate"},{icon:Kx,number:"24/7",label:"Support"}].map((g,y)=>h.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:y*.1},className:"space-y-4",children:[h.jsx(g.icon,{className:"h-12 w-12 text-orange-500 mx-auto"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-bold gradient-text",children:g.number}),h.jsx("div",{className:"text-gray-600",children:g.label})]})]},y))})})}),h.jsx("section",{className:"py-20 bg-gradient-to-r from-orange-50 to-white",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold gradient-text mb-4",children:"Meet Our Expert Consultants"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our experienced consultants combine ancient wisdom with modern insights to guide you"})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-5xl mx-auto",children:[h.jsxs(Q.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},className:"bg-white rounded-2xl shadow-md p-8 text-center border border-gray-100 hover:shadow-xl transition duration-300",children:[h.jsx("img",{alt:"Yashraj Guruji - Numerology Expert",className:"w-40 h-40 rounded-full mx-auto mb-6 object-cover border-4 border-orange-100",src:"/images/Profile2.jpg"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Yashraj Guruji"}),h.jsx("p",{className:"text-pink-600 font-medium mb-4",children:"Senior Numerology Consultant"}),h.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"With over 20 years of experience in numerology, Yashraj Guruji has helped thousands discover their life path through numbers."}),h.jsxs("div",{className:"text-sm text-left text-gray-700 mb-4 space-y-1",children:[h.jsx("p",{children:" Expert in Life Path Analysis"}),h.jsx("p",{children:" Residential Vaastu Specialist"}),h.jsx("p",{children:" Business Numerology Consultant"})]}),h.jsx("div",{className:"text-sm text-left text-gray-700 mb-4 space-y-1",children:h.jsxs("p",{children:[h.jsx("strong",{children:"Address:"})," C1, Yamuna Vihar, Delhi-110053"]})}),h.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[h.jsx("a",{href:"https://www.instagram.com/yashrajguruji/?igsh=b2U1aXpzcXh5amI%3D#",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:h.jsx(ad,{className:"w-5 h-5 text-pink-600 hover:text-pink-700 transition"})}),h.jsx("a",{href:"https://www.facebook.com/yash.kumargoel.5?rdid=VHXOM0u9TtMFE7qH&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F16GB7zP53k%2F#",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:h.jsx(od,{className:"w-5 h-5 text-blue-600 hover:text-blue-700 transition"})})]})]}),h.jsxs(Q.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8},className:"bg-white rounded-2xl shadow-md p-8 text-center border border-gray-100 hover:shadow-xl transition duration-300",children:[h.jsx("img",{alt:"Rishabh Goel - Vaastu Consultant",className:"w-40 h-40 rounded-full mx-auto mb-6 object-cover border-4 border-orange-100",src:"/images/Profile.jpg"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Rishabh Goel"}),h.jsx("p",{className:"text-orange-500 font-medium mb-4",children:"Vaastu Consultant"}),h.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"A renowned Vaastu expert with 7+ years of experience, Rishabh Goel harmonizes spaces for prosperity and peace."}),h.jsxs("div",{className:"text-sm text-left text-gray-700 mb-4 space-y-1",children:[h.jsx("p",{children:" Residential Vaastu Specialist"}),h.jsx("p",{children:" Commercial Space Consultant"}),h.jsx("p",{children:" Numerology Consultant"})]}),h.jsx("div",{className:"text-sm text-left text-gray-700 mb-4 space-y-1",children:h.jsxs("p",{children:[h.jsx("strong",{children:"Address:"})," C1, Yamuna Vihar, Delhi-110053"]})}),h.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[h.jsx("a",{href:"https://www.instagram.com/goel_bhaiji/?utm_source=qr&igsh=MTdmdTJseXdsbGV2cg%3D%3D#",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:h.jsx(ad,{className:"w-5 h-5 text-pink-600 hover:text-pink-700 transition"})}),h.jsx("a",{href:"https://www.facebook.com/VaastuGuruBhaaiji?rdid=SUgkZb3o6ORBzvv3&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F1BTUVN8G2S%2F#",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:h.jsx(od,{className:"w-5 h-5 text-blue-600 hover:text-blue-700 transition"})})]})]})]})]})}),h.jsx("section",{className:"py-20 bg-white",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[h.jsx("h2",{className:"text-4xl font-bold gradient-text mb-4",children:"What Our Clients Say"}),h.jsx("p",{className:"text-xl text-gray-600",children:"Real experiences from satisfied clients"})]}),n.length>0?h.jsx(MV,{reviews:n,isSignedIn:i,user:o,handleDeleteReview:u}):h.jsx("p",{className:"text-center text-gray-500 py-8",children:"No reviews yet. Be the first to leave one!"}),h.jsxs(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"max-w-2xl mx-auto bg-gradient-to-br from-orange-50 to-white p-8 rounded-2xl shadow-lg mt-16",children:[h.jsx("h3",{className:"text-2xl font-bold gradient-text mb-6 text-center",children:"Share Your Experience"}),!i&&h.jsxs("div",{className:"text-center mb-6 p-4 bg-orange-100 rounded-xl",children:[h.jsx("p",{className:"text-orange-700 mb-4",children:"Please login to submit a review"}),h.jsx($t,{mode:"modal",children:h.jsx(ae,{className:"orange-gradient text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105 rounded-xl",children:"Login / Sign Up"})})]}),h.jsxs("form",{onSubmit:d,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx(rr,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Your Rating"}),m(t.rating,!0,g=>r({...t,rating:g}))]}),h.jsxs("div",{children:[h.jsx(rr,{htmlFor:"comment",className:"text-sm font-medium text-gray-700 mb-2 block",children:"Your Review"}),h.jsx("textarea",{id:"comment",value:t.comment,onChange:g=>r({...t,comment:g.target.value}),placeholder:"Share your experience with our services...",className:"w-full p-3 border border-gray-300 rounded-xl focus:border-orange-500 focus:ring-orange-500 min-h-[120px] resize-none",disabled:!i,required:!0})]}),h.jsx(ae,{type:"submit",disabled:!i,className:"w-full orange-gradient text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105 rounded-xl",children:"Submit Review"})]})]})]})})]})]}):h.jsx(OV,{})},FV=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-orange-500"})}),UV=()=>{const[n,e]=I.useState("numerology"),[t,r]=I.useState(!1),{isSignedIn:s,user:i,isLoaded:o}=cr(),l=[{number:1,meaning:"Leadership",description:"Independent, driven, and natural leaders with a pioneering spirit.",color:"text-red-500"},{number:2,meaning:"Harmony",description:"Sensitive, diplomatic, and gifted at bringing people together.",color:"text-orange-500"},{number:3,meaning:"Knowledge",description:"Curious minds who value learning, insight, and intellectual growth.",color:"text-yellow-500"},{number:4,meaning:"Stability",description:"Practical, reliable, and hardworking with a love for order.",color:"text-green-500"},{number:5,meaning:"Freedom",description:"Adventurous and versatile individuals who thrive on change and express themselves with clarity and confidence.",color:"text-blue-500"},{number:6,meaning:"Care",description:"Caring, family-focused, and drawn to beauty, comfort, and elegance.",color:"text-indigo-500"},{number:7,meaning:"Spiritual",description:"Introspective, analytical, and seekers of deeper meaning.",color:"text-purple-500"},{number:8,meaning:"Ambition",description:"Confident, disciplined, and success-oriented with strong willpower.",color:"text-pink-500"},{number:9,meaning:"Compassion",description:"Kind, idealistic, and devoted to service and global harmony.",color:"text-teal-500"}],c=[{direction:"North",element:"Water",significance:"Wealth and Career",tips:"Keep this area clean and clutter-free. Place water features here.",icon:""},{direction:"Northeast",element:"Water + Earth",significance:"Spirituality and Knowledge",tips:"Ideal for prayer room or study area. Avoid heavy furniture.",icon:""},{direction:"East",element:"Air",significance:"Health and Family",tips:"Good for main entrance. Keep windows open for fresh air.",icon:""},{direction:"Southeast",element:"Fire",significance:"Energy and Passion",tips:"Perfect for kitchen placement. Avoid water elements here.",icon:""},{direction:"South",element:"Fire",significance:"Fame and Recognition",tips:"Display achievements and awards. Use red or orange colors.",icon:""},{direction:"Southwest",element:"Earth",significance:"Relationships and Stability",tips:"Master bedroom location. Use earth tones and heavy furniture.",icon:""},{direction:"West",element:"Metal",significance:"Children and Creativity",tips:"Good for children's room. Display creative works here.",icon:""},{direction:"Northwest",element:"Metal + Air",significance:"Travel and Helpful People",tips:"Guest room or office space. Keep travel photos here.",icon:""}];return o?h.jsxs(h.Fragment,{children:[h.jsxs(nr,{children:[h.jsx("title",{children:"About Numerology & Vaastu"}),h.jsx("meta",{name:"description",content:"Explore the ancient sciences of numerology and vaastu shastra. Learn principles, meanings, and practical applications for a harmonious life."})]}),h.jsx("div",{className:"min-h-screen py-20",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white text-shadow mb-4",children:["About ",h.jsx("span",{className:"text-black",children:"Ancient Wisdom"})]}),h.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Discover the profound sciences of numerology and vaastu shastra that have guided humanity for millennia"})]}),h.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex justify-center mb-12",children:h.jsxs("div",{className:"bg-white rounded-2xl p-2 shadow-lg",children:[h.jsxs("button",{onClick:()=>e("numerology"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${n==="numerology"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[h.jsx(vn,{className:"inline-block w-5 h-5 mr-2"}),"Numerology"]}),h.jsxs("button",{onClick:()=>e("vaastu"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${n==="vaastu"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[h.jsx(Up,{className:"inline-block w-5 h-5 mr-2"}),"Vaastu Shastra"]})]})}),n==="numerology"&&h.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[h.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"What is Numerology?"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-700 mb-4",children:"Numerology is the ancient study of numbers and their mystical relationship with life events. It's based on the belief that numbers have vibrational frequencies that influence our lives, personalities, and destinies."}),h.jsx("p",{className:"text-gray-700 mb-6",children:"By analyzing your birth date and name, numerology reveals insights about your:"}),h.jsxs("ul",{className:"space-y-2 text-gray-700",children:[h.jsxs("li",{className:"flex items-center",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2"})," Life Path and Purpose"]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2"})," Personality Traits"]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2"})," Career Guidance"]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2"})," Relationship Compatibility"]})]})]}),h.jsx("div",{className:"text-center",children:h.jsx("img",{alt:"Numerology chart with mystical numbers and symbols",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg",src:"https://images.unsplash.com/photo-1644212054093-e5924f084240"})})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[h.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Core Number Meanings"}),h.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:l.map((u,d)=>h.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:d*.1},className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("div",{className:`text-4xl font-bold ${u.color} mb-2`,children:u.number}),h.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:u.meaning})]}),h.jsx("p",{className:"text-gray-600 text-sm text-center",children:u.description})]},u.number))})]})]}),n==="vaastu"&&h.jsxs(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[h.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"What is Vaastu Shastra?"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-700 mb-4",children:"Vaastu Shastra is an ancient Indian science of architecture and space arrangement. It harmonizes human dwellings with natural forces and cosmic energies to promote prosperity, health, and happiness."}),h.jsx("p",{className:"text-gray-700 mb-6",children:"Based on the five elements (Panchamahabhuta), Vaastu principles help create:"}),h.jsxs("ul",{className:"space-y-2 text-gray-700",children:[h.jsxs("li",{className:"flex items-center",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2"})," Positive Energy Flow"]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2"})," Enhanced Well-being"]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2"})," Financial Prosperity"]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2"})," Harmonious Relationships"]})]})]}),h.jsx("div",{className:"text-center",children:h.jsx("img",{alt:"Vaastu compass showing eight directions with elements",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg",src:"https://images.unsplash.com/photo-1598677128962-89d71838f39b"})})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[h.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Directional Principles"}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((u,d)=>h.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:d*.1},className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("div",{className:"text-3xl mb-2",children:u.icon}),h.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:u.direction}),h.jsx("p",{className:"text-sm text-orange-600 font-medium",children:u.element})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700",children:u.significance}),h.jsx("p",{className:"text-xs text-gray-600",children:u.tips})]})]},u.direction))})]})]}),h.jsx(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mt-16",children:h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[h.jsx("h3",{className:"text-2xl font-bold gradient-text mb-4",children:"Ready to Apply This Knowledge?"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Use our calculator to get personalized insights or book a consultation with our experts"}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[h.jsx(ae,{asChild:!0,className:"orange-gradient text-white transition-transform duration-300 ease-in-out hover:scale-105 hover:orange-gradient-hover rounded-xl",children:h.jsx(yn,{to:"/calculator",children:"Try Calculator"})}),s?h.jsxs(Ht,{open:t,onOpenChange:r,children:[h.jsx(Jr,{asChild:!0,children:h.jsx(ae,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Consultation"})}),h.jsxs(Nt,{className:"sm:max-w-[425px]",children:[h.jsxs(kt,{children:[h.jsx(Vt,{children:"Book a Consultation"}),h.jsx(jt,{children:"Fill out the form below and we'll contact you shortly"})]}),h.jsx(Cn,{onSuccess:()=>r(!1)})]})]}):h.jsx($t,{mode:"modal",children:h.jsx(ae,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Consultation"})})]})]})})]})})]}):h.jsx(FV,{})},BV=(n,e)=>{let r=e.replace(/-/g,"").split("").map(Number).reduce((c,u)=>c+u,0);for(;r>9&&r!==11&&r!==22&&r!==33;)r=r.toString().split("").map(Number).reduce((c,u)=>c+u,0);const s={A:1,B:2,C:3,D:4,E:5,F:8,G:3,H:5,I:1,J:1,K:2,L:3,M:4,N:5,O:7,P:8,Q:6,R:2,S:3,T:4,U:6,V:6,W:6,X:5,Y:1,Z:7};let i=n.toUpperCase().replace(/[^A-Z]/g,"").split("").reduce((c,u)=>c+(s[u]||0),0);for(;i>9&&i!==11&&i!==22&&i!==33;)i=i.toString().split("").map(Number).reduce((c,u)=>c+u,0);const o="AEIOU";let l=n.toUpperCase().split("").reduce((c,u)=>o.includes(u)?c+(s[u]||0):c,0);for(;l>9&&l!==11&&l!==22&&l!==33;)l=l.toString().split("").map(Number).reduce((c,u)=>c+u,0);return{lifePathNumber:r,destinyNumber:i,soulUrgeNumber:l}},YV=({user:n,isSignedIn:e,setFormData:t,setResults:r,formData:s})=>{const[i,o]=I.useState(!1),l=async u=>{if(u.preventDefault(),!e){Re({title:"Sign In Required",description:"Please sign in to use the calculator",variant:"destructive"});return}if(!s.name.trim()||!s.birthDate){Re({title:"Error",description:"Please fill in your name and birth date",variant:"destructive"});return}o(!0),setTimeout(()=>{const d=BV(s.name,s.birthDate);r(d);const m={...s,...d,timestamp:new Date().toISOString(),userId:n.id},g=JSON.parse(localStorage.getItem("bhaggya_calculations")||"[]");g.push(m),localStorage.setItem("bhaggya_calculations",JSON.stringify(g)),Re({title:"Success!",description:"Your numerology profile has been generated."}),o(!1)},1500)},c=u=>{t({...s,[u.target.name]:u.target.value})};return h.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"bg-white rounded-2xl shadow-xl p-8 card-shadow",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx(vn,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-2xl font-bold gradient-text mb-2",children:"Personal Numerology Reading"}),h.jsx("p",{className:"text-gray-600",children:"Enter your details to unlock the secrets of your numbers"})]}),!e&&h.jsxs("div",{className:"text-center mb-8 p-6 bg-orange-50 rounded-xl border border-orange-200",children:[h.jsx("p",{className:"text-orange-700 mb-4 font-medium",children:" Please sign in to calculate your results"}),h.jsx("p",{className:"text-gray-600",children:"Create your account to get personalized numerology insights"})]}),h.jsxs("form",{onSubmit:l,className:"space-y-6",children:[h.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(rr,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),h.jsxs("div",{className:"relative",children:[h.jsx(Qx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),h.jsx(Xr,{id:"name",name:"name",type:"text",value:s.name,onChange:c,placeholder:"Enter your full name",className:"pl-10",required:!0,disabled:!e})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(rr,{htmlFor:"birthDate",className:"text-sm font-medium text-gray-700",children:"Birth Date *"}),h.jsxs("div",{className:"relative",children:[h.jsx(Fp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),h.jsx(Xr,{id:"birthDate",name:"birthDate",type:"date",value:s.birthDate,onChange:c,className:"pl-10",required:!0,disabled:!e})]})]})]}),h.jsx(ae,{type:"submit",disabled:i||!e,className:"w-full orange-gradient text-white transition-transform duration-300 ease-in-out hover:scale-105 hover:orange-gradient-hover py-3 text-lg rounded-xl",children:i?"Calculating Your Numbers...":"Generate My Report"})]})]})},$V=[{numbers:[1,1],traits:["You naturally take charge and lead others","People look up to you for guidance","You sometimes focus too much on your own needs","You can get upset when things don't go your way"]},{numbers:[1,2],traits:["You're good at taking the lead in groups","You understand people's feelings easily","You sometimes put yourself first too much","Your mood changes can affect people around you"]},{numbers:[1,3],traits:["You're a natural leader in learning situations","You pick up new knowledge very quickly","You sometimes focus too much on your own way","You can act like you know more than others"]},{numbers:[1,4],traits:["You lead with steady and reliable methods","You bring calmness to stressful situations","You sometimes insist on your own methods too much","You might trust your ways more than you should"]},{numbers:[1,5],traits:["You lead through good communication","You connect well with all kinds of people","You sometimes focus on your needs first","You avoid hard work when possible"]},{numbers:[1,6],traits:["You lead with care for others","You naturally look after people's needs","You sometimes think of yourself first","You really like nice and expensive things"]},{numbers:[1,7],traits:["You lead with deep thinking","You look for meaning in everything","You sometimes focus on your own path too much","You get unsure about your choices"]},{numbers:[1,8],traits:["You lead with strong organization","You keep things neat and in order","You sometimes insist on your own way","You don't like changing your methods"]},{numbers:[1,9],traits:["You lead with kindness to all","You care about fairness for everyone","You sometimes think of yourself first","You get mad when things seem unfair"]},{numbers:[2,1],traits:["You sense people's feelings well","You can take charge when needed","Your moods change often","You sometimes focus on your needs first"]},{numbers:[2,2],traits:["You're very good at understanding feelings","You know what people need without words","Your emotions go up and down a lot","Your mood can change very quickly"]},{numbers:[2,3],traits:["You feel what others are feeling","You learn new things easily","Your emotions change often","You can act like you know more than others"]},{numbers:[2,4],traits:["You sense people's needs deeply","You bring calm to any situation","Your feelings change often","You might trust your ways too much"]},{numbers:[2,5],traits:["You understand people's emotions","You talk well with everyone","Your moods go up and down","You avoid hard work sometimes"]},{numbers:[2,6],traits:["You feel others' needs strongly","You take good care of people","Your emotions change often","You really enjoy fancy things"]},{numbers:[2,7],traits:["You sense deeper meanings easily","You think about life's big questions","Your feelings change a lot","You get confused about choices"]},{numbers:[2,8],traits:["You understand people's emotions","You keep things well organized","Your moods change often","You don't like changing your ways"]},{numbers:[2,9],traits:["You feel others' pain deeply","You care about everyone equally","Your emotions go up and down","You get angry at unfair things"]},{numbers:[3,1],traits:["You learn things very quickly","You can lead in learning situations","You might act like you know more","You sometimes focus on your needs first"]},{numbers:[3,2],traits:["You pick up knowledge easily","You understand feelings well","You can seem to know it all","Your moods change often"]},{numbers:[3,3],traits:["You're very smart and love learning","You grasp new ideas quickly","You might show off your smarts","You let people know how much you know"]},{numbers:[3,4],traits:["You understand things fast","You bring steady learning methods","You can act like you know more","You trust your ways too much"]},{numbers:[3,5],traits:["You learn through talking to people","You communicate ideas well","You might act like you know more","You avoid hard work sometimes"]},{numbers:[3,6],traits:["You learn about caring for others","You understand people's needs","You can seem to know it all","You really like luxury items"]},{numbers:[3,7],traits:["You learn deep spiritual ideas","You think about life's meaning","You might act like you know more","You get unsure about choices"]},{numbers:[3,8],traits:["You learn organized methods well","You keep knowledge neatly arranged","You can seem to know it all","You don't like changing your ways"]},{numbers:[3,9],traits:["You learn about helping humanity","You care about everyone's good","You might act like you know more","You get mad at unfair treatment"]},{numbers:[4,1],traits:["You bring steadiness to leadership","You lead in reliable ways","You might trust your methods too much","You sometimes focus on your needs first"]},{numbers:[4,2],traits:["You provide stable emotional support","You understand feelings deeply","You might be too sure of your ways","Your moods change often"]},{numbers:[4,3],traits:["You learn in steady, reliable ways","You pick up knowledge well","You might trust your methods too much","You can act like you know more"]},{numbers:[4,4],traits:["You're very steady in everything","People can always count on you","You might be too sure of yourself","You trust your ways more than needed"]},{numbers:[4,5],traits:["You communicate in reliable ways","You talk with steady methods","You might trust your ways too much","You avoid hard work sometimes"]},{numbers:[4,6],traits:["You care for others steadily","You provide reliable support","You might be too sure of your ways","You really enjoy nice things"]},{numbers:[4,7],traits:["You seek truth in steady ways","You think deeply with reliability","You might trust your methods too much","You get confused about choices"]},{numbers:[4,8],traits:["You organize things very reliably","You keep everything in perfect order","You might be too sure of your ways","You don't like changing methods"]},{numbers:[4,9],traits:["You help humanity in steady ways","You care about all people equally","You might trust your methods too much","You get angry at unfairness"]},{numbers:[5,1],traits:["You talk well as a leader","You communicate directions clearly","You avoid hard work sometimes","You sometimes focus on your needs first"]},{numbers:[5,2],traits:["You talk about feelings well","You understand emotional needs","You skip hard work when possible","Your moods change often"]},{numbers:[5,3],traits:["You explain ideas clearly","You share knowledge easily","You avoid difficult tasks","You can act like you know more"]},{numbers:[5,4],traits:["You communicate reliably","You talk in steady ways","You skip hard work sometimes","You might trust your ways too much"]},{numbers:[5,5],traits:["You're excellent at conversations","You connect with all kinds of people","You avoid difficult tasks","You don't like doing hard work"]},{numbers:[5,6],traits:["You talk about caring well","You communicate about people's needs","You skip hard work sometimes","You really enjoy luxury items"]},{numbers:[5,7],traits:["You discuss deep ideas well","You talk about life's meaning","You avoid difficult tasks","You get unsure about choices"]},{numbers:[5,8],traits:["You explain organized plans well","You communicate clear systems","You skip hard work sometimes","You don't like changing methods"]},{numbers:[5,9],traits:["You talk about helping others well","You communicate about fairness","You avoid difficult tasks","You get mad at unfair treatment"]},{numbers:[6,1],traits:["You care for others as a leader","You look after people's needs well","You really enjoy nice things","You sometimes focus on your needs first"]},{numbers:[6,2],traits:["You deeply care about feelings","You understand emotional needs","You love luxury items","Your moods change often"]},{numbers:[6,3],traits:["You care through sharing knowledge","You teach others what you know","You enjoy expensive things","You can act like you know more"]},{numbers:[6,4],traits:["You provide reliable care","You support others steadily","You love nice possessions","You might trust your ways too much"]},{numbers:[6,5],traits:["You care through good communication","You talk about helping well","You enjoy luxury items","You avoid hard work sometimes"]},{numbers:[6,6],traits:["You're naturally very caring","You nurture people beautifully","You love comfort and luxury","You enjoy nice things more than most"]},{numbers:[6,7],traits:["You care with spiritual depth","You think about helping deeply","You enjoy expensive things","You get unsure about choices"]},{numbers:[6,8],traits:["You care in organized ways","You systemize helping others","You love luxury items","You don't like changing methods"]},{numbers:[6,9],traits:["You care about all humanity","You want fairness for everyone","You enjoy nice things","You get angry at unfairness"]},{numbers:[7,1],traits:["You think deeply as a leader","You lead with spiritual insight","You get confused about choices","You sometimes focus on your needs first"]},{numbers:[7,2],traits:["You sense spiritual meanings","You understand deep feelings","You feel unsure about decisions","Your moods change often"]},{numbers:[7,3],traits:["You seek knowledge deeply","You learn with spiritual insight","You get confused about choices","You can act like you know more"]},{numbers:[7,4],traits:["You think about truth steadily","You seek meaning reliably","You feel unsure about decisions","You might trust your ways too much"]},{numbers:[7,5],traits:["You talk about deep ideas","You communicate spiritual thoughts","You get confused about choices","You avoid hard work sometimes"]},{numbers:[7,6],traits:["You care with spiritual depth","You nurture with deep meaning","You feel unsure about decisions","You really enjoy luxury items"]},{numbers:[7,7],traits:["You're very spiritually deep","You always seek life's truths","You get confused about choices","You often don't know what to do"]},{numbers:[7,8],traits:["You organize spiritual systems","You arrange deep knowledge neatly","You get confused about choices","You don't like changing methods"]},{numbers:[7,9],traits:["You think about helping deeply","You seek meaning in service","You feel unsure about decisions","You get angry at unfairness"]},{numbers:[8,1],traits:["You organize as a leader","You lead with clear systems","You don't like changing ways","You sometimes focus on your needs first"]},{numbers:[8,2],traits:["You systemize emotional support","You organize care for feelings","You resist changing methods","Your moods change often"]},{numbers:[8,3],traits:["You arrange knowledge neatly","You organize learning well","You don't like changing ways","You can act like you know more"]},{numbers:[8,4],traits:["You create reliable systems","You organize steady methods","You resist changing ways","You might trust your ways too much"]},{numbers:[8,5],traits:["You systemize communication","You organize talking points well","You don't like changing methods","You avoid hard work sometimes"]},{numbers:[8,6],traits:["You organize caring systems","You arrange help for others neatly","You resist changing ways","You really enjoy luxury items"]},{numbers:[8,7],traits:["You arrange spiritual knowledge","You organize deep thinking","You don't like changing methods","You get confused about choices"]},{numbers:[8,8],traits:["You're extremely well-organized","You keep everything in perfect order","You resist changing ways","You always want things your way"]},{numbers:[8,9],traits:["You systemize helping others","You organize care for humanity","You don't like changing methods","You get angry at unfairness"]},{numbers:[9,1],traits:["You care for all as a leader","You lead with kindness to everyone","You get mad at unfair things","You sometimes focus on your needs first"]},{numbers:[9,2],traits:["You feel for all people deeply","You understand everyone's pain","You get angry at unfairness","Your moods change often"]},{numbers:[9,3],traits:["You learn to help humanity","You gain knowledge to serve others","You get mad at unfair treatment","You can act like you know more"]},{numbers:[9,4],traits:["You steadily help all people","You reliably care for humanity","You get angry at unfairness","You might trust your ways too much"]},{numbers:[9,5],traits:["You talk about helping all","You communicate about fairness","You get mad at unfair things","You avoid hard work sometimes"]},{numbers:[9,6],traits:["You deeply care for everyone","You nurture all people equally","You get angry at unfairness","You really enjoy luxury items"]},{numbers:[9,7],traits:["You think about helping deeply","You seek meaning in service","You get mad at unfair treatment","You get confused about choices"]},{numbers:[9,8],traits:["You organize help for all","You systemize care for humanity","You get angry at unfairness","You don't like changing methods"]},{numbers:[9,9],traits:["You deeply care about all people","You want to make the world better","You get very mad at unfairness","You hate seeing suffering"]}],Wm={A:1,B:2,C:3,D:4,E:5,F:8,G:3,H:5,I:1,J:1,K:2,L:3,M:4,N:5,O:7,P:8,Q:1,R:2,S:3,T:4,U:6,V:6,W:6,X:5,Y:1,Z:7},zV={1:{compatible:[1,2,3,4,5,6,7,9],description:"1 works best with 8"},2:{compatible:[],description:"2 doesn't have compatible numbers"},3:{compatible:[],description:"3 doesn't have compatible numbers"},4:{compatible:[],description:"4 doesn't have compatible numbers"},5:{compatible:[1,2,3,4,5,6,7,8,9],description:"5 works with all numbers"},6:{compatible:[1,2,4,5,6,7,8],description:"6 works best with 3 and 9"},7:{compatible:[],description:"7 doesn't have compatible numbers"},8:{compatible:[],description:"8 doesn't have compatible numbers"},9:{compatible:[],description:"9 doesn't have compatible numbers"},16:{compatible:[1,2,3,4,5,6,7,8,9],description:"16 works with all numbers"},22:{compatible:[1,3,5,6,7],description:"22 works best with 2, 4, 8, and 9"},25:{compatible:[1,2,3,4,5,6,7,8,9],description:"25 works with all numbers"}},fc=n=>{if([22,16,25].includes(n))return n;for(;n>9;)n=n.toString().split("").reduce((e,t)=>e+parseInt(t),0);return n},qV=n=>{if(!n)return 0;let e=0;for(const t of n.toUpperCase())Wm[t]&&(e+=Wm[t]);return e},HV=(n,e)=>{const t=fc(n),r=zV[t]||{compatible:[],description:`No specific compatibility rules for ${t}`},s=r.compatible.length===0?!1:r.compatible.includes(e);return{compatible:s,nameValue:t,description:s?`Your name number ${t} is compatible with your birth number ${e}!`:`Your name number ${t} is not compatible with your birth number ${e}. ${r.description}`}},GV=n=>{if(!n)return{firstNum:0,secondNum:0};try{const[e,t,r]=n.split("-").map(Number);let s=fc(r);const i=n.replace(/\D/g,"").split("").map(Number);let o=fc(i.reduce((l,c)=>l+c,0));return{firstNum:Math.max(1,Math.min(9,s)),secondNum:Math.max(1,Math.min(9,o))}}catch(e){return console.error("Calculation error:",e),{firstNum:0,secondNum:0}}},WV=(n,e)=>{try{const t=$V.find(r=>r.numbers[0]===n&&r.numbers[1]===e);return t?t.traits:["You have unique leadership qualities that inspire others","You possess special talents that make you stand out","Sometimes you need to work on balancing your strong personality","Your unique combination requires patience to fully develop"]}catch(t){return console.error("Traits error:",t),["You have special qualities that make you unique","Your personality has wonderful potential for growth","Like everyone, you have areas that need gentle attention","Your journey of self-discovery is ongoing and valuable"]}},KV=n=>{if(!n)return 0;const e=new Date().getFullYear(),[t,r,s]=n.split("-").map(Number);let i=s+r+e;for(;i>9;)i=i.toString().split("").reduce((o,l)=>o+parseInt(l),0);return i},QV=n=>({1:{percentage:90,description:"This is a fresh start year full of new opportunities. Take initiative on projects you've been putting off - this is the perfect time to begin. Your leadership skills will shine if you step forward confidently."},2:{percentage:60,description:"A sensitive year where decisions feel difficult. You may second-guess yourself often. When confused, pause and reflect before choosing - don't force answers immediately. Relationships need extra patience this year."},3:{percentage:65,description:"You'll face more obstacles than usual this year. When problems arise, tackle them one at a time instead of feeling overwhelmed. Creative solutions work best - think outside the box when stuck."},4:{percentage:70,description:"Progress comes slowly but surely this year. Focus on doing small, consistent actions rather than expecting quick results. Building strong foundations now will help you in future years."},5:{percentage:95,description:"This is your most fortunate year with excellent opportunities. Stay alert for lucky breaks and don't hesitate to take calculated risks. Positive changes happen easily - go with the flow but stay grounded."},6:{percentage:85,description:"Your choices determine everything this year. Think carefully before deciding, as both good and bad options have stronger consequences. Choose wisely - your decisions create lasting effects."},7:{percentage:55,description:"Be extra cautious this year as deception is more likely. Double-check all information and agreements. If something seems too good to be true, it probably is - listen to your gut feelings."},8:{percentage:50,description:"A year requiring much effort for gradual results. Don't get discouraged by slow progress - keep working steadily. Your persistence will eventually be rewarded, even if it takes time."},9:{percentage:20,description:"This challenging year tests your resilience. When facing difficulties, focus on basic needs first - don't overwhelm yourself. Remember tough times are temporary and make you stronger."}})[n]||{percentage:50,description:"Neutral year with mixed experiences"},XV=({percentage:n})=>{const[e,t]=I.useState(0);I.useEffect(()=>{const l=Date.now(),c=()=>{const u=Date.now()-l,d=Math.min(u/2e3,1);t(Math.floor(d*n)),d<1&&requestAnimationFrame(c)};c()},[n]);const r=40,s=2*Math.PI*r,i=s-e/100*s;return h.jsx("div",{className:"relative w-36 h-36 mx-auto mb-4",children:h.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[h.jsx("circle",{cx:"50",cy:"50",r,fill:"none",stroke:"#e2e8f0",strokeWidth:"20"}),h.jsx("circle",{cx:"50",cy:"50",r,fill:"none",stroke:"url(#waterGradient)",strokeWidth:"15",strokeLinecap:"round",strokeDasharray:s,strokeDashoffset:i,transform:"rotate(-90 50 50)",style:{transition:"stroke-dashoffset 0.5s ease-out"}}),h.jsx("defs",{children:h.jsxs("linearGradient",{id:"waterGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[h.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),h.jsx("stop",{offset:"100%",stopColor:"#1d4ed8"})]})}),h.jsxs("text",{x:"50",y:"50",textAnchor:"middle",dominantBaseline:"middle",fontSize:"18",fontWeight:"bold",fill:"#3b82f6",children:[e,"%"]})]})})},JV=n=>{if(!n||!Array.isArray(n))return null;const e=n.slice(0,2),t=n.slice(2,4);return h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border-l-4 border-green-400",children:[h.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Your Strengths:"}),h.jsx("ul",{className:"list-disc pl-5 space-y-1",children:e.map((r,s)=>h.jsx("li",{className:"text-green-700",children:r},s))})]}),h.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border-l-4 border-orange-400",children:[h.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:" Areas for Growth:"}),h.jsx("ul",{className:"list-disc pl-5 space-y-1",children:t.map((r,s)=>h.jsx("li",{className:"text-orange-700",children:r},s))})]})]})},ZV=({formData:n={},onReset:e=()=>{}})=>{const[t,r]=I.useState(!1),[s,i]=I.useState(!1),{firstNum:o,secondNum:l}=GV(n==null?void 0:n.birthDate),c=WV(o,l),u=qV(n==null?void 0:n.name),d=HV(u,o),m=KV(n==null?void 0:n.birthDate),g=QV(m);return n!=null&&n.birthDate?h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6 max-w-3xl mx-auto",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-center text-orange-600 mb-3",children:"Your Numerology Profile"}),h.jsxs("div",{className:"text-center mb-4",children:[h.jsxs("p",{className:"text-gray-600",children:["For: ",h.jsx("span",{className:"font-medium text-orange-600",children:(n==null?void 0:n.name)||"Unknown"})]}),h.jsxs("p",{className:"text-gray-600",children:["Born: ",h.jsx("span",{className:"font-medium text-orange-600",children:new Date(n.birthDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),(n==null?void 0:n.name)&&h.jsxs("div",{className:`flex items-center justify-center mb-2 ${d.compatible?"text-green-600":"text-red-600"}`,children:[h.jsx("span",{className:"text-xl mr-2",children:d.compatible?"":""}),h.jsx("span",{className:"font-medium",children:d.compatible?"Your name value is compatible with you":"Your name value is not compatible with you"})]}),(n==null?void 0:n.name)&&!d.compatible&&h.jsx("div",{className:"text-center mb-4",children:h.jsxs(Ht,{children:[h.jsx(Jr,{asChild:!0,children:h.jsx(ae,{className:"bg-orange-500 hover:bg-orange-600 text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105",children:"Book Consultation for Name Correction"})}),h.jsxs(Nt,{className:"rounded-lg max-w-[90vw] sm:max-w-md",children:[h.jsxs(kt,{children:[h.jsx(Vt,{className:"text-xl font-bold text-orange-600",children:"Name Correction Consultation"}),h.jsx(jt,{className:"text-orange-500",children:"Our experts will analyze your name and suggest improvements for better compatibility"})]}),h.jsx(Cn,{onSuccess:()=>r(!1),defaultName:(n==null?void 0:n.name)||"",defaultBirthDate:(n==null?void 0:n.birthDate)||"",isNameCorrection:!0})]})]})}),h.jsxs("div",{className:"bg-orange-50 rounded-lg p-5 border border-orange-100",children:[h.jsx("h3",{className:"font-semibold text-lg mb-3 text-orange-600",children:"Your Personality Traits:"}),JV(c)]}),h.jsxs("div",{className:"bg-blue-50 rounded-lg p-5 border border-blue-100 mt-4",children:[h.jsxs("h3",{className:"font-semibold text-lg mb-3 text-blue-600 text-center",children:["Your ",new Date().getFullYear()," Fortune Meter"]}),h.jsx(XV,{percentage:g.percentage}),h.jsx("p",{className:"text-center text-blue-700 font-medium mt-4",children:g.description})]}),h.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded",children:h.jsxs("p",{className:"text-sm text-yellow-700",children:[h.jsx("span",{className:"font-semibold",children:"Note:"})," This analysis considers basic factors only. For complete accuracy, book an appointment with our experts."]})})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-center text-orange-600 mb-3",children:"Want Deeper Insights?"}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[h.jsx(ae,{onClick:e,variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50",children:"New Analysis"}),h.jsx(ae,{className:"bg-orange-500 hover:bg-orange-600 text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105",onClick:()=>r(!0),children:"Full Report"})]})]}),h.jsx(Ht,{open:t,onOpenChange:r,children:h.jsxs(Nt,{className:"rounded-lg max-w-[90vw] sm:max-w-md",children:[h.jsxs(kt,{children:[h.jsx(Vt,{className:"text-xl font-bold text-orange-600",children:"Complete Numerology Reading"}),h.jsx(jt,{className:"text-orange-500",children:"Includes detailed analysis of your core numbers and cycles"})]}),h.jsx(Cn,{onSuccess:()=>r(!1),defaultName:(n==null?void 0:n.name)||"",defaultBirthDate:(n==null?void 0:n.birthDate)||""})]})}),h.jsx(Ht,{open:s,onOpenChange:i,children:h.jsxs(Nt,{className:"rounded-lg max-w-[90vw] sm:max-w-md",children:[h.jsxs(kt,{children:[h.jsx(Vt,{className:"text-xl font-bold text-orange-600",children:"Name Correction Consultation"}),h.jsx(jt,{className:"text-orange-500",children:"Our experts will analyze your name and suggest improvements for better compatibility"})]}),h.jsx(Cn,{onSuccess:()=>i(!1),defaultName:(n==null?void 0:n.name)||"",defaultBirthDate:(n==null?void 0:n.birthDate)||"",isNameCorrection:!0})]})})]}):h.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[h.jsx("h3",{className:"text-xl font-semibold text-red-500 mb-4",children:"Birth Date Required"}),h.jsx(ae,{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Enter Birth Date"})]})},e2=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-orange-500"})}),t2=()=>{const[n,e]=I.useState({name:"",birthDate:""}),[t,r]=I.useState(null),{isLoaded:s,isSignedIn:i,user:o}=cr(),l=()=>{r(null),e({name:"",birthDate:""})};return s?h.jsxs(h.Fragment,{children:[h.jsxs(nr,{children:[h.jsx("title",{children:"Numerology Calculator - Get Your Personal Reading | Bhaggya Darshhan"}),h.jsx("meta",{name:"description",content:"Calculate your life path, destiny, and soul urge numbers with our advanced numerology calculator. Get personalized insights based on your name and birth date."})]}),h.jsx("div",{className:"min-h-screen py-20",children:h.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[h.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[h.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white text-shadow mb-4",children:["Numerology ",h.jsx("span",{className:"text-black",children:"Calculator"})]}),h.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Unlock your life's blueprint with our numerology calculator: reveals personality traits, fortune potential, and name compatibility for harmonious energy flow."})]}),t?h.jsx(ZV,{results:t,formData:n,onReset:l}):h.jsx(YV,{user:o,isSignedIn:i,formData:n,setFormData:e,setResults:r})]})})]}):h.jsx(e2,{})},n2=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-orange-500"})}),r2=()=>{const[n,e]=I.useState("color"),[t,r]=I.useState(!1),{isSignedIn:s,user:i,isLoaded:o}=cr(),l=dr(),c=[{color:"Red",meaning:"Energy & Passion",description:"Stimulates vitality, increases circulation, and boosts confidence.",hex:"#f87171"},{color:"Orange",meaning:"Creativity & Joy",description:"Enhances social interaction, stimulates creativity, and boosts mood.",hex:"#fb923c"},{color:"Blue",meaning:"Calm & Clarity",description:"Promotes peace, reduces stress, and enhances communication.",hex:"#60a5fa"},{color:"Green",meaning:"Balance & Healing",description:"Supports emotional balance, harmony, and rejuvenation.",hex:"#34d399"},{color:"Yellow",meaning:"Joy & Intellect",description:"Stimulates mental clarity, positivity, and learning.",hex:"#facc15"},{color:"Purple",meaning:"Spiritual Insight",description:"Encourages meditation, intuition, and deeper wisdom.",hex:"#c084fc"}],u=[{use:"Meditation Aid",description:"Enhances focus and spiritual connection when meditating under pyramids.",icon:""},{use:"Energy Balancing",description:"Used to align chakras and balance subtle energies.",icon:""},{use:"Vaastu Remedies",description:"Pyramids neutralize negative energy in homes and workspaces.",icon:""},{use:"Healing Amplifier",description:"Placed under water or food, pyramids enhance their positive properties.",icon:""}];return o?h.jsxs(h.Fragment,{children:[h.jsxs(nr,{children:[h.jsx("title",{children:"Therapies - Color & Pyramid | Bhaggya Darshhan"}),h.jsx("meta",{name:"description",content:"Explore Color Therapy and Pyramid Therapy to balance your energies and enhance well-being through ancient practices."})]}),h.jsx("div",{className:"min-h-screen py-20",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white text-shadow mb-4",children:["Explore ",h.jsx("span",{className:"text-black",children:"Healing Therapies"})]}),h.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Discover ancient therapeutic practices to harmonize your energy and enhance well-being"})]}),h.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex justify-center mb-12",children:h.jsxs("div",{className:"bg-white rounded-2xl p-2 shadow-lg",children:[h.jsxs("button",{onClick:()=>e("color"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${n==="color"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[h.jsx(Bp,{className:"inline-block w-5 h-5 mr-2"}),"Color"]}),h.jsxs("button",{onClick:()=>e("pyramid"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${n==="pyramid"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[h.jsx(Yp,{className:"inline-block w-5 h-5 mr-2"}),"Pyramid"]})]})}),n==="color"&&h.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[h.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:" What is Color Therapy?"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-700 mb-4",children:"Color Therapy (Chromotherapy) is the holistic use of color frequencies to balance physical, emotional, and spiritual well-being. Each color emits a specific vibration that can positively affect the human body and mind."}),h.jsx("p",{className:"text-gray-700 mb-6",children:"It helps you with:"}),h.jsxs("ul",{className:"space-y-3 text-gray-700",children:[h.jsxs("li",{className:"flex items-start",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("strong",{className:"text-orange-600",children:"Emotional Healing"})," - Soothes stress, anxiety, and emotional imbalances using calming colors."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("strong",{className:"text-orange-600",children:"Energy Rejuvenation"})," - Stimulates energy levels and vitality through warm, energizing hues."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("strong",{className:"text-orange-600",children:"Chakra Alignment"})," - Uses specific colors to balance and harmonize the energy centers."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("strong",{className:"text-orange-600",children:"Mental Clarity"})," - Enhances focus and mood by influencing brainwave activity."]})]})]})]}),h.jsx("div",{className:"text-center",children:h.jsx("img",{src:"https://media.istockphoto.com/id/1027020366/vector/human-mind-brain-spirit-energy-connect-to-the-universe-power-abstract-art-watercolor.jpg?s=612x612&w=0&k=20&c=-BW7ZMgDAQvFk4hSLVH_3o5ejQIVNYQpvnWDHxgswyk=",alt:"Color Therapy Illustration",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg"})})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[h.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Color Meanings & Benefits"}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((d,m)=>h.jsxs(Q.div,{className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",style:{borderColor:d.hex},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:m*.1},children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("div",{className:"text-3xl font-bold",style:{color:d.hex},children:d.color}),h.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:d.meaning})]}),h.jsx("p",{className:"text-gray-600 text-sm text-center",children:d.description})]},m))})]})]}),n==="pyramid"&&h.jsxs(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[h.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:" What is Pyramid Therapy?"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-700 mb-4",children:"Pyramid Therapy utilizes the sacred geometry of pyramids to harness cosmic energy for healing and personal transformation. The structure of a pyramid amplifies and balances subtle energies."}),h.jsx("p",{className:"text-gray-700 mb-6",children:"It supports you through:"}),h.jsxs("ul",{className:"space-y-3 text-gray-700",children:[h.jsxs("li",{className:"flex items-start",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("strong",{className:"text-orange-600",children:"Meditative Enhancement"})," - Pyramids deepen your meditative state by aligning inner frequencies."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("strong",{className:"text-orange-600",children:"Energy Purification"})," - Neutralizes negativity and promotes energetic balance."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("strong",{className:"text-orange-600",children:"Space Cleansing"})," - Improves Vaastu by correcting energy distortions in your environment."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx(Oe,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("strong",{className:"text-orange-600",children:"Healing Acceleration"})," - Elevates the vibrational quality of food, water, and surroundings."]})]})]})]}),h.jsx("div",{className:"text-center",children:h.jsx("img",{src:"https://dailygalaxy.com/wp-content/uploads/2025/04/The-Great-Pyramid-of-Giza-Has-MORE-Than-Four-Sides.jpg",alt:"Pyramid Therapy Illustration",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg"})})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[h.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Pyramid Applications"}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((d,m)=>h.jsxs(Q.div,{className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:m*.1},children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("div",{className:"text-3xl mb-2",children:d.icon}),h.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:d.use})]}),h.jsx("p",{className:"text-sm text-gray-600 text-center",children:d.description})]},m))})]})]}),h.jsx(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mt-16",children:h.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[h.jsx("h3",{className:"text-2xl font-bold gradient-text mb-4",children:"Want Personalized Therapy Guidance?"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Discover your ideal therapy colors or pyramid placements with our tools"}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[h.jsx(ae,{asChild:!0,className:"orange-gradient text-white transition-transform duration-300 ease-in-out hover:scale-105 hover:orange-gradient-hover rounded-xl",children:h.jsxs(yn,{to:"/calculator",children:[h.jsx(vn,{className:"inline-block w-5 h-5 mr-2"})," Try Calculator"]})}),s?h.jsxs(Ht,{open:t,onOpenChange:r,children:[h.jsx(Jr,{asChild:!0,children:h.jsx(ae,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Therapy Session"})}),h.jsxs(Nt,{className:"sm:max-w-[425px]",children:[h.jsxs(kt,{children:[h.jsx(Vt,{children:"Book a Therapy Session"}),h.jsx(jt,{children:"Fill out the form below and we'll contact you shortly"})]}),h.jsx(Cn,{onSuccess:()=>r(!1)})]})]}):h.jsx($t,{mode:"modal",redirectUrl:l.pathname,children:h.jsx(ae,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Therapy Session"})})]})]})})]})})]}):h.jsx(n2,{})},s2=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-orange-500"})}),i2=()=>{const[n,e]=I.useState(!1),{isSignedIn:t,isLoaded:r}=cr(),s=dr(),i=[{title:"Numerology",description:"Discover your life path number and understand your core personality traits, strengths, and challenges through the ancient science of numbers.",img:"https://plus.unsplash.com/premium_photo-1717717670034-0d673f50f895?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8bnVtZXJvbG9neXxlbnwwfHwwfHx8MA%3D%3D",icon:h.jsx(vn,{className:"w-6 h-6"})},{title:"Name Correction",description:"Enhance your luck and align your name's vibrations with your birth number for better life outcomes and success.",img:"https://plus.unsplash.com/premium_photo-1666739032615-ecbd14dfb543?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8YWxwaGFiZXR8ZW58MHx8MHx8fDA%3D",icon:h.jsx(qx,{className:"w-6 h-6"})},{title:"Residential Vaastu",description:"Align your home's energy to bring peace, prosperity, and good health to your family through proper space arrangement.",img:"https://aurorealty.com/blog/wp-content/uploads/2019/10/vastu-shastra-for-home.jpg",icon:h.jsx(Up,{className:"w-6 h-6"})},{title:"Commercial Vaastu",description:"Attract success in business by balancing energies in shops, offices, and workspaces for optimal financial growth.",img:"https://www.vasthusubramanyam.com/wp-content/uploads/2019/09/commercial-e1568478793888.jpg",icon:h.jsx(id,{className:"w-6 h-6"})},{title:"Industrial Vaastu",description:"Optimize industrial spaces for increased productivity, safety, and positive outcomes through proper energy flow.",img:"https://www.azumuta.com/wp-content/uploads/2024/05/petrochemical-industry-with-twilight-sky-2-1536x1024-1.jpeg",icon:h.jsx(id,{className:"w-6 h-6"})},{title:"Color Therapy",description:"Use the vibration of colors to heal, balance emotions, and enhance well-being through chromotherapy techniques.",img:"https://www.shutterstock.com/image-illustration/human-spirit-powerful-energy-connect-600nw-1416917957.jpg",icon:h.jsx(Bp,{className:"w-6 h-6"})},{title:"Pyramid Therapy",description:"Harness the ancient power of pyramids to neutralize negativity and amplify positivity in your environment.",img:"https://dailygalaxy.com/wp-content/uploads/2025/04/The-Great-Pyramid-of-Giza-Has-MORE-Than-Four-Sides.jpg",icon:h.jsx(Yp,{className:"w-6 h-6"})}];return r?h.jsxs(h.Fragment,{children:[h.jsxs(nr,{children:[h.jsx("title",{children:"Our Services | Vaastu Guru - Numerology & Vaastu Consultancy"}),h.jsx("meta",{name:"description",content:"Explore our range of numerology and vaastu services designed to bring balance, prosperity, and harmony to your life."})]}),h.jsxs("div",{className:"min-h-screen py-20",children:[h.jsx("section",{className:"relative px-4 text-center",children:h.jsx("div",{className:"container mx-auto max-w-6xl",children:h.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-4",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white text-shadow mb-2",children:["Our ",h.jsx("span",{className:"text-black",children:"Services"})]}),h.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Professional numerology and vaastu services to transform your living and working spaces"})]})})}),h.jsx("section",{className:"py-12",children:h.jsx("div",{className:"container mx-auto px-4 text-center",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-md p-8 border border-gray-100",children:h.jsx(Q.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((o,l)=>h.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:l*.1},whileHover:{y:-5},className:"bg-white max-w-sm mx-auto rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer border border-gray-100",children:[h.jsx("div",{className:"h-45 overflow-hidden",children:h.jsx("img",{src:o.img,alt:o.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:"bg-orange-100 p-2 rounded-full mr-4",children:o.icon}),h.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:o.title})]}),h.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:o.description})]})]},l))})})})}),h.jsx("section",{className:"py-16",children:h.jsx("div",{className:"container mx-auto px-4 text-center",children:h.jsxs(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[h.jsx("h2",{className:"text-3xl font-bold gradient-text mb-4",children:"Personalized Guidance Available"}),h.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Our experts provide customized solutions tailored to your specific needs and challenges."}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[t?h.jsxs(Ht,{open:n,onOpenChange:e,children:[h.jsx(Jr,{asChild:!0,children:h.jsx(ae,{className:"hover:bg-white transition-transform duration-300 ease-in-out hover:scale-105 orange-gradient text-white hover:orange-gradient-hover px-8 py-3 text-lg rounded-xl",children:"Book Consultation"})}),h.jsxs(Nt,{className:"sm:max-w-[425px]",children:[h.jsxs(kt,{children:[h.jsx(Vt,{children:"Book a Consultation"}),h.jsx(jt,{children:"Fill out the form below and we'll contact you shortly"})]}),h.jsx(Cn,{onSuccess:()=>e(!1)})]})]}):h.jsx($t,{mode:"modal",redirectUrl:s.pathname,children:h.jsx(ae,{className:"hover:bg-white hover:text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 orange-gradient text-white hover:orange-gradient-hover px-8 py-3 text-lg rounded-xl",children:"Book Consultation"})}),h.jsx(ae,{asChild:!0,variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white px-8 py-3 text-lg rounded-xl hover:bg-white hover:text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105",children:h.jsxs(yn,{to:"/calculator",children:[h.jsx(vn,{className:"inline-block w-5 h-5 mr-2"})," Try Our Analysis Tool"]})})]})]})})})]})]}):h.jsx(s2,{})},o2=()=>{const[n,e]=I.useState([]);return I.useEffect(()=>{const t=()=>{const s=[],i=[1,2,3,4,5,6,7,8,9,11,22,33];for(let o=0;o<25;o++)s.push({id:o,number:i[Math.floor(Math.random()*i.length)],left:Math.random()*100,delay:Math.random()*15,size:Math.random()*2+1});e(s)};t();const r=setInterval(t,15e3);return()=>clearInterval(r)},[]),h.jsx("div",{className:"floating-numbers",children:n.map(t=>h.jsx("div",{className:"floating-number",style:{left:`${t.left}%`,animationDelay:`${t.delay}s`,fontSize:`${t.size}rem`},children:t.number},t.id))})},a2=()=>{const[n,e]=I.useState(!1),[t,r]=I.useState([{id:1,text:"Hello! I'm your AI assistant for Vaastu Guru. I can help you with questions about numerology, vaastu, and our services. How can I assist you today?",isBot:!0}]),[s,i]=I.useState(""),o={numerology:"Numerology is the study of numbers and their mystical relationship with life events. Each number from 1-9 has unique vibrations and meanings. Your birth date and name can reveal insights about your personality, life path, and destiny.",vaastu:"Vaastu Shastra is an ancient Indian science of architecture and space arrangement. It focuses on harmonizing human dwellings with natural forces and cosmic energies to bring prosperity, health, and happiness.",consultants:"Our expert consultants are Yashraj guruji and Rishabh Goel. Both have years of experience in numerology and vaastu consultation, helping thousands of clients achieve harmony in their lives.",contact:"You can contact at mobile number +919650881509 or click on book appointment button to schedule a consultation.",services:"We offer personalized numerology readings, vaastu consultations for homes and offices, name correction suggestions, and guidance for important life decisions based on numerical analysis.",calculator:"Our numerology calculator analyzes your birth date and name to provide insights into your life path number, destiny number, and personality traits. You'll need to sign up to access this feature.",default:"I understand you're interested in learning more. Could you please ask about numerology, vaastu, our consultants, services, or the calculator? I'm here to help with any specific questions!"},l=()=>{if(!s.trim())return;const u={id:Date.now(),text:s,isBot:!1};r(d=>[...d,u]),setTimeout(()=>{const d=s.toLowerCase();let m=o.default;d.includes("numerology")||d.includes("number")?m=o.numerology:d.includes("vaastu")||d.includes("vastu")?m=o.vaastu:d.includes("consultant")||d.includes("expert")?m=o.consultants:d.includes("service")||d.includes("help")?m=o.services:d.includes("calculator")||d.includes("calculate")?m=o.calculator:(d.includes("contact")||d.includes("reach")||d.includes("phone"))&&(m=o.contact);const g={id:Date.now()+1,text:m,isBot:!0};r(y=>[...y,g])},1e3),i("")},c=u=>{u.key==="Enter"&&l()};return h.jsxs(h.Fragment,{children:[h.jsx(Q.button,{onClick:()=>e(!n),className:"fixed bottom-24 right-6 z-50 w-14 h-14 orange-gradient rounded-full shadow-lg flex items-center justify-center text-white hover:orange-gradient-hover transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:h.jsx(Fl,{mode:"wait",children:n?h.jsx(Q.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:h.jsx($p,{className:"h-6 w-6"})},"close"):h.jsx(Q.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:h.jsx(zx,{className:"h-6 w-6"})},"chat")})}),h.jsx(Fl,{children:n&&h.jsxs(Q.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-40 right-6 z-40 w-80 h-96 bg-white rounded-lg shadow-xl border border-gray-200 flex flex-col",children:[h.jsx("div",{className:"orange-gradient text-white p-4 rounded-t-lg",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Yx,{className:"h-5 w-5"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold",children:"AI Assistant"}),h.jsx("p",{className:"text-xs opacity-90",children:"Ask me about numerology & vaastu"})]})]})}),h.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:t.map(u=>h.jsx("div",{className:`flex ${u.isBot?"justify-start":"justify-end"}`,children:h.jsx("div",{className:`max-w-xs p-3 rounded-lg text-sm ${u.isBot?"bg-gray-100 text-gray-800":"orange-gradient text-white"}`,children:u.text})},u.id))}),h.jsx("div",{className:"p-4 border-t border-gray-200",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Xr,{value:s,onChange:u=>i(u.target.value),onKeyPress:c,placeholder:"Ask me anything...",className:"flex-1 text-sm"}),h.jsx(ae,{onClick:l,size:"sm",className:"orange-gradient text-white hover:orange-gradient-hover",children:h.jsx(Gx,{className:"h-4 w-4"})})]})})]})})]})},l2="/images/QRcode.jpg",c2=()=>{const[n,e]=I.useState(!1),[t,r]=I.useState(!1),[s,i]=I.useState(1),{isLoaded:o,isSignedIn:l}=cr(),c=499,u=2099,d="+919650881509",m=()=>{r(!0),Re({title:"Connecting to Consultant",description:"Please wait while we connect your call..."}),setTimeout(()=>{window.location.href=`tel:${d}`,r(!1),e(!1),i(1)},2e3)},g=y=>{e(y),y||i(1)};return h.jsxs(h.Fragment,{children:[h.jsx(Q.button,{onClick:()=>e(!0),className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full shadow-lg flex items-center justify-center text-white hover:from-orange-600 hover:to-orange-700 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Call Consultant",children:h.jsx(Ji,{className:"h-6 w-6"})}),h.jsx(Ht,{open:n,onOpenChange:g,children:h.jsxs(Nt,{className:"sm:max-w-md rounded-xl",children:[h.jsxs(kt,{children:[h.jsxs(Vt,{className:"flex items-center gap-2 text-orange-600",children:[h.jsx(Ji,{className:"h-5 w-5"}),"Call Consultation"]}),h.jsx(jt,{children:"Connect directly with our expert consultant."})]}),h.jsx("div",{className:"py-4",children:o?l?h.jsxs(h.Fragment,{children:[s===1&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border border-orange-200",children:[h.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"Call Consultation Details"}),h.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[h.jsx("li",{children:" Direct call with Consultant"}),h.jsx("li",{children:" Accepts one DOB"}),h.jsx("li",{children:" Personalized guidance"}),h.jsx("li",{children:" Immediate connection after payment"})]})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("span",{className:"font-medium",children:"Consultation Fee:"}),h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",u]}),h.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["",c]})]})]}),h.jsxs("div",{className:"mt-2 text-xs text-green-600 font-medium text-center",children:["Special discount applied! Save ",u-c]}),h.jsxs(ae,{onClick:()=>i(2),className:"orange-gradient text-white hover:orange-gradient-hover w-full mt-4 py-3 text-lg rounded-xl",children:["Pay ",c," & Proceed to Call"]})]})]}),s===2&&h.jsxs("div",{className:"text-center space-y-4 animate-in fade-in-50",children:[h.jsx("img",{src:l2,alt:"UPI Payment QR Code",className:"w-48 h-48 mx-auto rounded-lg border p-1 bg-white"}),h.jsxs("div",{className:"font-bold text-3xl text-gray-800",children:["Pay ",c]}),h.jsx("p",{className:"text-sm text-gray-500 px-4",children:"You can scan this QR to pay fee before connecting to our consultant."}),h.jsxs(ae,{onClick:m,disabled:t,className:"w-full py-3 text-lg rounded-xl bg-green-600 hover:bg-green-700 text-white flex items-center justify-center gap-2",children:[h.jsx(Ji,{className:"h-5 w-5"}),t?"Connecting...":"Call Now"]})]})]}):h.jsxs("div",{className:"text-center py-4",children:[h.jsx("p",{className:"mb-4",children:"Please sign in to book a call consultation."}),h.jsx($t,{mode:"modal",children:h.jsx(ae,{className:"orange-gradient text-white hover:orange-gradient-hover px-6 py-2 text-md rounded-xl",children:"Sign In"})})]}):h.jsx("div",{className:"text-center py-4",children:"Loading..."})})]})})]})},u2="pk_test_a25vd2luZy1sb2N1c3QtMjguY2xlcmsuYWNjb3VudHMuZGV2JA";function h2(){return h.jsx($w,{publishableKey:u2,appearance:{baseTheme:void 0,variables:{colorPrimary:"#f97316"}},children:h.jsx(B_,{children:h.jsxs("div",{className:"min-h-screen relative",children:[h.jsx(o2,{}),h.jsx(b1,{}),h.jsx("main",{className:"relative z-1",children:h.jsxs(j_,{children:[h.jsx(Ir,{path:"/",element:h.jsx(LV,{})}),h.jsx(Ir,{path:"/learn",element:h.jsx(UV,{})}),h.jsx(Ir,{path:"/calculator",element:h.jsx(t2,{})}),h.jsx(Ir,{path:"/therapy",element:h.jsx(r2,{})}),h.jsx(Ir,{path:"/services",element:h.jsx(i2,{})})]})}),h.jsx(a2,{}),h.jsx(c2,{}),h.jsx(sb,{})]})})})}yl.createRoot(document.getElementById("root")).render(h.jsx(Be.StrictMode,{children:h.jsx(h2,{})}));
