var WT=Object.defineProperty;var YT=(t,e,n)=>e in t?WT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nn=(t,e,n)=>(YT(t,typeof e!="symbol"?e+"":e,n),n);import{j as g,P as za,c as GT,a as KT,u as $b,B as XT,b as JT,d as ZT,e as Xd,f as js,R as QT,g as eE,h as tE,i as nE,S as rE,_ as $g,k as Wb,O as Yb,C as Gb,l as iE,T as Kb,D as Xb,m as sE,n as oE}from"./ui-e69f372c.js";import{a as Jb,r as Z,c as aE,R as Ir,u as Rl,S as fy,U as py,d as my,e as Fs,g as Of,C as lE}from"./vendor-c3e71ba4.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Lm={},gy=Jb;Lm.createRoot=gy.createRoot,Lm.hydrateRoot=gy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}var pa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pa||(pa={}));const yy="popstate";function cE(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return jm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jd(i)}return hE(e,n,null,t)}function ir(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uE(){return Math.random().toString(36).substr(2,8)}function vy(t,e){return{usr:t.state,key:t.key,idx:e}}function jm(t,e,n,r){return n===void 0&&(n=null),Xu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qc(e):e,{state:n,key:e&&e.key||r||uE()})}function Jd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hE(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pa.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Xu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function m(){a=pa.Pop;let E=u(),C=E==null?null:E-c;c=E,l&&l({action:a,location:_.location,delta:C})}function y(E,C){a=pa.Push;let F=jm(_.location,E,C);n&&n(F,E),c=u()+1;let M=vy(F,c),z=_.createHref(F);try{o.pushState(M,"",z)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;i.location.assign(z)}s&&l&&l({action:a,location:_.location,delta:1})}function f(E,C){a=pa.Replace;let F=jm(_.location,E,C);n&&n(F,E),c=u();let M=vy(F,c),z=_.createHref(F);o.replaceState(M,"",z),s&&l&&l({action:a,location:_.location,delta:0})}function A(E){let C=i.location.origin!=="null"?i.location.origin:i.location.href,F=typeof E=="string"?E:Jd(E);return F=F.replace(/ $/,"%20"),ir(C,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,C)}let _={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yy,m),l=E,()=>{i.removeEventListener(yy,m),l=null}},createHref(E){return e(i,E)},createURL:A,encodeLocation(E){let C=A(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:f,go(E){return o.go(E)}};return _}var by;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(by||(by={}));function dE(t,e,n){return n===void 0&&(n="/"),fE(t,e,n,!1)}function fE(t,e,n,r){let i=typeof e=="string"?qc(e):e,s=Wg(i.pathname||"/",n);if(s==null)return null;let o=Qb(t);pE(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=EE(s);a=AE(o[l],c,r)}return a}function Qb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ir(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ba([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ir(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Qb(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_E(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ew(s.path))i(s,o,l)}),e}function ew(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ew(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function pE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mE=/^:[\w-]+$/,gE=3,yE=2,vE=1,bE=10,wE=-2,wy=t=>t==="*";function _E(t,e){let n=t.split("/"),r=n.length;return n.some(wy)&&(r+=wE),e&&(r+=yE),n.filter(i=>!wy(i)).reduce((i,s)=>i+(mE.test(s)?gE:s===""?vE:bE),r)}function xE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AE(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",m=_y({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),y=l.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=_y({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:ba([s,m.pathname]),pathnameBase:PE(ba([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=ba([s,m.pathnameBase]))}return o}function _y(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,m)=>{let{paramName:y,isOptional:f}=u;if(y==="*"){let _=a[m]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const A=a[m];return f&&!A?c[y]=void 0:c[y]=(A||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function TE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qc(t):t;return{pathname:n?n.startsWith("/")?n:NE(n,e):e,search:CE(r),hash:kE(i)}}function NE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tw(t,e){let n=IE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qc(t):(i=Xu({},t),ir(!i.pathname||!i.pathname.includes("?"),Cp("?","pathname","search",i)),ir(!i.pathname||!i.pathname.includes("#"),Cp("#","pathname","hash",i)),ir(!i.search||!i.search.includes("#"),Cp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}a=m>=0?e[m]:"/"}let l=SE(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ba=t=>t.join("/").replace(/\/\/+/g,"/"),PE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rw=["post","put","patch","delete"];new Set(rw);const LE=["get",...rw];new Set(LE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}const Yg=Z.createContext(null),jE=Z.createContext(null),Ll=Z.createContext(null),Df=Z.createContext(null),jl=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),iw=Z.createContext(null);function OE(t,e){let{relative:n}=e===void 0?{}:e;xh()||ir(!1);let{basename:r,navigator:i}=Z.useContext(Ll),{hash:s,pathname:o,search:a}=ow(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ba([r,o])),i.createHref({pathname:l,search:a,hash:s})}function xh(){return Z.useContext(Df)!=null}function qa(){return xh()||ir(!1),Z.useContext(Df).location}function sw(t){Z.useContext(Ll).static||Z.useLayoutEffect(t)}function DE(){let{isDataRoute:t}=Z.useContext(jl);return t?KE():ME()}function ME(){xh()||ir(!1);let t=Z.useContext(Yg),{basename:e,future:n,navigator:r}=Z.useContext(Ll),{matches:i}=Z.useContext(jl),{pathname:s}=qa(),o=JSON.stringify(tw(i,n.v7_relativeSplatPath)),a=Z.useRef(!1);return sw(()=>{a.current=!0}),Z.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let m=nw(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ba([e,m.pathname])),(u.replace?r.replace:r.push)(m,u.state,u)},[e,r,o,s,t])}function ow(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Z.useContext(Ll),{matches:i}=Z.useContext(jl),{pathname:s}=qa(),o=JSON.stringify(tw(i,r.v7_relativeSplatPath));return Z.useMemo(()=>nw(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function FE(t,e){return VE(t,e)}function VE(t,e,n,r){xh()||ir(!1);let{navigator:i}=Z.useContext(Ll),{matches:s}=Z.useContext(jl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=qa(),u;if(e){var m;let E=typeof e=="string"?qc(e):e;l==="/"||(m=E.pathname)!=null&&m.startsWith(l)||ir(!1),u=E}else u=c;let y=u.pathname||"/",f=y;if(l!=="/"){let E=l.replace(/^\//,"").split("/");f="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let A=dE(t,{pathname:f}),_=HE(A&&A.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ba([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:ba([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&_?Z.createElement(Df.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:pa.Pop}},_):_}function BE(){let t=GE(),e=RE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:i},n):null,s)}const UE=Z.createElement(BE,null);class zE extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Z.createElement(jl.Provider,{value:this.props.routeContext},Z.createElement(iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qE(t){let{routeContext:e,match:n,children:r}=t,i=Z.useContext(Yg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Z.createElement(jl.Provider,{value:e},r)}function HE(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);u>=0||ir(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:y,errors:f}=n,A=m.route.loader&&y[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||A){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,m,y)=>{let f,A=!1,_=null,E=null;n&&(f=a&&m.route.id?a[m.route.id]:void 0,_=m.route.errorElement||UE,l&&(c<0&&y===0?(XE("route-fallback",!1),A=!0,E=null):c===y&&(A=!0,E=m.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,y+1)),F=()=>{let M;return f?M=_:A?M=E:m.route.Component?M=Z.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=u,Z.createElement(qE,{match:m,routeContext:{outlet:u,matches:C,isDataRoute:n!=null},children:M})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?Z.createElement(zE,{location:n.location,revalidation:n.revalidation,component:_,error:f,children:F(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):F()},null)}var aw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aw||{}),Zd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zd||{});function $E(t){let e=Z.useContext(Yg);return e||ir(!1),e}function WE(t){let e=Z.useContext(jE);return e||ir(!1),e}function YE(t){let e=Z.useContext(jl);return e||ir(!1),e}function lw(t){let e=YE(),n=e.matches[e.matches.length-1];return n.route.id||ir(!1),n.route.id}function GE(){var t;let e=Z.useContext(iw),n=WE(Zd.UseRouteError),r=lw(Zd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KE(){let{router:t}=$E(aw.UseNavigateStable),e=lw(Zd.UseNavigateStable),n=Z.useRef(!1);return sw(()=>{n.current=!0}),Z.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ju({fromRouteId:e},s)))},[t,e])}const xy={};function XE(t,e,n){!e&&!xy[t]&&(xy[t]=!0)}function JE(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function sc(t){ir(!1)}function ZE(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pa.Pop,navigator:s,static:o=!1,future:a}=t;xh()&&ir(!1);let l=e.replace(/^\/*/,"/"),c=Z.useMemo(()=>({basename:l,navigator:s,static:o,future:Ju({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=qc(r));let{pathname:u="/",search:m="",hash:y="",state:f=null,key:A="default"}=r,_=Z.useMemo(()=>{let E=Wg(u,l);return E==null?null:{location:{pathname:E,search:m,hash:y,state:f,key:A},navigationType:i}},[l,u,m,y,f,A,i]);return _==null?null:Z.createElement(Ll.Provider,{value:c},Z.createElement(Df.Provider,{children:n,value:_}))}function QE(t){let{children:e,location:n}=t;return FE(Om(e),n)}new Promise(()=>{});function Om(t,e){e===void 0&&(e=[]);let n=[];return Z.Children.forEach(t,(r,i)=>{if(!Z.isValidElement(r))return;let s=[...e,i];if(r.type===Z.Fragment){n.push.apply(n,Om(r.props.children,s));return}r.type!==sc&&ir(!1),!r.props.index||!r.props.children||ir(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Om(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dm.apply(this,arguments)}function eS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nS(t,e){return t.button===0&&(!e||e==="_self")&&!tS(t)}const rS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iS="6";try{window.__reactRouterVersion=iS}catch{}const sS="startTransition",Ay=aE[sS];function oS(t){let{basename:e,children:n,future:r,window:i}=t,s=Z.useRef();s.current==null&&(s.current=cE({window:i,v5Compat:!0}));let o=s.current,[a,l]=Z.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=Z.useCallback(m=>{c&&Ay?Ay(()=>l(m)):l(m)},[l,c]);return Z.useLayoutEffect(()=>o.listen(u),[o,u]),Z.useEffect(()=>JE(r),[r]),Z.createElement(ZE,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const aS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vs=Z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:m}=e,y=eS(e,rS),{basename:f}=Z.useContext(Ll),A,_=!1;if(typeof c=="string"&&lS.test(c)&&(A=c,aS))try{let M=new URL(window.location.href),z=c.startsWith("//")?new URL(M.protocol+c):new URL(c),ee=Wg(z.pathname,f);z.origin===M.origin&&ee!=null?c=ee+z.search+z.hash:_=!0}catch{}let E=OE(c,{relative:i}),C=cS(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:m});function F(M){r&&r(M),M.defaultPrevented||C(M)}return Z.createElement("a",Dm({},y,{href:A||E,onClick:_||s?r:F,ref:n,target:l}))});var Ty;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ty||(Ty={}));var Ey;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ey||(Ey={}));function cS(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=DE(),c=qa(),u=ow(t,{relative:o});return Z.useCallback(m=>{if(nS(m,n)){m.preventDefault();let y=r!==void 0?r:Jd(c)===Jd(u);l(t,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function cw(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=cw(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function uw(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=cw(t))&&(r&&(r+=" "),r+=e);return r}function uS(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=hw(e))&&(r&&(r+=" "),r+=n);return r}function hw(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=hw(t[r]))&&(n&&(n+=" "),n+=e);return n}var Gg="-";function hS(t){var e=fS(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var l=a.split(Gg);return l[0]===""&&l.length!==1&&l.shift(),dw(l,e)||dS(a)}function o(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function dw(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?dw(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(Gg);return(o=e.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:o.classGroupId}}var Sy=/^\[(.+)\]$/;function dS(t){if(Sy.test(t)){var e=Sy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function fS(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=mS(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];Mm(a,r,o,e)}),r}function Mm(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:Ny(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(pS(i)){Mm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];Mm(l,Ny(e,a),n,r)})})}function Ny(t,e){var n=t;return e.split(Gg).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function pS(t){return t.isThemeGetter}function mS(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,s]}):t}function gS(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var fw="!";function yS(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],l=0,c=0,u,m=0;m<o.length;m++){var y=o[m];if(l===0){if(y===r&&(n||o.slice(m,m+i)===e)){a.push(o.slice(c,m)),c=m+i;continue}if(y==="/"){u=m;continue}}y==="["?l++:y==="]"&&l--}var f=a.length===0?o:o.substring(c),A=f.startsWith(fw),_=A?f.substring(1):f,E=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:A,baseClassName:_,maybePostfixModifierPosition:E}}}function vS(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function bS(t){return{cache:gS(t.cacheSize),splitModifiers:yS(t),...hS(t)}}var wS=/\s+/;function _S(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(wS).map(function(o){var a=n(o),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,m=a.maybePostfixModifierPosition,y=r(m?u.substring(0,m):u),f=!!m;if(!y){if(!m)return{isTailwindClass:!1,originalClassName:o};if(y=r(u),!y)return{isTailwindClass:!1,originalClassName:o};f=!1}var A=vS(l).join(":"),_=c?A+fw:A;return{isTailwindClass:!0,modifierId:_,classGroupId:y,originalClassName:o,hasPostfixModifier:f}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,u=a+l;return s.has(u)?!1:(s.add(u),i(l,c).forEach(function(m){return s.add(a+m)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function xS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=a;function a(c){var u=e[0],m=e.slice(1),y=m.reduce(function(f,A){return A(f)},u());return r=bS(y),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var u=i(c);if(u)return u;var m=_S(c,r);return s(c,m),m}return function(){return o(uS.apply(null,arguments))}}function xn(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var pw=/^\[(?:([a-z-]+):)?(.+)\]$/i,AS=/^\d+\/\d+$/,TS=new Set(["px","full","screen"]),ES=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NS=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function hs(t){return fl(t)||TS.has(t)||AS.test(t)||Fm(t)}function Fm(t){return Ol(t,"length",LS)}function IS(t){return Ol(t,"size",mw)}function PS(t){return Ol(t,"position",mw)}function CS(t){return Ol(t,"url",jS)}function ad(t){return Ol(t,"number",fl)}function fl(t){return!Number.isNaN(Number(t))}function kS(t){return t.endsWith("%")&&fl(t.slice(0,-1))}function wu(t){return Iy(t)||Ol(t,"number",Iy)}function Mt(t){return pw.test(t)}function _u(){return!0}function ra(t){return ES.test(t)}function RS(t){return Ol(t,"",OS)}function Ol(t,e,n){var r=pw.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function LS(t){return SS.test(t)}function mw(){return!1}function jS(t){return t.startsWith("url(")}function Iy(t){return Number.isInteger(Number(t))}function OS(t){return NS.test(t)}function DS(){var t=xn("colors"),e=xn("spacing"),n=xn("blur"),r=xn("brightness"),i=xn("borderColor"),s=xn("borderRadius"),o=xn("borderSpacing"),a=xn("borderWidth"),l=xn("contrast"),c=xn("grayscale"),u=xn("hueRotate"),m=xn("invert"),y=xn("gap"),f=xn("gradientColorStops"),A=xn("gradientColorStopPositions"),_=xn("inset"),E=xn("margin"),C=xn("opacity"),F=xn("padding"),M=xn("saturate"),z=xn("scale"),ee=xn("sepia"),ne=xn("skew"),B=xn("space"),P=xn("translate"),S=function(){return["auto","contain","none"]},D=function(){return["auto","hidden","clip","visible","scroll"]},T=function(){return["auto",Mt,e]},I=function(){return[Mt,e]},k=function(){return["",hs]},Y=function(){return["auto",fl,Mt]},ce=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},de=function(){return["solid","dashed","dotted","double","none"]},me=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},le=function(){return["start","end","center","between","around","evenly","stretch"]},ye=function(){return["","0",Mt]},Re=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ve=function(){return[fl,ad]},j=function(){return[fl,Mt]};return{cacheSize:500,theme:{colors:[_u],spacing:[hs],blur:["none","",ra,Mt],brightness:ve(),borderColor:[t],borderRadius:["none","","full",ra,Mt],borderSpacing:I(),borderWidth:k(),contrast:ve(),grayscale:ye(),hueRotate:j(),invert:ye(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[kS,Fm],inset:T(),margin:T(),opacity:ve(),padding:I(),saturate:ve(),scale:ve(),sepia:ye(),skew:j(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Mt]}],container:["container"],columns:[{columns:[ra]}],"break-after":[{"break-after":Re()}],"break-before":[{"break-before":Re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ce(),[Mt])}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wu]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Mt]}],grow:[{grow:ye()}],shrink:[{shrink:ye()}],order:[{order:["first","last","none",wu]}],"grid-cols":[{"grid-cols":[_u]}],"col-start-end":[{col:["auto",{span:["full",wu]},Mt]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[_u]}],"row-start-end":[{row:["auto",{span:[wu]},Mt]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Mt]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal"].concat(le())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(le(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(le(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Mt,e]}],"min-w":[{"min-w":["min","max","fit",Mt,hs]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ra]},ra,Mt]}],h:[{h:[Mt,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Mt,hs]}],"max-h":[{"max-h":[Mt,e,"min","max","fit"]}],"font-size":[{text:["base",ra,Fm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ad]}],"font-family":[{font:[_u]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Mt]}],"line-clamp":[{"line-clamp":["none",fl,ad]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mt,hs]}],"list-image":[{"list-image":["none",Mt]}],"list-style-type":[{list:["none","disc","decimal",Mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(de(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",hs]}],"underline-offset":[{"underline-offset":["auto",Mt,hs]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ce(),[PS])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CS]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[].concat(de(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:de()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(de())}],"outline-offset":[{"outline-offset":[Mt,hs]}],"outline-w":[{outline:[hs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[hs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ra,RS]}],"shadow-color":[{shadow:[_u]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":me()}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ra,Mt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[M]}],sepia:[{sepia:[ee]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Mt]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",Mt]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",Mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[wu,Mt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[ne]}],"skew-y":[{"skew-y":[ne]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Mt]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hs,ad]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var MS=xS(DS);function ni(...t){return MS(uw(t))}var FS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VS="VisuallyHidden",Kg=Z.forwardRef((t,e)=>g.jsx(za.span,{...t,ref:e,style:{...FS,...t.style}}));Kg.displayName=VS;var Xg="ToastProvider",[Jg,BS,US]=GT("Toast"),[gw,tU]=KT("Toast",[US]),[zS,Mf]=gw(Xg),yw=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=Z.useState(null),[c,u]=Z.useState(0),m=Z.useRef(!1),y=Z.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xg}\`. Expected non-empty \`string\`.`),g.jsx(Jg.Provider,{scope:e,children:g.jsx(zS,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:Z.useCallback(()=>u(f=>f+1),[]),onToastRemove:Z.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:y,children:o})})};yw.displayName=Xg;var vw="ToastViewport",qS=["F8"],Vm="toast.viewportPause",Bm="toast.viewportResume",bw=Z.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=qS,label:i="Notifications ({hotkey})",...s}=t,o=Mf(vw,n),a=BS(n),l=Z.useRef(null),c=Z.useRef(null),u=Z.useRef(null),m=Z.useRef(null),y=$b(e,m,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=o.toastCount>0;Z.useEffect(()=>{const E=C=>{var M;r.length!==0&&r.every(z=>C[z]||C.code===z)&&((M=m.current)==null||M.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),Z.useEffect(()=>{const E=l.current,C=m.current;if(A&&E&&C){const F=()=>{if(!o.isClosePausedRef.current){const ne=new CustomEvent(Vm);C.dispatchEvent(ne),o.isClosePausedRef.current=!0}},M=()=>{if(o.isClosePausedRef.current){const ne=new CustomEvent(Bm);C.dispatchEvent(ne),o.isClosePausedRef.current=!1}},z=ne=>{!E.contains(ne.relatedTarget)&&M()},ee=()=>{E.contains(document.activeElement)||M()};return E.addEventListener("focusin",F),E.addEventListener("focusout",z),E.addEventListener("pointermove",F),E.addEventListener("pointerleave",ee),window.addEventListener("blur",F),window.addEventListener("focus",M),()=>{E.removeEventListener("focusin",F),E.removeEventListener("focusout",z),E.removeEventListener("pointermove",F),E.removeEventListener("pointerleave",ee),window.removeEventListener("blur",F),window.removeEventListener("focus",M)}}},[A,o.isClosePausedRef]);const _=Z.useCallback(({tabbingDirection:E})=>{const F=a().map(M=>{const z=M.ref.current,ee=[z,...nN(z)];return E==="forwards"?ee:ee.reverse()});return(E==="forwards"?F.reverse():F).flat()},[a]);return Z.useEffect(()=>{const E=m.current;if(E){const C=F=>{var ee,ne,B;const M=F.altKey||F.ctrlKey||F.metaKey;if(F.key==="Tab"&&!M){const P=document.activeElement,S=F.shiftKey;if(F.target===E&&S){(ee=c.current)==null||ee.focus();return}const I=_({tabbingDirection:S?"backwards":"forwards"}),k=I.findIndex(Y=>Y===P);kp(I.slice(k+1))?F.preventDefault():S?(ne=c.current)==null||ne.focus():(B=u.current)==null||B.focus()}};return E.addEventListener("keydown",C),()=>E.removeEventListener("keydown",C)}},[a,_]),g.jsxs(XT,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&g.jsx(Um,{ref:c,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"forwards"});kp(E)}}),g.jsx(Jg.Slot,{scope:n,children:g.jsx(za.ol,{tabIndex:-1,...s,ref:y})}),A&&g.jsx(Um,{ref:u,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"backwards"});kp(E)}})]})});bw.displayName=vw;var ww="ToastFocusProxy",Um=Z.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Mf(ww,n);return g.jsx(Kg,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Um.displayName=ww;var Ah="Toast",HS="toast.swipeStart",$S="toast.swipeMove",WS="toast.swipeCancel",YS="toast.swipeEnd",_w=Z.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=JT({prop:r,defaultProp:i??!0,onChange:s,caller:Ah});return g.jsx(ZT,{present:n||a,children:g.jsx(XS,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Xd(t.onPause),onResume:Xd(t.onResume),onSwipeStart:js(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:js(t.onSwipeMove,c=>{const{x:u,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:js(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:js(t.onSwipeEnd,c=>{const{x:u,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),l(!1)})})})});_w.displayName=Ah;var[GS,KS]=gw(Ah,{onClose(){}}),XS=Z.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:y,onSwipeEnd:f,...A}=t,_=Mf(Ah,n),[E,C]=Z.useState(null),F=$b(e,Y=>C(Y)),M=Z.useRef(null),z=Z.useRef(null),ee=i||_.duration,ne=Z.useRef(0),B=Z.useRef(ee),P=Z.useRef(0),{onToastAdd:S,onToastRemove:D}=_,T=Xd(()=>{var ce;(E==null?void 0:E.contains(document.activeElement))&&((ce=_.viewport)==null||ce.focus()),o()}),I=Z.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(P.current),ne.current=new Date().getTime(),P.current=window.setTimeout(T,Y))},[T]);Z.useEffect(()=>{const Y=_.viewport;if(Y){const ce=()=>{I(B.current),c==null||c()},de=()=>{const me=new Date().getTime()-ne.current;B.current=B.current-me,window.clearTimeout(P.current),l==null||l()};return Y.addEventListener(Vm,de),Y.addEventListener(Bm,ce),()=>{Y.removeEventListener(Vm,de),Y.removeEventListener(Bm,ce)}}},[_.viewport,ee,l,c,I]),Z.useEffect(()=>{s&&!_.isClosePausedRef.current&&I(ee)},[s,ee,_.isClosePausedRef,I]),Z.useEffect(()=>(S(),()=>D()),[S,D]);const k=Z.useMemo(()=>E?Iw(E):null,[E]);return _.viewport?g.jsxs(g.Fragment,{children:[k&&g.jsx(JS,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:k}),g.jsx(GS,{scope:n,onClose:T,children:Jb.createPortal(g.jsx(Jg.ItemSlot,{scope:n,children:g.jsx(QT,{asChild:!0,onEscapeKeyDown:js(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||T(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(za.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...A,ref:F,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:js(t.onKeyDown,Y=>{Y.key==="Escape"&&(a==null||a(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:js(t.onPointerDown,Y=>{Y.button===0&&(M.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:js(t.onPointerMove,Y=>{if(!M.current)return;const ce=Y.clientX-M.current.x,de=Y.clientY-M.current.y,me=!!z.current,le=["left","right"].includes(_.swipeDirection),ye=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,Re=le?ye(0,ce):0,ve=le?0:ye(0,de),j=Y.pointerType==="touch"?10:2,$={x:Re,y:ve},J={originalEvent:Y,delta:$};me?(z.current=$,ld($S,m,J,{discrete:!1})):Py($,_.swipeDirection,j)?(z.current=$,ld(HS,u,J,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(ce)>j||Math.abs(de)>j)&&(M.current=null)}),onPointerUp:js(t.onPointerUp,Y=>{const ce=z.current,de=Y.target;if(de.hasPointerCapture(Y.pointerId)&&de.releasePointerCapture(Y.pointerId),z.current=null,M.current=null,ce){const me=Y.currentTarget,le={originalEvent:Y,delta:ce};Py(ce,_.swipeDirection,_.swipeThreshold)?ld(YS,f,le,{discrete:!0}):ld(WS,y,le,{discrete:!0}),me.addEventListener("click",ye=>ye.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),JS=t=>{const{__scopeToast:e,children:n,...r}=t,i=Mf(Ah,e),[s,o]=Z.useState(!1),[a,l]=Z.useState(!1);return eN(()=>o(!0)),Z.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:g.jsx(eE,{asChild:!0,children:g.jsx(Kg,{...r,children:s&&g.jsxs(g.Fragment,{children:[i.label," ",n]})})})},ZS="ToastTitle",xw=Z.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(za.div,{...r,ref:e})});xw.displayName=ZS;var QS="ToastDescription",Aw=Z.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(za.div,{...r,ref:e})});Aw.displayName=QS;var Tw="ToastAction",Ew=Z.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(Nw,{altText:n,asChild:!0,children:g.jsx(Zg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Tw}\`. Expected non-empty \`string\`.`),null)});Ew.displayName=Tw;var Sw="ToastClose",Zg=Z.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=KS(Sw,n);return g.jsx(Nw,{asChild:!0,children:g.jsx(za.button,{type:"button",...r,ref:e,onClick:js(t.onClick,i.onClose)})})});Zg.displayName=Sw;var Nw=Z.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return g.jsx(za.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Iw(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),tN(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Iw(r))}}),e}function ld(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?nE(i,s):i.dispatchEvent(s)}var Py=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function eN(t=()=>{}){const e=Xd(t);tE(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function tN(t){return t.nodeType===t.ELEMENT_NODE}function nN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var rN=yw,Pw=bw,Cw=_w,kw=xw,Rw=Aw,Lw=Ew,jw=Zg;const Cy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ky=uw,Qg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ky(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],m=s==null?void 0:s[c];if(u===null)return null;const y=Cy(u)||Cy(m);return i[c][y]}),a=n&&Object.entries(n).reduce((c,u)=>{let[m,y]=u;return y===void 0||(c[m]=y),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:m,className:y,...f}=u;return Object.entries(f).every(A=>{let[_,E]=A;return Array.isArray(E)?E.includes({...s,...a}[_]):{...s,...a}[_]===E})?[...c,m,y]:c},[]);return ky(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};var iN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pn=(t,e)=>{const n=Z.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>Z.createElement("svg",{ref:c,...iN,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${sN(t)}`,...l},[...e.map(([u,m])=>Z.createElement(u,m)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},oN=Pn("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),aN=Pn("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Ry=Pn("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),xl=Pn("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Qd=Pn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),lN=Pn("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),Ow=Pn("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Dw=Pn("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Mw=Pn("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),cN=Pn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),uN=Pn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),hN=Pn("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Fw=Pn("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),dN=Pn("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Ou=Pn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),fN=Pn("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),pN=Pn("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),gr=Pn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),mN=Pn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Vw=Pn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Bw=Pn("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]),gN=Pn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),yN=Pn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),e0=Pn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vN=rN,Uw=Ir.forwardRef(({className:t,...e},n)=>g.jsx(Pw,{ref:n,className:ni("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Uw.displayName=Pw.displayName;const bN=Qg("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-[rgba(255,107,53,0.15)] border border-[rgba(255,107,53,0.3)] backdrop-blur-md text-orange-900",destructive:"bg-[rgba(255,107,53,0.15)] border border-[rgba(255,107,53,0.3)] backdrop-blur-md text-orange-900"}},defaultVariants:{variant:"default"}}),zw=Ir.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(Cw,{ref:r,className:ni(bN({variant:e}),t),...n}));zw.displayName=Cw.displayName;const wN=Ir.forwardRef(({className:t,...e},n)=>g.jsx(Lw,{ref:n,className:ni("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));wN.displayName=Lw.displayName;const qw=Ir.forwardRef(({className:t,...e},n)=>g.jsx(jw,{ref:n,className:ni("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(e0,{className:"h-4 w-4"})}));qw.displayName=jw.displayName;const Hw=Ir.forwardRef(({className:t,...e},n)=>g.jsx(kw,{ref:n,className:ni("text-sm font-semibold",t),...e}));Hw.displayName=kw.displayName;const $w=Ir.forwardRef(({className:t,...e},n)=>g.jsx(Rw,{ref:n,className:ni("text-sm opacity-90",t),...e}));$w.displayName=Rw.displayName;const _N=1;let Rp=0;function xN(){return Rp=(Rp+1)%Number.MAX_VALUE,Rp.toString()}const Qr={state:{toasts:[]},listeners:[],getState:()=>Qr.state,setState:t=>{typeof t=="function"?Qr.state=t(Qr.state):Qr.state={...Qr.state,...t},Qr.listeners.forEach(e=>e(Qr.state))},subscribe:t=>(Qr.listeners.push(t),()=>{Qr.listeners=Qr.listeners.filter(e=>e!==t)})},Sr=({...t})=>{const e=xN(),n=i=>Qr.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>Qr.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return Qr.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,_N)})),{id:e,dismiss:r,update:n}};function AN(){const[t,e]=Z.useState(Qr.getState());return Z.useEffect(()=>Qr.subscribe(r=>{e(r)}),[]),Z.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:Sr,toasts:t.toasts}}function TN(){const{toasts:t}=AN();return g.jsxs(vN,{children:[t.map(({id:e,title:n,description:r,action:i,...s})=>g.jsxs(zw,{...s,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(Hw,{children:n}),r&&g.jsx($w,{children:r})]}),i,g.jsx(qw,{})]},e)),g.jsx(Uw,{})]})}const Ww=Z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ff=Z.createContext({}),Vf=Z.createContext(null),Bf=typeof document<"u",t0=Bf?Z.useLayoutEffect:Z.useEffect,Yw=Z.createContext({strict:!1}),n0=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),EN="framerAppearId",Gw="data-"+n0(EN);function SN(t,e,n,r){const{visualElement:i}=Z.useContext(Ff),s=Z.useContext(Yw),o=Z.useContext(Vf),a=Z.useContext(Ww).reducedMotion,l=Z.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;Z.useInsertionEffect(()=>{c&&c.update(n,o)});const u=Z.useRef(!!(n[Gw]&&!window.HandoffComplete));return t0(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),Z.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function dc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function NN(t,e,n){return Z.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):dc(n)&&(n.current=r))},[e])}function Zu(t){return typeof t=="string"||Array.isArray(t)}function Uf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const r0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i0=["initial",...r0];function zf(t){return Uf(t.animate)||i0.some(e=>Zu(t[e]))}function Kw(t){return!!(zf(t)||t.variants)}function IN(t,e){if(zf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Zu(n)?n:void 0,animate:Zu(r)?r:void 0}}return t.inherit!==!1?e:{}}function PN(t){const{initial:e,animate:n}=IN(t,Z.useContext(Ff));return Z.useMemo(()=>({initial:e,animate:n}),[Ly(e),Ly(n)])}function Ly(t){return Array.isArray(t)?t.join(" "):t}const jy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qu={};for(const t in jy)Qu[t]={isEnabled:e=>jy[t].some(n=>!!e[n])};function CN(t){for(const e in t)Qu[e]={...Qu[e],...t[e]}}const s0=Z.createContext({}),Xw=Z.createContext({}),kN=Symbol.for("motionComponentSymbol");function RN({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&CN(t);function s(a,l){let c;const u={...Z.useContext(Ww),...a,layoutId:LN(a)},{isStatic:m}=u,y=PN(a),f=r(a,m);if(!m&&Bf){y.visualElement=SN(i,f,u,e);const A=Z.useContext(Xw),_=Z.useContext(Yw).strict;y.visualElement&&(c=y.visualElement.loadFeatures(u,_,t,A))}return Z.createElement(Ff.Provider,{value:y},c&&y.visualElement?Z.createElement(c,{visualElement:y.visualElement,...u}):null,n(i,a,NN(f,y.visualElement,l),f,m,y.visualElement))}const o=Z.forwardRef(s);return o[kN]=i,o}function LN({layoutId:t}){const e=Z.useContext(s0).id;return e&&t!==void 0?e+"-"+t:t}function jN(t){function e(r,i={}){return RN(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const ON=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o0(t){return typeof t!="string"||t.includes("-")?!1:!!(ON.indexOf(t)>-1||/[A-Z]/.test(t))}const ef={};function DN(t){Object.assign(ef,t)}const Th=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dl=new Set(Th);function Jw(t,{layout:e,layoutId:n}){return Dl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ef[t]||t==="opacity")}const pi=t=>!!(t&&t.getVelocity),MN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FN=Th.length;function VN(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<FN;o++){const a=Th[o];if(t[a]!==void 0){const l=MN[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const Zw=t=>e=>typeof e=="string"&&e.startsWith(t),Qw=Zw("--"),zm=Zw("var(--"),BN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,UN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ra=(t,e,n)=>Math.min(Math.max(n,t),e),Ml={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Du={...Ml,transform:t=>Ra(0,1,t)},cd={...Ml,default:1},Mu=t=>Math.round(t*1e5)/1e5,qf=/(-)?([\d]*\.?[\d])+/g,e_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,zN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Eh(t){return typeof t=="string"}const Sh=t=>({test:e=>Eh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),aa=Sh("deg"),Bs=Sh("%"),ht=Sh("px"),qN=Sh("vh"),HN=Sh("vw"),Oy={...Bs,parse:t=>Bs.parse(t)/100,transform:t=>Bs.transform(t*100)},Dy={...Ml,transform:Math.round},t_={borderWidth:ht,borderTopWidth:ht,borderRightWidth:ht,borderBottomWidth:ht,borderLeftWidth:ht,borderRadius:ht,radius:ht,borderTopLeftRadius:ht,borderTopRightRadius:ht,borderBottomRightRadius:ht,borderBottomLeftRadius:ht,width:ht,maxWidth:ht,height:ht,maxHeight:ht,size:ht,top:ht,right:ht,bottom:ht,left:ht,padding:ht,paddingTop:ht,paddingRight:ht,paddingBottom:ht,paddingLeft:ht,margin:ht,marginTop:ht,marginRight:ht,marginBottom:ht,marginLeft:ht,rotate:aa,rotateX:aa,rotateY:aa,rotateZ:aa,scale:cd,scaleX:cd,scaleY:cd,scaleZ:cd,skew:aa,skewX:aa,skewY:aa,distance:ht,translateX:ht,translateY:ht,translateZ:ht,x:ht,y:ht,z:ht,perspective:ht,transformPerspective:ht,opacity:Du,originX:Oy,originY:Oy,originZ:ht,zIndex:Dy,fillOpacity:Du,strokeOpacity:Du,numOctaves:Dy};function a0(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const m in e){const y=e[m];if(Qw(m)){s[m]=y;continue}const f=t_[m],A=UN(y,f);if(Dl.has(m)){if(l=!0,o[m]=A,!u)continue;y!==(f.default||0)&&(u=!1)}else m.startsWith("origin")?(c=!0,a[m]=A):i[m]=A}if(e.transform||(l||r?i.transform=VN(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:m="50%",originY:y="50%",originZ:f=0}=a;i.transformOrigin=`${m} ${y} ${f}`}}const l0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function n_(t,e,n){for(const r in e)!pi(e[r])&&!Jw(r,n)&&(t[r]=e[r])}function $N({transformTemplate:t},e,n){return Z.useMemo(()=>{const r=l0();return a0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function WN(t,e,n){const r=t.style||{},i={};return n_(i,r,t),Object.assign(i,$N(t,e,n)),t.transformValues?t.transformValues(i):i}function YN(t,e,n){const r={},i=WN(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const GN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||GN.has(t)}let r_=t=>!tf(t);function KN(t){t&&(r_=e=>e.startsWith("on")?!tf(e):t(e))}try{KN(require("@emotion/is-prop-valid").default)}catch{}function XN(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(r_(i)||n===!0&&tf(i)||!e&&!tf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function My(t,e,n){return typeof t=="string"?t:ht.transform(e+n*t)}function JN(t,e,n){const r=My(e,t.x,t.width),i=My(n,t.y,t.height);return`${r} ${i}`}const ZN={offset:"stroke-dashoffset",array:"stroke-dasharray"},QN={offset:"strokeDashoffset",array:"strokeDasharray"};function e6(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?ZN:QN;t[s.offset]=ht.transform(-r);const o=ht.transform(e),a=ht.transform(n);t[s.array]=`${o} ${a}`}function c0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,m,y){if(a0(t,c,u,y),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:A,dimensions:_}=t;f.transform&&(_&&(A.transform=f.transform),delete f.transform),_&&(i!==void 0||s!==void 0||A.transform)&&(A.transformOrigin=JN(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&e6(f,o,a,l,!1)}const i_=()=>({...l0(),attrs:{}}),u0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function t6(t,e,n,r){const i=Z.useMemo(()=>{const s=i_();return c0(s,e,{enableHardwareAcceleration:!1},u0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};n_(s,t.style,t),i.style={...s,...i.style}}return i}function n6(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(o0(n)?t6:YN)(r,s,o,n),u={...XN(r,typeof n=="string",t),...l,ref:i},{children:m}=r,y=Z.useMemo(()=>pi(m)?m.get():m,[m]);return Z.createElement(n,{...u,children:y})}}function s_(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const o_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function a_(t,e,n,r){s_(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(o_.has(i)?i:n0(i),e.attrs[i])}function h0(t,e){const{style:n}=t,r={};for(const i in n)(pi(n[i])||e.style&&pi(e.style[i])||Jw(i,t))&&(r[i]=n[i]);return r}function l_(t,e){const n=h0(t,e);for(const r in t)if(pi(t[r])||pi(e[r])){const i=Th.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function d0(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function c_(t){const e=Z.useRef(null);return e.current===null&&(e.current=t()),e.current}const nf=t=>Array.isArray(t),r6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),i6=t=>nf(t)?t[t.length-1]||0:t;function Cd(t){const e=pi(t)?t.get():t;return r6(e)?e.toValue():e}function s6({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:o6(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const u_=t=>(e,n)=>{const r=Z.useContext(Ff),i=Z.useContext(Vf),s=()=>s6(t,e,r,i);return n?s():c_(s)};function o6(t,e,n,r){const i={},s=r(t,{});for(const y in s)i[y]=Cd(s[y]);let{initial:o,animate:a}=t;const l=zf(t),c=Kw(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const m=u?a:o;return m&&typeof m!="boolean"&&!Uf(m)&&(Array.isArray(m)?m:[m]).forEach(f=>{const A=d0(t,f);if(!A)return;const{transitionEnd:_,transition:E,...C}=A;for(const F in C){let M=C[F];if(Array.isArray(M)){const z=u?M.length-1:0;M=M[z]}M!==null&&(i[F]=M)}for(const F in _)i[F]=_[F]}),i}const Un=t=>t;class Fy{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function a6(t){let e=new Fy,n=new Fy,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const m=u&&i,y=m?e:n;return c&&o.add(l),y.add(l)&&m&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const ud=["prepare","read","update","preRender","render","postRender"],l6=40;function c6(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ud.reduce((m,y)=>(m[y]=a6(()=>n=!0),m),{}),o=m=>s[m].process(i),a=()=>{const m=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(m-i.timestamp,l6),1),i.timestamp=m,i.isProcessing=!0,ud.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:ud.reduce((m,y)=>{const f=s[y];return m[y]=(A,_=!1,E=!1)=>(n||l(),f.schedule(A,_,E)),m},{}),cancel:m=>ud.forEach(y=>s[y].cancel(m)),state:i,steps:s}}const{schedule:vn,cancel:Po,state:Vr,steps:Lp}=c6(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0),u6={useVisualState:u_({scrapeMotionValuesFromProps:l_,createRenderState:i_,onMount:(t,e,{renderState:n,latestValues:r})=>{vn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),vn.render(()=>{c0(n,r,{enableHardwareAcceleration:!1},u0(e.tagName),t.transformTemplate),a_(e,n)})}})},h6={useVisualState:u_({scrapeMotionValuesFromProps:h0,createRenderState:l0})};function d6(t,{forwardMotionProps:e=!1},n,r){return{...o0(t)?u6:h6,preloadedFeatures:n,useRender:n6(e),createVisualElement:r,Component:t}}function Ao(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const h_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Hf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const f6=t=>e=>h_(e)&&t(e,Hf(e));function So(t,e,n,r){return Ao(t,e,f6(n),r)}const p6=(t,e)=>n=>e(t(n)),wa=(...t)=>t.reduce(p6);function d_(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Vy=d_("dragHorizontal"),By=d_("dragVertical");function f_(t){let e=!1;if(t==="y")e=By();else if(t==="x")e=Vy();else{const n=Vy(),r=By();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function p_(){const t=f_(!0);return t?(t(),!1):!0}class Ha{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Uy(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||p_())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&vn.update(()=>a[r](s,o))};return So(t.current,n,i,{passive:!t.getProps()[r]})}class m6 extends Ha{mount(){this.unmount=wa(Uy(this.node,!0),Uy(this.node,!1))}unmount(){}}class g6 extends Ha{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wa(Ao(this.node.current,"focus",()=>this.onFocus()),Ao(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const m_=(t,e)=>e?t===e?!0:m_(t,e.parentElement):!1;function jp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Hf(n))}class y6 extends Ha{constructor(){super(...arguments),this.removeStartListeners=Un,this.removeEndListeners=Un,this.removeAccessibleListeners=Un,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=So(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:m}=this.node.getProps();vn.update(()=>{!m&&!m_(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=So(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wa(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||jp("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&vn.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ao(this.node.current,"keyup",o),jp("down",(a,l)=>{this.startPress(a,l)})},n=Ao(this.node.current,"keydown",e),r=()=>{this.isPressing&&jp("cancel",(s,o)=>this.cancelPress(s,o))},i=Ao(this.node.current,"blur",r);this.removeAccessibleListeners=wa(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&vn.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!p_()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&vn.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=So(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ao(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wa(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const qm=new WeakMap,Op=new WeakMap,v6=t=>{const e=qm.get(t.target);e&&e(t)},b6=t=>{t.forEach(v6)};function w6({root:t,...e}){const n=t||document;Op.has(n)||Op.set(n,{});const r=Op.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(b6,{root:t,...e})),r[i]}function _6(t,e,n){const r=w6(e);return qm.set(t,n),r.observe(t),()=>{qm.delete(t),r.unobserve(t)}}const x6={some:0,all:1};class A6 extends Ha{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:x6[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),y=c?u:m;y&&y(l)};return _6(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(T6(e,n))&&this.startObserver()}unmount(){}}function T6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const E6={inView:{Feature:A6},tap:{Feature:y6},focus:{Feature:g6},hover:{Feature:m6}};function g_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function S6(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function N6(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function $f(t,e,n){const r=t.getProps();return d0(r,e,n!==void 0?n:r.custom,S6(t),N6(t))}let I6=Un,Wf=Un;const _a=t=>t*1e3,No=t=>t/1e3,P6={current:!1},y_=t=>Array.isArray(t)&&typeof t[0]=="number";function v_(t){return!!(!t||typeof t=="string"&&b_[t]||y_(t)||Array.isArray(t)&&t.every(v_))}const Pu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,b_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function w_(t){if(t)return y_(t)?Pu(t):Array.isArray(t)?t.map(w_):b_[t]}function C6(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=w_(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function k6(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const __=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,R6=1e-7,L6=12;function j6(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=__(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>R6&&++a<L6);return o}function Nh(t,e,n,r){if(t===e&&n===r)return Un;const i=s=>j6(s,0,1,t,n);return s=>s===0||s===1?s:__(i(s),e,r)}const O6=Nh(.42,0,1,1),D6=Nh(0,0,.58,1),x_=Nh(.42,0,.58,1),M6=t=>Array.isArray(t)&&typeof t[0]!="number",A_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,T_=t=>e=>1-t(1-e),f0=t=>1-Math.sin(Math.acos(t)),E_=T_(f0),F6=A_(f0),S_=Nh(.33,1.53,.69,.99),p0=T_(S_),V6=A_(p0),B6=t=>(t*=2)<1?.5*p0(t):.5*(2-Math.pow(2,-10*(t-1))),U6={linear:Un,easeIn:O6,easeInOut:x_,easeOut:D6,circIn:f0,circInOut:F6,circOut:E_,backIn:p0,backInOut:V6,backOut:S_,anticipate:B6},zy=t=>{if(Array.isArray(t)){Wf(t.length===4);const[e,n,r,i]=t;return Nh(e,n,r,i)}else if(typeof t=="string")return U6[t];return t},m0=(t,e)=>n=>!!(Eh(n)&&zN.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),N_=(t,e,n)=>r=>{if(!Eh(r))return r;const[i,s,o,a]=r.match(qf);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},z6=t=>Ra(0,255,t),Dp={...Ml,transform:t=>Math.round(z6(t))},pl={test:m0("rgb","red"),parse:N_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Dp.transform(t)+", "+Dp.transform(e)+", "+Dp.transform(n)+", "+Mu(Du.transform(r))+")"};function q6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Hm={test:m0("#"),parse:q6,transform:pl.transform},fc={test:m0("hsl","hue"),parse:N_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bs.transform(Mu(e))+", "+Bs.transform(Mu(n))+", "+Mu(Du.transform(r))+")"},ei={test:t=>pl.test(t)||Hm.test(t)||fc.test(t),parse:t=>pl.test(t)?pl.parse(t):fc.test(t)?fc.parse(t):Hm.parse(t),transform:t=>Eh(t)?t:t.hasOwnProperty("red")?pl.transform(t):fc.transform(t)},On=(t,e,n)=>-n*t+n*e+t;function Mp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function H6({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Mp(l,a,t+1/3),s=Mp(l,a,t),o=Mp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Fp=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},$6=[Hm,pl,fc],W6=t=>$6.find(e=>e.test(t));function qy(t){const e=W6(t);let n=e.parse(t);return e===fc&&(n=H6(n)),n}const I_=(t,e)=>{const n=qy(t),r=qy(e),i={...n};return s=>(i.red=Fp(n.red,r.red,s),i.green=Fp(n.green,r.green,s),i.blue=Fp(n.blue,r.blue,s),i.alpha=On(n.alpha,r.alpha,s),pl.transform(i))};function Y6(t){var e,n;return isNaN(t)&&Eh(t)&&(((e=t.match(qf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(e_))===null||n===void 0?void 0:n.length)||0)>0}const P_={regex:BN,countKey:"Vars",token:"${v}",parse:Un},C_={regex:e_,countKey:"Colors",token:"${c}",parse:ei.parse},k_={regex:qf,countKey:"Numbers",token:"${n}",parse:Ml.parse};function Vp(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function rf(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Vp(n,P_),Vp(n,C_),Vp(n,k_),n}function R_(t){return rf(t).values}function L_(t){const{values:e,numColors:n,numVars:r,tokenised:i}=rf(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(P_.token,o[l]):l<r+n?a=a.replace(C_.token,ei.transform(o[l])):a=a.replace(k_.token,Mu(o[l]));return a}}const G6=t=>typeof t=="number"?0:t;function K6(t){const e=R_(t);return L_(t)(e.map(G6))}const La={test:Y6,parse:R_,createTransformer:L_,getAnimatableNone:K6},j_=(t,e)=>n=>`${n>0?e:t}`;function O_(t,e){return typeof t=="number"?n=>On(t,e,n):ei.test(t)?I_(t,e):t.startsWith("var(")?j_(t,e):M_(t,e)}const D_=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>O_(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},X6=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=O_(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},M_=(t,e)=>{const n=La.createTransformer(e),r=rf(t),i=rf(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wa(D_(r.values,i.values),n):j_(t,e)},eh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Hy=(t,e)=>n=>On(t,e,n);function J6(t){return typeof t=="number"?Hy:typeof t=="string"?ei.test(t)?I_:M_:Array.isArray(t)?D_:typeof t=="object"?X6:Hy}function Z6(t,e,n){const r=[],i=n||J6(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Un:e;a=wa(l,a)}r.push(a)}return r}function F_(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Wf(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Z6(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const m=eh(t[u],t[u+1],c);return o[u](m)};return n?c=>l(Ra(t[0],t[s-1],c)):l}function Q6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=eh(0,e,r);t.push(On(n,1,i))}}function eI(t){const e=[0];return Q6(e,t.length-1),e}function tI(t,e){return t.map(n=>n*e)}function nI(t,e){return t.map(()=>e||x_).splice(0,t.length-1)}function sf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=M6(r)?r.map(zy):zy(r),s={done:!1,value:e[0]},o=tI(n&&n.length===e.length?n:eI(e),t),a=F_(o,e,{ease:Array.isArray(i)?i:nI(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function V_(t,e){return e?t*(1e3/e):0}const rI=5;function B_(t,e,n){const r=Math.max(e-rI,0);return V_(n-t(r),e-r)}const Bp=.001,iI=.01,$y=10,sI=.05,oI=1;function aI({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;I6(t<=_a($y));let o=1-e;o=Ra(sI,oI,o),t=Ra(iI,$y,No(t)),o<1?(i=c=>{const u=c*o,m=u*t,y=u-n,f=$m(c,o),A=Math.exp(-m);return Bp-y/f*A},s=c=>{const m=c*o*t,y=m*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,A=Math.exp(-m),_=$m(Math.pow(c,2),o);return(-i(c)+Bp>0?-1:1)*((y-f)*A)/_}):(i=c=>{const u=Math.exp(-c*t),m=(c-n)*t+1;return-Bp+u*m},s=c=>{const u=Math.exp(-c*t),m=(n-c)*(t*t);return u*m});const a=5/t,l=cI(i,s,a);if(t=_a(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const lI=12;function cI(t,e,n){let r=n;for(let i=1;i<lI;i++)r=r-t(r)/e(r);return r}function $m(t,e){return t*Math.sqrt(1-e*e)}const uI=["duration","bounce"],hI=["stiffness","damping","mass"];function Wy(t,e){return e.some(n=>t[n]!==void 0)}function dI(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Wy(t,hI)&&Wy(t,uI)){const n=aI(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function U_({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:m,isResolvedFromDuration:y}=dI({...r,velocity:-No(r.velocity||0)}),f=m||0,A=l/(2*Math.sqrt(a*c)),_=s-i,E=No(Math.sqrt(a/c)),C=Math.abs(_)<5;n||(n=C?.01:2),e||(e=C?.005:.5);let F;if(A<1){const M=$m(E,A);F=z=>{const ee=Math.exp(-A*E*z);return s-ee*((f+A*E*_)/M*Math.sin(M*z)+_*Math.cos(M*z))}}else if(A===1)F=M=>s-Math.exp(-E*M)*(_+(f+E*_)*M);else{const M=E*Math.sqrt(A*A-1);F=z=>{const ee=Math.exp(-A*E*z),ne=Math.min(M*z,300);return s-ee*((f+A*E*_)*Math.sinh(ne)+M*_*Math.cosh(ne))/M}}return{calculatedDuration:y&&u||null,next:M=>{const z=F(M);if(y)o.done=M>=u;else{let ee=f;M!==0&&(A<1?ee=B_(F,M,z):ee=0);const ne=Math.abs(ee)<=n,B=Math.abs(s-z)<=e;o.done=ne&&B}return o.value=o.done?s:z,o}}}function Yy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const m=t[0],y={done:!1,value:m},f=P=>a!==void 0&&P<a||l!==void 0&&P>l,A=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let _=n*e;const E=m+_,C=o===void 0?E:o(E);C!==E&&(_=C-m);const F=P=>-_*Math.exp(-P/r),M=P=>C+F(P),z=P=>{const S=F(P),D=M(P);y.done=Math.abs(S)<=c,y.value=y.done?C:D};let ee,ne;const B=P=>{f(y.value)&&(ee=P,ne=U_({keyframes:[y.value,A(y.value)],velocity:B_(M,P,y.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return B(0),{calculatedDuration:null,next:P=>{let S=!1;return!ne&&ee===void 0&&(S=!0,z(P),B(P)),ee!==void 0&&P>ee?ne.next(P-ee):(!S&&z(P),y)}}}const fI=t=>{const e=({timestamp:n})=>t(n);return{start:()=>vn.update(e,!0),stop:()=>Po(e),now:()=>Vr.isProcessing?Vr.timestamp:performance.now()}},Gy=2e4;function Ky(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Gy;)e+=n,r=t.next(e);return e>=Gy?1/0:e}const pI={decay:Yy,inertia:Yy,tween:sf,keyframes:sf,spring:U_};function of({autoplay:t=!0,delay:e=0,driver:n=fI,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:m,...y}){let f=1,A=!1,_,E;const C=()=>{E=new Promise(ve=>{_=ve})};C();let F;const M=pI[i]||sf;let z;M!==sf&&typeof r[0]!="number"&&(z=F_([0,100],r,{clamp:!1}),r=[0,100]);const ee=M({...y,keyframes:r});let ne;a==="mirror"&&(ne=M({...y,keyframes:[...r].reverse(),velocity:-(y.velocity||0)}));let B="idle",P=null,S=null,D=null;ee.calculatedDuration===null&&s&&(ee.calculatedDuration=Ky(ee));const{calculatedDuration:T}=ee;let I=1/0,k=1/0;T!==null&&(I=T+o,k=I*(s+1)-o);let Y=0;const ce=ve=>{if(S===null)return;f>0&&(S=Math.min(S,ve)),f<0&&(S=Math.min(ve-k/f,S)),P!==null?Y=P:Y=Math.round(ve-S)*f;const j=Y-e*(f>=0?1:-1),$=f>=0?j<0:j>k;Y=Math.max(j,0),B==="finished"&&P===null&&(Y=k);let J=Y,te=ee;if(s){const we=Math.min(Y,k)/I;let xe=Math.floor(we),Ce=we%1;!Ce&&we>=1&&(Ce=1),Ce===1&&xe--,xe=Math.min(xe,s+1),!!(xe%2)&&(a==="reverse"?(Ce=1-Ce,o&&(Ce-=o/I)):a==="mirror"&&(te=ne)),J=Ra(0,1,Ce)*I}const ie=$?{done:!1,value:r[0]}:te.next(J);z&&(ie.value=z(ie.value));let{done:he}=ie;!$&&T!==null&&(he=f>=0?Y>=k:Y<=0);const be=P===null&&(B==="finished"||B==="running"&&he);return m&&m(ie.value),be&&le(),ie},de=()=>{F&&F.stop(),F=void 0},me=()=>{B="idle",de(),_(),C(),S=D=null},le=()=>{B="finished",u&&u(),de(),_()},ye=()=>{if(A)return;F||(F=n(ce));const ve=F.now();l&&l(),P!==null?S=ve-P:(!S||B==="finished")&&(S=ve),B==="finished"&&C(),D=S,P=null,B="running",F.start()};t&&ye();const Re={then(ve,j){return E.then(ve,j)},get time(){return No(Y)},set time(ve){ve=_a(ve),Y=ve,P!==null||!F||f===0?P=ve:S=F.now()-ve/f},get duration(){const ve=ee.calculatedDuration===null?Ky(ee):ee.calculatedDuration;return No(ve)},get speed(){return f},set speed(ve){ve===f||!F||(f=ve,Re.time=No(Y))},get state(){return B},play:ye,pause:()=>{B="paused",P=Y},stop:()=>{A=!0,B!=="idle"&&(B="idle",c&&c(),me())},cancel:()=>{D!==null&&ce(D),me()},complete:()=>{B="finished"},sample:ve=>(S=0,ce(ve))};return Re}function mI(t){let e;return()=>(e===void 0&&(e=t()),e)}const gI=mI(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yI=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),hd=10,vI=2e4,bI=(t,e)=>e.type==="spring"||t==="backgroundColor"||!v_(e.ease);function wI(t,e,{onUpdate:n,onComplete:r,...i}){if(!(gI()&&yI.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(M=>{a=M})};u();let{keyframes:m,duration:y=300,ease:f,times:A}=i;if(bI(e,i)){const M=of({...i,repeat:0,delay:0});let z={done:!1,value:m[0]};const ee=[];let ne=0;for(;!z.done&&ne<vI;)z=M.sample(ne),ee.push(z.value),ne+=hd;A=void 0,m=ee,y=ne-hd,f="linear"}const _=C6(t.owner.current,e,m,{...i,duration:y,ease:f,times:A}),E=()=>{c=!1,_.cancel()},C=()=>{c=!0,vn.update(E),a(),u()};return _.onfinish=()=>{c||(t.set(k6(m,i)),r&&r(),C())},{then(M,z){return l.then(M,z)},attachTimeline(M){return _.timeline=M,_.onfinish=null,Un},get time(){return No(_.currentTime||0)},set time(M){_.currentTime=_a(M)},get speed(){return _.playbackRate},set speed(M){_.playbackRate=M},get duration(){return No(y)},play:()=>{o||(_.play(),Po(E))},pause:()=>_.pause(),stop:()=>{if(o=!0,_.playState==="idle")return;const{currentTime:M}=_;if(M){const z=of({...i,autoplay:!1});t.setWithVelocity(z.sample(M-hd).value,z.sample(M).value,hd)}C()},complete:()=>{c||_.finish()},cancel:C}}function _I({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Un,pause:Un,stop:Un,then:s=>(s(),Promise.resolve()),cancel:Un,complete:Un});return e?of({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const xI={type:"spring",stiffness:500,damping:25,restSpeed:10},AI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),TI={type:"keyframes",duration:.8},EI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SI=(t,{keyframes:e})=>e.length>2?TI:Dl.has(t)?t.startsWith("scale")?AI(e[1]):xI:EI,Wm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(La.test(e)||e==="0")&&!e.startsWith("url(")),NI=new Set(["brightness","contrast","saturate","opacity"]);function II(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(qf)||[];if(!r)return t;const i=n.replace(r,"");let s=NI.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const PI=/([a-z-]*)\(.*?\)/g,Ym={...La,getAnimatableNone:t=>{const e=t.match(PI);return e?e.map(II).join(" "):t}},CI={...t_,color:ei,backgroundColor:ei,outlineColor:ei,fill:ei,stroke:ei,borderColor:ei,borderTopColor:ei,borderRightColor:ei,borderBottomColor:ei,borderLeftColor:ei,filter:Ym,WebkitFilter:Ym},g0=t=>CI[t];function z_(t,e){let n=g0(t);return n!==Ym&&(n=La),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const q_=t=>/^0[^.\s]+$/.test(t);function kI(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||q_(t)}function RI(t,e,n,r){const i=Wm(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),kI(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=z_(e,a)}return s}function LI({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function y0(t,e){return t[e]||t.default||t}const jI={skipAnimations:!1},v0=(t,e,n,r={})=>i=>{const s=y0(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-_a(o);const l=RI(e,t,n,s),c=l[0],u=l[l.length-1],m=Wm(t,c),y=Wm(t,u);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:A=>{e.set(A),s.onUpdate&&s.onUpdate(A)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(LI(s)||(f={...f,...SI(t,f)}),f.duration&&(f.duration=_a(f.duration)),f.repeatDelay&&(f.repeatDelay=_a(f.repeatDelay)),!m||!y||P6.current||s.type===!1||jI.skipAnimations)return _I(f);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const A=wI(e,t,f);if(A)return A}return of(f)};function af(t){return!!(pi(t)&&t.add)}const H_=t=>/^\-?\d*\.?\d+$/.test(t);function b0(t,e){t.indexOf(e)===-1&&t.push(e)}function w0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _0{constructor(){this.subscriptions=[]}add(e){return b0(this.subscriptions,e),()=>w0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const OI=t=>!isNaN(parseFloat(t));class DI{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Vr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,vn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>vn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=OI(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _0);const r=this.events[e].add(n);return e==="change"?()=>{r(),vn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?V_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cc(t,e){return new DI(t,e)}const $_=t=>e=>e.test(t),MI={test:t=>t==="auto",parse:t=>t},W_=[Ml,ht,Bs,aa,HN,qN,MI],xu=t=>W_.find($_(t)),FI=[...W_,ei,La],VI=t=>FI.find($_(t));function BI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cc(n))}function UI(t,e){const n=$f(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=i6(s[o]);BI(t,o,a)}}function zI(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(H_(u)||q_(u))?u=parseFloat(u):!VI(u)&&La.test(c)&&(u=z_(l,c)),t.addValue(l,Cc(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function qI(t,e){return e?(e[t]||e.default||e).from:void 0}function HI(t,e,n){const r={};for(const i in t){const s=qI(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function $I({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function WI(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Y_(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const m in a){const y=t.getValue(m),f=a[m];if(!y||f===void 0||u&&$I(u,m))continue;const A={delay:n,elapsed:0,...y0(s||{},m)};if(window.HandoffAppearAnimations){const C=t.getProps()[Gw];if(C){const F=window.HandoffAppearAnimations(C,m,y,vn);F!==null&&(A.elapsed=F,A.isHandoff=!0)}}let _=!A.isHandoff&&!WI(y,f);if(A.type==="spring"&&(y.getVelocity()||A.velocity)&&(_=!1),y.animation&&(_=!1),_)continue;y.start(v0(m,y,f,t.shouldReduceMotion&&Dl.has(m)?{type:!1}:A));const E=y.animation;af(l)&&(l.add(m),E.then(()=>l.remove(m))),c.push(E)}return o&&Promise.all(c).then(()=>{o&&UI(t,o)}),c}function Gm(t,e,n={}){const r=$f(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Y_(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:m}=i;return YI(t,e,c+l,u,m,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function YI(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(GI).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Gm(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function GI(t,e){return t.sortNodePosition(e)}function KI(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Gm(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Gm(t,e,n);else{const i=typeof e=="function"?$f(t,e,n.custom):e;r=Promise.all(Y_(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const XI=[...r0].reverse(),JI=r0.length;function ZI(t){return e=>Promise.all(e.map(({animation:n,options:r})=>KI(t,n,r)))}function QI(t){let e=ZI(t);const n=tP();let r=!0;const i=(l,c)=>{const u=$f(t,c);if(u){const{transition:m,transitionEnd:y,...f}=u;l={...l,...f,...y}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),m=t.getVariantContext(!0)||{},y=[],f=new Set;let A={},_=1/0;for(let C=0;C<JI;C++){const F=XI[C],M=n[F],z=u[F]!==void 0?u[F]:m[F],ee=Zu(z),ne=F===c?M.isActive:null;ne===!1&&(_=C);let B=z===m[F]&&z!==u[F]&&ee;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),M.protectedKeys={...A},!M.isActive&&ne===null||!z&&!M.prevProp||Uf(z)||typeof z=="boolean")continue;let S=eP(M.prevProp,z)||F===c&&M.isActive&&!B&&ee||C>_&&ee,D=!1;const T=Array.isArray(z)?z:[z];let I=T.reduce(i,{});ne===!1&&(I={});const{prevResolvedValues:k={}}=M,Y={...k,...I},ce=de=>{S=!0,f.has(de)&&(D=!0,f.delete(de)),M.needsAnimating[de]=!0};for(const de in Y){const me=I[de],le=k[de];if(A.hasOwnProperty(de))continue;let ye=!1;nf(me)&&nf(le)?ye=!g_(me,le):ye=me!==le,ye?me!==void 0?ce(de):f.add(de):me!==void 0&&f.has(de)?ce(de):M.protectedKeys[de]=!0}M.prevProp=z,M.prevResolvedValues=I,M.isActive&&(A={...A,...I}),r&&t.blockInitialAnimation&&(S=!1),S&&(!B||D)&&y.push(...T.map(de=>({animation:de,options:{type:F,...l}})))}if(f.size){const C={};f.forEach(F=>{const M=t.getBaseTarget(F);M!==void 0&&(C[F]=M)}),y.push({animation:C})}let E=!!y.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(y):Promise.resolve()}function a(l,c,u){var m;if(n[l].isActive===c)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(f=>{var A;return(A=f.animationState)===null||A===void 0?void 0:A.setActive(l,c)}),n[l].isActive=c;const y=o(u,l);for(const f in n)n[f].protectedKeys={};return y}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function eP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!g_(e,t):!1}function ol(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tP(){return{animate:ol(!0),whileInView:ol(),whileHover:ol(),whileTap:ol(),whileDrag:ol(),whileFocus:ol(),exit:ol()}}class nP extends Ha{constructor(e){super(e),e.animationState||(e.animationState=QI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Uf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let rP=0;class iP extends Ha{constructor(){super(...arguments),this.id=rP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const sP={animation:{Feature:nP},exit:{Feature:iP}},Xy=(t,e)=>Math.abs(t-e);function oP(t,e){const n=Xy(t.x,e.x),r=Xy(t.y,e.y);return Math.sqrt(n**2+r**2)}class G_{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=zp(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,f=oP(m.offset,{x:0,y:0})>=3;if(!y&&!f)return;const{point:A}=m,{timestamp:_}=Vr;this.history.push({...A,timestamp:_});const{onStart:E,onMove:C}=this.handlers;y||(E&&E(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Up(y,this.transformPagePoint),vn.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:f,onSessionEnd:A,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=zp(m.type==="pointercancel"?this.lastMoveEventInfo:Up(y,this.transformPagePoint),this.history);this.startEvent&&f&&f(m,E),A&&A(m,E)},!h_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Hf(e),a=Up(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Vr;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,zp(a,this.history)),this.removeListeners=wa(So(this.contextWindow,"pointermove",this.handlePointerMove),So(this.contextWindow,"pointerup",this.handlePointerUp),So(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Po(this.updatePoint)}}function Up(t,e){return e?{point:e(t.point)}:t}function Jy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zp({point:t},e){return{point:t,delta:Jy(t,K_(e)),offset:Jy(t,aP(e)),velocity:lP(e,.1)}}function aP(t){return t[0]}function K_(t){return t[t.length-1]}function lP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=K_(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>_a(e)));)n--;if(!r)return{x:0,y:0};const s=No(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Di(t){return t.max-t.min}function Km(t,e=0,n=.01){return Math.abs(t-e)<=n}function Zy(t,e,n,r=.5){t.origin=r,t.originPoint=On(e.min,e.max,t.origin),t.scale=Di(n)/Di(e),(Km(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=On(n.min,n.max,t.origin)-t.originPoint,(Km(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Fu(t,e,n,r){Zy(t.x,e.x,n.x,r?r.originX:void 0),Zy(t.y,e.y,n.y,r?r.originY:void 0)}function Qy(t,e,n){t.min=n.min+e.min,t.max=t.min+Di(e)}function cP(t,e,n){Qy(t.x,e.x,n.x),Qy(t.y,e.y,n.y)}function e2(t,e,n){t.min=e.min-n.min,t.max=t.min+Di(e)}function Vu(t,e,n){e2(t.x,e.x,n.x),e2(t.y,e.y,n.y)}function uP(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?On(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?On(n,t,r.max):Math.min(t,n)),t}function t2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hP(t,{top:e,left:n,bottom:r,right:i}){return{x:t2(t.x,n,i),y:t2(t.y,e,r)}}function n2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dP(t,e){return{x:n2(t.x,e.x),y:n2(t.y,e.y)}}function fP(t,e){let n=.5;const r=Di(t),i=Di(e);return i>r?n=eh(e.min,e.max-r,t.min):r>i&&(n=eh(t.min,t.max-i,e.min)),Ra(0,1,n)}function pP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xm=.35;function mP(t=Xm){return t===!1?t=0:t===!0&&(t=Xm),{x:r2(t,"left","right"),y:r2(t,"top","bottom")}}function r2(t,e,n){return{min:i2(t,e),max:i2(t,n)}}function i2(t,e){return typeof t=="number"?t:t[e]||0}const s2=()=>({translate:0,scale:1,origin:0,originPoint:0}),pc=()=>({x:s2(),y:s2()}),o2=()=>({min:0,max:0}),tr=()=>({x:o2(),y:o2()});function Gi(t){return[t("x"),t("y")]}function X_({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function gP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function qp(t){return t===void 0||t===1}function Jm({scale:t,scaleX:e,scaleY:n}){return!qp(t)||!qp(e)||!qp(n)}function al(t){return Jm(t)||J_(t)||t.z||t.rotate||t.rotateX||t.rotateY}function J_(t){return a2(t.x)||a2(t.y)}function a2(t){return t&&t!=="0%"}function lf(t,e,n){const r=t-n,i=e*r;return n+i}function l2(t,e,n,r,i){return i!==void 0&&(t=lf(t,i,r)),lf(t,n,r)+e}function Zm(t,e=0,n=1,r,i){t.min=l2(t.min,e,n,r,i),t.max=l2(t.max,e,n,r,i)}function Z_(t,{x:e,y:n}){Zm(t.x,e.translate,e.scale,e.originPoint),Zm(t.y,n.translate,n.scale,n.originPoint)}function vP(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&mc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Z_(t,o)),r&&al(s.latestValues)&&mc(t,s.latestValues))}e.x=c2(e.x),e.y=c2(e.y)}function c2(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function la(t,e){t.min=t.min+e,t.max=t.max+e}function u2(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=On(t.min,t.max,s);Zm(t,e[n],e[r],o,e.scale)}const bP=["x","scaleX","originX"],wP=["y","scaleY","originY"];function mc(t,e){u2(t.x,e,bP),u2(t.y,e,wP)}function Q_(t,e){return X_(yP(t.getBoundingClientRect(),e))}function _P(t,e,n){const r=Q_(t,n),{scroll:i}=e;return i&&(la(r.x,i.offset.x),la(r.y,i.offset.y)),r}const ex=({current:t})=>t?t.ownerDocument.defaultView:null,xP=new WeakMap;class AP{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hf(u,"page").point)},s=(u,m)=>{const{drag:y,dragPropagation:f,onDragStart:A}=this.getProps();if(y&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=f_(y),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(E=>{let C=this.getAxisMotionValue(E).get()||0;if(Bs.test(C)){const{projection:F}=this.visualElement;if(F&&F.layout){const M=F.layout.layoutBox[E];M&&(C=Di(M)*(parseFloat(C)/100))}}this.originPoint[E]=C}),A&&vn.update(()=>A(u,m),!1,!0);const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(u,m)=>{const{dragPropagation:y,dragDirectionLock:f,onDirectionLock:A,onDrag:_}=this.getProps();if(!y&&!this.openGlobalLock)return;const{offset:E}=m;if(f&&this.currentDirection===null){this.currentDirection=TP(E),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",m.point,E),this.updateAxis("y",m.point,E),this.visualElement.render(),_&&_(u,m)},a=(u,m)=>this.stop(u,m),l=()=>Gi(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new G_(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ex(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&vn.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!dd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=uP(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&dc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=hP(i.layoutBox,n):this.constraints=!1,this.elastic=mP(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gi(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=pP(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_P(r,i.root,this.visualElement.getTransformPagePoint());let o=dP(i.layout.layoutBox,s);if(n){const a=n(gP(o));this.hasMutatedConstraints=!!a,a&&(o=X_(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Gi(u=>{if(!dd(u,n,this.currentDirection))return;let m=l&&l[u]||{};o&&(m={min:0,max:0});const y=i?200:1e6,f=i?40:1e7,A={type:"inertia",velocity:r?e[u]:0,bounceStiffness:y,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(u,A)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(v0(e,r,0,n))}stopAnimation(){Gi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gi(n=>{const{drag:r}=this.getProps();if(!dd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-On(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Gi(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=fP({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gi(o=>{if(!dd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(On(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;xP.set(this.visualElement,this);const e=this.visualElement.current,n=So(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();dc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Ao(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Gi(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=l[u].translate,m.set(m.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Xm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function dd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function TP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class EP extends Ha{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new AP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}unmount(){this.removeGroupControls(),this.removeListeners()}}const h2=t=>(e,n)=>{t&&vn.update(()=>t(e,n))};class SP extends Ha{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new G_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ex(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:h2(e),onStart:h2(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&vn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=So(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function NP(){const t=Z.useContext(Vf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=Z.useId();return Z.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const kd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Au={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ht.test(t))t=parseFloat(t);else return t;const n=d2(t,e.target.x),r=d2(t,e.target.y);return`${n}% ${r}%`}},IP={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=La.parse(t);if(i.length>5)return r;const s=La.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=On(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class PP extends Ir.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;DN(CP),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),kd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||vn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tx(t){const[e,n]=NP(),r=Z.useContext(s0);return Ir.createElement(PP,{...t,layoutGroup:r,switchLayoutGroup:Z.useContext(Xw),isPresent:e,safeToRemove:n})}const CP={borderRadius:{...Au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Au,borderTopRightRadius:Au,borderBottomLeftRadius:Au,borderBottomRightRadius:Au,boxShadow:IP},nx=["TopLeft","TopRight","BottomLeft","BottomRight"],kP=nx.length,f2=t=>typeof t=="string"?parseFloat(t):t,p2=t=>typeof t=="number"||ht.test(t);function RP(t,e,n,r,i,s){i?(t.opacity=On(0,n.opacity!==void 0?n.opacity:1,LP(r)),t.opacityExit=On(e.opacity!==void 0?e.opacity:1,0,jP(r))):s&&(t.opacity=On(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<kP;o++){const a=`border${nx[o]}Radius`;let l=m2(e,a),c=m2(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||p2(l)===p2(c)?(t[a]=Math.max(On(f2(l),f2(c),r),0),(Bs.test(c)||Bs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=On(e.rotate||0,n.rotate||0,r))}function m2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const LP=rx(0,.5,E_),jP=rx(.5,.95,Un);function rx(t,e,n){return r=>r<t?0:r>e?1:n(eh(t,e,r))}function g2(t,e){t.min=e.min,t.max=e.max}function Yi(t,e){g2(t.x,e.x),g2(t.y,e.y)}function y2(t,e,n,r,i){return t-=e,t=lf(t,1/n,r),i!==void 0&&(t=lf(t,1/i,r)),t}function OP(t,e=0,n=1,r=.5,i,s=t,o=t){if(Bs.test(e)&&(e=parseFloat(e),e=On(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=On(s.min,s.max,r);t===s&&(a-=e),t.min=y2(t.min,e,n,a,i),t.max=y2(t.max,e,n,a,i)}function v2(t,e,[n,r,i],s,o){OP(t,e[n],e[r],e[i],e.scale,s,o)}const DP=["x","scaleX","originX"],MP=["y","scaleY","originY"];function b2(t,e,n,r){v2(t.x,e,DP,n?n.x:void 0,r?r.x:void 0),v2(t.y,e,MP,n?n.y:void 0,r?r.y:void 0)}function w2(t){return t.translate===0&&t.scale===1}function ix(t){return w2(t.x)&&w2(t.y)}function FP(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function sx(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function _2(t){return Di(t.x)/Di(t.y)}class VP{constructor(){this.members=[]}add(e){b0(this.members,e),e.scheduleRender()}remove(e){if(w0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x2(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const BP=(t,e)=>t.depth-e.depth;class UP{constructor(){this.children=[],this.isDirty=!1}add(e){b0(this.children,e),this.isDirty=!0}remove(e){w0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(BP),this.isDirty=!1,this.children.forEach(e)}}function zP(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Po(r),t(s-e))};return vn.read(r,!0),()=>Po(r)}function qP(t){window.MotionDebug&&window.MotionDebug.record(t)}function HP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function $P(t,e,n){const r=pi(t)?t:Cc(t);return r.start(v0("",r,e,n)),r.animation}const A2=["","X","Y","Z"],WP={visibility:"hidden"},T2=1e3;let YP=0;const ll={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ox({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=YP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ll.totalNodes=ll.resolvedTargetDeltas=ll.recalculatedProjection=0,this.nodes.forEach(XP),this.nodes.forEach(tC),this.nodes.forEach(nC),this.nodes.forEach(JP),qP(ll)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new UP)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=HP(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let m;const y=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=zP(y,250),kd.hasAnimatedSinceResize&&(kd.hasAnimatedSinceResize=!1,this.nodes.forEach(S2))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeTargetChanged:f,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||u.getDefaultTransition()||aC,{onLayoutAnimationStart:E,onLayoutAnimationComplete:C}=u.getProps(),F=!this.targetLayout||!sx(this.targetLayout,A)||f,M=!y&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||y&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,M);const z={...y0(_,"layout"),onPlay:E,onComplete:C};(u.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z)}else y||S2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E2);return}this.isUpdating||this.nodes.forEach(QP),this.isUpdating=!1,this.nodes.forEach(eC),this.nodes.forEach(GP),this.nodes.forEach(KP),this.clearAllSnapshots();const a=performance.now();Vr.delta=Ra(0,1e3/60,a-Vr.timestamp),Vr.timestamp=a,Vr.isProcessing=!0,Lp.update.process(Vr),Lp.preRender.process(Vr),Lp.render.process(Vr),Vr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ZP),this.sharedNodes.forEach(iC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!ix(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||al(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),lC(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return tr();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(la(a.x,l.offset.x),la(a.y,l.offset.y)),a}removeElementScroll(o){const a=tr();Yi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:m}=c;if(c!==this.root&&u&&m.layoutScroll){if(u.isRoot){Yi(a,o);const{scroll:y}=this.root;y&&(la(a.x,-y.offset.x),la(a.y,-y.offset.y))}la(a.x,u.offset.x),la(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=tr();Yi(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&mc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),al(u.latestValues)&&mc(l,u.latestValues)}return al(this.latestValues)&&mc(l,this.latestValues),l}removeTransform(o){const a=tr();Yi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!al(c.latestValues))continue;Jm(c.latestValues)&&c.updateSnapshot();const u=tr(),m=c.measurePageBox();Yi(u,m),b2(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return al(this.latestValues)&&b2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=Vr.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),Vu(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=tr(),this.targetWithTransforms=tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yi(this.target,this.layout.layoutBox),Z_(this.target,this.targetDelta)):Yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),Vu(this.relativeTargetOrigin,this.target,f.target),Yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ll.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jm(this.parent.latestValues)||J_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Vr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;Yi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,f=this.treeScale.y;vP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:A}=a;if(!A){this.projectionTransform&&(this.projectionDelta=pc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=pc(),this.projectionDeltaWithTransform=pc());const _=this.projectionTransform;Fu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),this.projectionTransform=x2(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==y||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A)),ll.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},m=pc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const y=tr(),f=l?l.source:void 0,A=this.layout?this.layout.source:void 0,_=f!==A,E=this.getStack(),C=!E||E.members.length<=1,F=!!(_&&!C&&this.options.crossfade===!0&&!this.path.some(oC));this.animationProgress=0;let M;this.mixTargetDelta=z=>{const ee=z/1e3;N2(m.x,o.x,ee),N2(m.y,o.y,ee),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vu(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sC(this.relativeTarget,this.relativeTargetOrigin,y,ee),M&&FP(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=tr()),Yi(M,this.relativeTarget)),_&&(this.animationValues=u,RP(u,c,this.latestValues,ee,F,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vn.update(()=>{kd.hasAnimatedSinceResize=!0,this.currentAnimation=$P(0,T2,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&ax(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||tr();const m=Di(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+m;const y=Di(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+y}Yi(a,l),mc(a,u),Fu(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new VP),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<A2.length;u++){const m="rotate"+A2[u];l[m]&&(c[m]=l[m],o.setStaticValue(m,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WP;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Cd(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Cd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!al(this.latestValues)&&(_.transform=u?u({},""):"none",this.hasProjected=!1),_}const y=m.animationValues||m.latestValues;this.applyTransformsToTarget(),c.transform=x2(this.projectionDeltaWithTransform,this.treeScale,y),u&&(c.transform=u(y,c.transform));const{x:f,y:A}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${A.origin*100}% 0`,m.animationValues?c.opacity=m===this?(l=(a=y.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const _ in ef){if(y[_]===void 0)continue;const{correct:E,applyTo:C}=ef[_],F=c.transform==="none"?y[_]:E(y[_],m);if(C){const M=C.length;for(let z=0;z<M;z++)c[C[z]]=F}else c[_]=F}return this.options.layoutId&&(c.pointerEvents=m===this?Cd(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(E2),this.root.sharedNodes.clear()}}}function GP(t){t.updateLayout()}function KP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Gi(m=>{const y=o?n.measuredBox[m]:n.layoutBox[m],f=Di(y);y.min=r[m].min,y.max=y.min+f}):ax(s,n.layoutBox,r)&&Gi(m=>{const y=o?n.measuredBox[m]:n.layoutBox[m],f=Di(r[m]);y.max=y.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+f)});const a=pc();Fu(a,r,n.layoutBox);const l=pc();o?Fu(l,t.applyTransform(i,!0),n.measuredBox):Fu(l,r,n.layoutBox);const c=!ix(a);let u=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:f}=m;if(y&&f){const A=tr();Vu(A,n.layoutBox,y.layoutBox);const _=tr();Vu(_,r,f.layoutBox),sx(A,_)||(u=!0),m.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=A,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function XP(t){ll.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function JP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ZP(t){t.clearSnapshot()}function E2(t){t.clearMeasurements()}function QP(t){t.isLayoutDirty=!1}function eC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function S2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tC(t){t.resolveTargetDelta()}function nC(t){t.calcProjection()}function rC(t){t.resetRotation()}function iC(t){t.removeLeadSnapshot()}function N2(t,e,n){t.translate=On(e.translate,0,n),t.scale=On(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function I2(t,e,n,r){t.min=On(e.min,n.min,r),t.max=On(e.max,n.max,r)}function sC(t,e,n,r){I2(t.x,e.x,n.x,r),I2(t.y,e.y,n.y,r)}function oC(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const aC={duration:.45,ease:[.4,0,.1,1]},P2=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),C2=P2("applewebkit/")&&!P2("chrome/")?Math.round:Un;function k2(t){t.min=C2(t.min),t.max=C2(t.max)}function lC(t){k2(t.x),k2(t.y)}function ax(t,e,n){return t==="position"||t==="preserve-aspect"&&!Km(_2(e),_2(n),.2)}const cC=ox({attachResizeListener:(t,e)=>Ao(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hp={current:void 0},lx=ox({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hp.current){const t=new cC({});t.mount(window),t.setOptions({layoutScroll:!0}),Hp.current=t}return Hp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),uC={pan:{Feature:SP},drag:{Feature:EP,ProjectionNode:lx,MeasureLayout:tx}},hC=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function dC(t){const e=hC.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Qm(t,e,n=1){const[r,i]=dC(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return H_(o)?parseFloat(o):o}else return zm(i)?Qm(i,e,n+1):i}function fC(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!zm(s))return;const o=Qm(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!zm(s))continue;const o=Qm(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const pC=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),cx=t=>pC.has(t),mC=t=>Object.keys(t).some(cx),R2=t=>t===Ml||t===ht,L2=(t,e)=>parseFloat(t.split(", ")[e]),j2=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return L2(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?L2(s[1],t):0}},gC=new Set(["x","y","z"]),yC=Th.filter(t=>!gC.has(t));function vC(t){const e=[];return yC.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const kc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:j2(4,13),y:j2(5,14)};kc.translateX=kc.x;kc.translateY=kc.y;const bC=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=kc[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=kc[c](l,s)}),t},wC=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(cx);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],m=xu(u);const y=e[l];let f;if(nf(y)){const A=y.length,_=y[0]===null?1:0;u=y[_],m=xu(u);for(let E=_;E<A&&y[E]!==null;E++)f?Wf(xu(y[E])===f):f=xu(y[E])}else f=xu(y);if(m!==f)if(R2(m)&&R2(f)){const A=c.get();typeof A=="string"&&c.set(parseFloat(A)),typeof y=="string"?e[l]=parseFloat(y):Array.isArray(y)&&f===ht&&(e[l]=y.map(parseFloat))}else m!=null&&m.transform&&(f!=null&&f.transform)&&(u===0||y===0)?u===0?c.set(f.transform(u)):e[l]=m.transform(y):(o||(s=vC(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(y))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=bC(e,t,a);return s.length&&s.forEach(([u,m])=>{t.getValue(u).set(m)}),t.render(),Bf&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function _C(t,e,n,r){return mC(e)?wC(t,e,n,r):{target:e,transitionEnd:r}}const xC=(t,e,n,r)=>{const i=fC(t,e,r);return e=i.target,r=i.transitionEnd,_C(t,e,n,r)},eg={current:null},ux={current:!1};function AC(){if(ux.current=!0,!!Bf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>eg.current=t.matches;t.addListener(e),e()}else eg.current=!1}function TC(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(pi(s))t.addValue(i,s),af(r)&&r.add(i);else if(pi(o))t.addValue(i,Cc(s,{owner:t})),af(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Cc(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const O2=new WeakMap,hx=Object.keys(Qu),EC=hx.length,D2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],SC=i0.length;class NC{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>vn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=zf(n),this.isVariantNode=Kw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const m in u){const y=u[m];a[m]!==void 0&&pi(y)&&(y.set(a[m],!1),af(c)&&c.add(m))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,O2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ux.current||AC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:eg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){O2.delete(this.current),this.projection&&this.projection.unmount(),Po(this.notifyUpdate),Po(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Dl.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&vn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<EC;l++){const c=hx[l],{isEnabled:u,Feature:m,ProjectionNode:y,MeasureLayout:f}=Qu[c];y&&(o=y),u(n)&&(!this.features[c]&&m&&(this.features[c]=new m(this)),f&&(a=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:m,layoutScroll:y,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||m&&dc(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:y,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D2.length;r++){const i=D2[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=TC(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<SC;r++){const i=i0[r],s=this.props[i];(Zu(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=d0(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!pi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class dx extends NC{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=HI(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){zI(this,r,o);const a=xC(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function IC(t){return window.getComputedStyle(t)}class PC extends dx{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Dl.has(n)){const r=g0(n);return r&&r.default||0}else{const r=IC(e),i=(Qw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Q_(e,n)}build(e,n,r,i){a0(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return h0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){s_(e,n,r,i)}}class CC extends dx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Dl.has(n)){const r=g0(n);return r&&r.default||0}return n=o_.has(n)?n:n0(n),e.getAttribute(n)}measureInstanceViewportBox(){return tr()}scrapeMotionValuesFromProps(e,n){return l_(e,n)}build(e,n,r,i){c0(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){a_(e,n,r,i)}mount(e){this.isSVGTag=u0(e.tagName),super.mount(e)}}const kC=(t,e)=>o0(t)?new CC(e,{enableHardwareAcceleration:!1}):new PC(e,{enableHardwareAcceleration:!0}),RC={layout:{ProjectionNode:lx,MeasureLayout:tx}},LC={...sP,...E6,...uC,...RC},_t=jN((t,e)=>d6(t,e,LC,kC));function fx(){const t=Z.useRef(!1);return t0(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function jC(){const t=fx(),[e,n]=Z.useState(0),r=Z.useCallback(()=>{t.current&&n(e+1)},[e]);return[Z.useCallback(()=>vn.postRender(r),[r]),e]}class OC extends Z.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function DC({children:t,isPresent:e}){const n=Z.useId(),r=Z.useRef(null),i=Z.useRef({width:0,height:0,top:0,left:0});return Z.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),Z.createElement(OC,{isPresent:e,childRef:r,sizeRef:i},Z.cloneElement(t,{ref:r}))}const $p=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=c_(MC),l=Z.useId(),c=Z.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const m of a.values())if(!m)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return Z.useMemo(()=>{a.forEach((u,m)=>a.set(m,!1))},[n]),Z.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=Z.createElement(DC,{isPresent:n},t)),Z.createElement(Vf.Provider,{value:c},t)};function MC(){return new Map}function FC(t){return Z.useEffect(()=>()=>t(),[])}const cl=t=>t.key||"";function VC(t,e){t.forEach(n=>{const r=cl(n);e.set(r,n)})}function BC(t){const e=[];return Z.Children.forEach(t,n=>{Z.isValidElement(n)&&e.push(n)}),e}const px=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=Z.useContext(s0).forceRender||jC()[0],l=fx(),c=BC(t);let u=c;const m=Z.useRef(new Map).current,y=Z.useRef(u),f=Z.useRef(new Map).current,A=Z.useRef(!0);if(t0(()=>{A.current=!1,VC(c,f),y.current=u}),FC(()=>{A.current=!0,f.clear(),m.clear()}),A.current)return Z.createElement(Z.Fragment,null,u.map(F=>Z.createElement($p,{key:cl(F),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},F)));u=[...u];const _=y.current.map(cl),E=c.map(cl),C=_.length;for(let F=0;F<C;F++){const M=_[F];E.indexOf(M)===-1&&!m.has(M)&&m.set(M,void 0)}return o==="wait"&&m.size&&(u=[]),m.forEach((F,M)=>{if(E.indexOf(M)!==-1)return;const z=f.get(M);if(!z)return;const ee=_.indexOf(M);let ne=F;if(!ne){const B=()=>{m.delete(M);const P=Array.from(f.keys()).filter(S=>!E.includes(S));if(P.forEach(S=>f.delete(S)),y.current=c.filter(S=>{const D=cl(S);return D===M||P.includes(D)}),!m.size){if(l.current===!1)return;a(),r&&r()}};ne=Z.createElement($p,{key:cl(z),isPresent:!1,onExitComplete:B,custom:e,presenceAffectsLayout:s,mode:o},z),m.set(M,ne)}u.splice(ee,0,ne)}),u=u.map(F=>{const M=F.key;return m.has(M)?F:Z.createElement($p,{key:cl(F),isPresent:!0,presenceAffectsLayout:s,mode:o},F)}),Z.createElement(Z.Fragment,null,m.size?u:u.map(F=>Z.cloneElement(F)))};function UC(t,e,n){var r;if(typeof t=="string"){let i=document;e&&(Wf(!!e.current),i=e.current),n?((r=n[t])!==null&&r!==void 0||(n[t]=i.querySelectorAll(t)),t=n[t]):t=i.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}const zC={some:0,all:1};function qC(t,e,{root:n,margin:r,amount:i="some"}={}){const s=UC(t),o=new WeakMap,a=c=>{c.forEach(u=>{const m=o.get(u.target);if(u.isIntersecting!==!!m)if(u.isIntersecting){const y=e(u);typeof y=="function"?o.set(u.target,y):l.unobserve(u.target)}else m&&(m(u),o.delete(u.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:zC[i]});return s.forEach(c=>l.observe(c)),()=>l.disconnect()}function HC(t,{root:e,margin:n,amount:r,once:i=!1}={}){const[s,o]=Z.useState(!1);return Z.useEffect(()=>{if(!t.current||i&&s)return;const a=()=>(o(!0),i?void 0:()=>o(!1)),l={root:e&&e.current||void 0,margin:n,amount:r};return qC(t.current,a,l)},[e,t,n,i,r]),s}const $C=Qg("inline-flex items-center justify-center rounded-xl text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Gt=Ir.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?rE:"button";return g.jsx(o,{className:ni($C({variant:e,size:n,className:t})),ref:s,...i})});Gt.displayName="Button";const M2=[{name:"Home",path:"/"},{name:"About",path:"/learn"},{name:"Therapy",path:"/therapy"},{name:"Calculator",path:"/calculator"},{name:"Services",path:"/services"}],WC=()=>{const[t,e]=Z.useState(!1),[n,r]=Z.useState(!1),i=qa(),{user:s}=Rl();Z.useEffect(()=>{const l=()=>r(window.scrollY>50);return window.addEventListener("scroll",l),l(),()=>window.removeEventListener("scroll",l)},[]);const o=Z.useCallback(()=>e(l=>!l),[]),a=Z.useCallback(()=>e(!1),[]);return g.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n?"bg-white shadow-lg":"bg-transparent"}`,children:[g.jsx("div",{className:"container mx-auto px-3 sm:px-4 py-2 sm:py-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs(Vs,{to:"/",className:"flex items-center space-x-2 sm:space-x-3 group flex-shrink-0",children:[g.jsx(_t.img,{alt:"Logo",className:"h-10 sm:h-12 md:h-14 w-auto",src:"/images/bhaggya darshhan.png"}),g.jsx("span",{className:`text-base sm:text-xl md:text-2xl font-bold transition-colors duration-300 ${n?"text-orange-600":"text-white"}`,children:"NumaVaastu"})]}),g.jsx("nav",{className:"hidden lg:flex items-center space-x-1 xl:space-x-2",children:M2.map(l=>g.jsx(Vs,{to:l.path,className:`px-3 xl:px-5 py-2 xl:py-2.5 rounded-full text-sm xl:text-base font-medium transition-all duration-300 ${i.pathname===l.path?n?"bg-orange-100 text-orange-600":"bg-white/20 text-white":n?"text-gray-700 hover:text-orange-600 hover:bg-orange-50":"text-white/90 hover:text-white hover:bg-white/10"}`,children:l.name},l.name))}),g.jsxs("div",{className:"hidden lg:flex items-center space-x-2 xl:space-x-3",children:[g.jsxs(fy,{children:[g.jsxs("span",{className:`text-sm xl:text-base font-medium transition-colors duration-300 whitespace-nowrap ${n?"text-gray-700":"text-white/90"}`,children:["Welcome, ",(s==null?void 0:s.firstName)||"User"]}),g.jsx(py,{appearance:{elements:{avatarBox:"h-9 w-9 xl:h-10 xl:w-10 ring-2 ring-orange-400"}}})]}),g.jsx(my,{children:g.jsx(Fs,{mode:"modal",children:g.jsx(Gt,{className:`font-semibold px-5 xl:px-7 py-2 xl:py-2.5 rounded-full text-sm xl:text-base shadow-lg transition-all duration-300 ${n?"bg-orange-600 text-white hover:bg-orange-700":"bg-white text-orange-600 hover:bg-white/90"}`,children:"Login / Sign Up"})})})]}),g.jsx("button",{className:`lg:hidden p-2 rounded-lg transition-all duration-300 ${n?"text-orange-600 hover:bg-orange-50":"text-white hover:bg-white/10"}`,onClick:o,children:g.jsx(_t.div,{animate:{rotate:t?180:0},transition:{duration:.3,ease:"easeInOut"},children:t?g.jsx(e0,{className:"h-6 w-6"}):g.jsx(lN,{className:"h-6 w-6"})})})]})}),g.jsx(px,{children:t&&g.jsx(_t.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`lg:hidden border-t transition-all duration-300 ${n?"bg-white border-gray-200":"bg-black/20 backdrop-blur-md border-white/10"}`,children:g.jsxs("div",{className:"container mx-auto px-4 py-4 space-y-2",children:[M2.map(l=>g.jsx(Vs,{to:l.path,onClick:a,className:`block px-4 py-3 rounded-xl text-base font-medium transition-all ${i.pathname===l.path?n?"bg-orange-100 text-orange-600":"bg-white/20 text-white":n?"text-gray-700 hover:bg-gray-100":"text-white/90 hover:bg-white/10"}`,children:l.name},l.name)),g.jsxs("div",{className:`pt-4 border-t ${n?"border-gray-200":"border-white/10"}`,children:[g.jsx(fy,{children:g.jsxs("div",{className:"flex items-center justify-between px-4",children:[g.jsxs("span",{className:`text-base ${n?"text-gray-700":"text-white/90"}`,children:["Welcome, ",(s==null?void 0:s.firstName)||"User"]}),g.jsx(py,{})]})}),g.jsx(my,{children:g.jsx(Fs,{mode:"modal",children:g.jsx(Gt,{className:`w-full font-semibold py-3 rounded-xl transition-all duration-300 ${n?"bg-orange-600 text-white hover:bg-orange-700":"bg-white text-orange-600 hover:bg-white/90"}`,children:"Login / Sign Up"})})})]})]})})})]})},YC=()=>g.jsx("svg",{viewBox:"0 0 24 24",className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"currentColor",children:g.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),GC=[{name:"Home",path:"/"},{name:"About Us",path:"/learn"},{name:"Services",path:"/services"},{name:"Calculator",path:"/calculator"},{name:"Therapy",path:"/therapy"}],KC=[{name:"Numerology",path:"/services"},{name:"Vaastu Consultation",path:"/services"},{name:"Name Correction",path:"/services"},{name:"Color Therapy",path:"/therapy"},{name:"Pyramid Therapy",path:"/therapy"}],XC=[{icon:Ow,href:"https://www.facebook.com/yashrajguruji",label:"Facebook"},{icon:Mw,href:"https://www.instagram.com/yashrajguruji",label:"Instagram"},{icon:YC,href:"https://x.com/vastugurubhaiji",label:"X",isCustom:!0}],JC=Z.memo(()=>g.jsxs("footer",{className:"bg-[#2a2118] text-gray-300 relative z-20",children:[g.jsx("div",{className:"container mx-auto px-4 py-8 sm:py-12",children:g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[g.jsxs("div",{className:"col-span-2 sm:col-span-2 lg:col-span-1 space-y-3 sm:space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[g.jsx("img",{src:"/images/bhaggya darshhan.png",alt:"NumaVaastu Logo",className:"w-10 h-10 sm:w-14 sm:h-14 object-contain"}),g.jsx("span",{className:"text-lg sm:text-xl font-bold text-white",children:"NumaVaastu"})]}),g.jsx("p",{className:"text-gray-400 text-xs sm:text-sm leading-relaxed",children:"Combining ancient wisdom of Numerology and Vaastu Shastra for your complete life transformation."}),g.jsx("div",{className:"flex gap-2 sm:gap-3 pt-2",children:XC.map(({icon:t,href:e,label:n,isCustom:r})=>g.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":n,className:"w-8 h-8 sm:w-9 sm:h-9 bg-[#3d3028] hover:bg-orange-500 rounded-full flex items-center justify-center transition-all duration-300",children:r?g.jsx(t,{}):g.jsx(t,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})},n))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-orange-400 font-semibold text-base sm:text-lg mb-3 sm:mb-4",children:"Quick Links"}),g.jsx("ul",{className:"space-y-2 sm:space-y-3",children:GC.map(({name:t,path:e})=>g.jsx("li",{children:g.jsx(Vs,{to:e,className:"text-gray-400 hover:text-orange-400 transition-colors duration-300 text-xs sm:text-sm",children:t})},t))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-orange-400 font-semibold text-base sm:text-lg mb-3 sm:mb-4",children:"Services"}),g.jsx("ul",{className:"space-y-2 sm:space-y-3",children:KC.map(({name:t,path:e})=>g.jsx("li",{children:g.jsx(Vs,{to:e,className:"text-gray-400 hover:text-orange-400 transition-colors duration-300 text-xs sm:text-sm",children:t})},t))})]}),g.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[g.jsx("h3",{className:"text-orange-400 font-semibold text-base sm:text-lg mb-3 sm:mb-4",children:"Contact Us"}),g.jsxs("ul",{className:"space-y-3 sm:space-y-4",children:[g.jsxs("li",{className:"flex items-center gap-2 sm:gap-3",children:[g.jsx(Ou,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-orange-400 flex-shrink-0"}),g.jsx("a",{href:"tel:+919650189822",className:"text-gray-400 hover:text-orange-400 transition-colors duration-300 text-xs sm:text-sm",children:"+91 96501 89822"})]}),g.jsxs("li",{className:"flex items-center gap-2 sm:gap-3",children:[g.jsx(cN,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-orange-400 flex-shrink-0"}),g.jsx("a",{href:"mailto:vaastuguru12@gmail.com",className:"text-gray-400 hover:text-orange-400 transition-colors duration-300 text-xs sm:text-sm break-all",children:"vaastuguru12@gmail.com"})]}),g.jsxs("li",{className:"flex items-start gap-2 sm:gap-3",children:[g.jsx(uN,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-orange-400 flex-shrink-0 mt-0.5"}),g.jsxs("span",{className:"text-gray-400 text-xs sm:text-sm",children:["C1, Yamuna Vihar,",g.jsx("br",{}),"New Delhi, India - 110053"]})]})]})]})]})}),g.jsx("div",{className:"border-t border-[#3d3028]",children:g.jsx("div",{className:"container mx-auto px-4 py-3 sm:py-4",children:g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 sm:gap-4",children:[g.jsxs("p",{className:"text-gray-500 text-xs sm:text-sm text-center sm:text-left",children:[" ",new Date().getFullYear()," NumaVaastu. All rights reserved."]}),g.jsxs("div",{className:"flex gap-4 sm:gap-6",children:[g.jsx("a",{href:"#",className:"text-gray-500 hover:text-orange-400 transition-colors duration-300 text-xs sm:text-sm",children:"Privacy Policy"}),g.jsx("a",{href:"#",className:"text-gray-500 hover:text-orange-400 transition-colors duration-300 text-xs sm:text-sm",children:"Terms of Service"})]})]})})})]})),ZC=()=>{const{pathname:t}=qa();return Z.useEffect(()=>{window.scrollTo(0,0)},[t]),null};var mx={exports:{}},QC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ek=QC,tk=ek;function gx(){}function yx(){}yx.resetWarningCache=gx;var nk=function(){function t(r,i,s,o,a,l){if(l!==tk){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yx,resetWarningCache:gx};return n.PropTypes=n,n};mx.exports=nk();var rk=mx.exports;const Sn=Of(rk);function ik(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var vx=Z,sk=ik(vx);function F2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ok(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ak=!!(typeof window<"u"&&window.document&&window.document.createElement);function lk(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=t(o.map(function(u){return u.props})),c.canUseDOM?e(a):n&&(a=n(a))}var c=function(u){ok(m,u);function m(){return u.apply(this,arguments)||this}m.peek=function(){return a},m.rewind=function(){if(m.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var A=a;return a=void 0,o=[],A};var y=m.prototype;return y.UNSAFE_componentWillMount=function(){o.push(this),l()},y.componentDidUpdate=function(){l()},y.componentWillUnmount=function(){var A=o.indexOf(this);o.splice(A,1),l()},y.render=function(){return sk.createElement(s,this.props)},m}(vx.PureComponent);return F2(c,"displayName","SideEffect("+r(s)+")"),F2(c,"canUseDOM",ak),c}}var ck=lk;const uk=Of(ck);var hk=typeof Element<"u",dk=typeof Map=="function",fk=typeof Set=="function",pk=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Rd(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Rd(t[r],e[r]))return!1;return!0}var s;if(dk&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Rd(r.value[1],e.get(r.value[0])))return!1;return!0}if(fk&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(pk&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(hk&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Rd(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var mk=function(e,n){try{return Rd(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const gk=Of(mk);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V2=Object.getOwnPropertySymbols,yk=Object.prototype.hasOwnProperty,vk=Object.prototype.propertyIsEnumerable;function bk(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function wk(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var _k=wk()?Object.assign:function(t,e){for(var n,r=bk(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)yk.call(n,o)&&(r[o]=n[o]);if(V2){i=V2(n);for(var a=0;a<i.length;a++)vk.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const xk=Of(_k);var bl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},It={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(It).map(function(t){return It[t]});var In={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},cf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},th={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Ak=Object.keys(cf).reduce(function(t,e){return t[cf[e]]=e,t},{}),Tk=[It.NOSCRIPT,It.SCRIPT,It.STYLE],fs="data-react-helmet",Ek=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sk=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Nk=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),hi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ik=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},B2=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Pk=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},tg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Ck=function(e){var n=vc(e,It.TITLE),r=vc(e,th.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=vc(e,th.DEFAULT_TITLE);return n||i||void 0},kk=function(e){return vc(e,th.ON_CHANGE_CLIENT_STATE)||function(){}},Wp=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return hi({},r,i)},{})},Rk=function(e,n){return n.filter(function(r){return typeof r[It.BASE]<"u"}).map(function(r){return r[It.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(e.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},Tu=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&Dk("Helmet: "+e+' should be of type "Array". Instead found type "'+Ek(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var a={};o.filter(function(y){for(var f=void 0,A=Object.keys(y),_=0;_<A.length;_++){var E=A[_],C=E.toLowerCase();n.indexOf(C)!==-1&&!(f===In.REL&&y[f].toLowerCase()==="canonical")&&!(C===In.REL&&y[C].toLowerCase()==="stylesheet")&&(f=C),n.indexOf(E)!==-1&&(E===In.INNER_HTML||E===In.CSS_TEXT||E===In.ITEM_PROP)&&(f=E)}if(!f||!y[f])return!1;var F=y[f].toLowerCase();return i[f]||(i[f]={}),a[f]||(a[f]={}),i[f][F]?!1:(a[f][F]=!0,!0)}).reverse().forEach(function(y){return s.push(y)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],m=xk({},i[u],a[u]);i[u]=m}return s},[]).reverse()},vc=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},Lk=function(e){return{baseTag:Rk([In.HREF,In.TARGET],e),bodyAttributes:Wp(bl.BODY,e),defer:vc(e,th.DEFER),encode:vc(e,th.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Wp(bl.HTML,e),linkTags:Tu(It.LINK,[In.REL,In.HREF],e),metaTags:Tu(It.META,[In.NAME,In.CHARSET,In.HTTPEQUIV,In.PROPERTY,In.ITEM_PROP],e),noscriptTags:Tu(It.NOSCRIPT,[In.INNER_HTML],e),onChangeClientState:kk(e),scriptTags:Tu(It.SCRIPT,[In.SRC,In.INNER_HTML],e),styleTags:Tu(It.STYLE,[In.CSS_TEXT],e),title:Ck(e),titleAttributes:Wp(bl.TITLE,e)}},ng=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){ng(e)},0)}}(),U2=function(e){return clearTimeout(e)},jk=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ng:global.requestAnimationFrame||ng,Ok=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||U2:global.cancelAnimationFrame||U2,Dk=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Eu=null,Mk=function(e){Eu&&Ok(Eu),e.defer?Eu=jk(function(){z2(e,function(){Eu=null})}):(z2(e),Eu=null)},z2=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,l=e.noscriptTags,c=e.onChangeClientState,u=e.scriptTags,m=e.styleTags,y=e.title,f=e.titleAttributes;rg(It.BODY,i),rg(It.HTML,s),Fk(y,f);var A={baseTag:ec(It.BASE,r),linkTags:ec(It.LINK,o),metaTags:ec(It.META,a),noscriptTags:ec(It.NOSCRIPT,l),scriptTags:ec(It.SCRIPT,u),styleTags:ec(It.STYLE,m)},_={},E={};Object.keys(A).forEach(function(C){var F=A[C],M=F.newTags,z=F.oldTags;M.length&&(_[C]=M),z.length&&(E[C]=A[C].oldTags)}),n&&n(),c(e,_,E)},bx=function(e){return Array.isArray(e)?e.join(""):e},Fk=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=bx(e)),rg(It.TITLE,n)},rg=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(fs),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var m=o.indexOf(c);m!==-1&&o.splice(m,1)}for(var y=o.length-1;y>=0;y--)r.removeAttribute(o[y]);s.length===o.length?r.removeAttribute(fs):r.getAttribute(fs)!==a.join(",")&&r.setAttribute(fs,a.join(","))}},ec=function(e,n){var r=document.head||document.querySelector(It.HEAD),i=r.querySelectorAll(e+"["+fs+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(e);for(var u in l)if(l.hasOwnProperty(u))if(u===In.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===In.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var m=typeof l[u]>"u"?"":l[u];c.setAttribute(u,m)}c.setAttribute(fs,"true"),s.some(function(y,f){return a=f,c.isEqualNode(y)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},wx=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},Vk=function(e,n,r,i){var s=wx(r),o=bx(n);return s?"<"+e+" "+fs+'="true" '+s+">"+tg(o,i)+"</"+e+">":"<"+e+" "+fs+'="true">'+tg(o,i)+"</"+e+">"},Bk=function(e,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===In.INNER_HTML||c===In.CSS_TEXT)}).reduce(function(c,u){var m=typeof s[u]>"u"?u:u+'="'+tg(s[u],r)+'"';return c?c+" "+m:m},""),a=s.innerHTML||s.cssText||"",l=Tk.indexOf(e)===-1;return i+"<"+e+" "+fs+'="true" '+o+(l?"/>":">"+a+"</"+e+">")},"")},_x=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[cf[i]||i]=e[i],r},n)},Uk=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Ak[i]||i]=e[i],r},n)},zk=function(e,n,r){var i,s=(i={key:n},i[fs]=!0,i),o=_x(r,s);return[Ir.createElement(It.TITLE,o,n)]},qk=function(e,n){return n.map(function(r,i){var s,o=(s={key:i},s[fs]=!0,s);return Object.keys(r).forEach(function(a){var l=cf[a]||a;if(l===In.INNER_HTML||l===In.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Ir.createElement(e,o)})},vo=function(e,n,r){switch(e){case It.TITLE:return{toComponent:function(){return zk(e,n.title,n.titleAttributes)},toString:function(){return Vk(e,n.title,n.titleAttributes,r)}};case bl.BODY:case bl.HTML:return{toComponent:function(){return _x(n)},toString:function(){return wx(n)}};default:return{toComponent:function(){return qk(e,n)},toString:function(){return Bk(e,n,r)}}}},xx=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,l=e.noscriptTags,c=e.scriptTags,u=e.styleTags,m=e.title,y=m===void 0?"":m,f=e.titleAttributes;return{base:vo(It.BASE,n,i),bodyAttributes:vo(bl.BODY,r,i),htmlAttributes:vo(bl.HTML,s,i),link:vo(It.LINK,o,i),meta:vo(It.META,a,i),noscript:vo(It.NOSCRIPT,l,i),script:vo(It.SCRIPT,c,i),style:vo(It.STYLE,u,i),title:vo(It.TITLE,{title:y,titleAttributes:f},i)}},Hk=function(e){var n,r;return r=n=function(i){Ik(s,i);function s(){return Sk(this,s),Pk(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!gk(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case It.SCRIPT:case It.NOSCRIPT:return{innerHTML:l};case It.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,m=a.newChildProps,y=a.nestedChildren;return hi({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[hi({},m,this.mapNestedChildrenToProps(c,y))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,m=a.newProps,y=a.newChildProps,f=a.nestedChildren;switch(u.type){case It.TITLE:return hi({},m,(l={},l[u.type]=f,l.titleAttributes=hi({},y),l));case It.BODY:return hi({},m,{bodyAttributes:hi({},y)});case It.HTML:return hi({},m,{htmlAttributes:hi({},y)})}return hi({},m,(c={},c[u.type]=hi({},y),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=hi({},l);return Object.keys(a).forEach(function(u){var m;c=hi({},c,(m={},m[u]=a[u],m))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return Ir.Children.forEach(a,function(m){if(!(!m||!m.props)){var y=m.props,f=y.children,A=B2(y,["children"]),_=Uk(A);switch(c.warnOnInvalidChildren(m,f),m.type){case It.LINK:case It.META:case It.NOSCRIPT:case It.SCRIPT:case It.STYLE:u=c.flattenArrayTypeChildren({child:m,arrayTypeChildren:u,newChildProps:_,nestedChildren:f});break;default:l=c.mapObjectTypeChildren({child:m,newProps:l,newChildProps:_,nestedChildren:f});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=B2(a,["children"]),u=hi({},c);return l&&(u=this.mapChildrenToProps(l,u)),Ir.createElement(e,u)},Nk(s,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),s}(Ir.Component),n.propTypes={base:Sn.object,bodyAttributes:Sn.object,children:Sn.oneOfType([Sn.arrayOf(Sn.node),Sn.node]),defaultTitle:Sn.string,defer:Sn.bool,encodeSpecialCharacters:Sn.bool,htmlAttributes:Sn.object,link:Sn.arrayOf(Sn.object),meta:Sn.arrayOf(Sn.object),noscript:Sn.arrayOf(Sn.object),onChangeClientState:Sn.func,script:Sn.arrayOf(Sn.object),style:Sn.arrayOf(Sn.object),title:Sn.string,titleAttributes:Sn.object,titleTemplate:Sn.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=xx({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},$k=function(){return null},Wk=uk(Lk,Mk,xx)($k),Al=Hk(Wk);Al.renderStatic=Al.rewind;var Yk="Label",Ax=Z.forwardRef((t,e)=>g.jsx(za.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Ax.displayName=Yk;var Tx=Ax;const Gk=Qg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ki=Ir.forwardRef(({className:t,...e},n)=>g.jsx(Tx,{ref:n,className:ni(Gk(),t),...e}));Ki.displayName=Tx.displayName;const Kk=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Sx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,m=(s&3)<<4|a>>4;let y=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(y=64)),r.push(n[u],n[m],n[y],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ex(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||m==null)throw new Jk;const y=s<<2|a>>4;if(r.push(y),c!==64){const f=a<<4&240|c>>2;if(r.push(f),m!==64){const A=c<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zk=function(t){const e=Ex(t);return Sx.encodeByteArray(e,!0)},uf=function(t){return Zk(t).replace(/\./g,"")},Nx=function(t){try{return Sx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=()=>Qk().__FIREBASE_DEFAULTS__,tR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nx(t[1]);return e&&JSON.parse(e)},Yf=()=>{try{return Kk()||eR()||tR()||nR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ix=t=>{var e,n;return(n=(e=Yf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rR=t=>{const e=Ix(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Px=()=>{var t;return(t=Yf())===null||t===void 0?void 0:t.config},Cx=t=>{var e;return(e=Yf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[uf(JSON.stringify(n)),uf(JSON.stringify(o)),a].join(".")}const Bu={};function oR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?t.emulator.push(e):t.prod.push(e);return t}function aR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let q2=!1;function Rx(t,e){if(typeof window>"u"||typeof document>"u"||!Hc(window.location.host)||Bu[t]===e||Bu[t]||q2)return;Bu[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=oR().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function l(y,f){y.setAttribute("width","24"),y.setAttribute("id",f),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function c(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{q2=!0,o()},y}function u(y,f){y.setAttribute("id",f),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=aR(r),f=n("text"),A=document.getElementById(f)||document.createElement("span"),_=n("learnmore"),E=document.getElementById(_)||document.createElement("a"),C=n("preprendIcon"),F=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const M=y.element;a(M),u(E,_);const z=c();l(F,C),M.append(F,A,E,z),document.body.appendChild(M)}s?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zr())}function cR(){var t;const e=(t=Yf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fR(){const t=zr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mR(){try{return typeof indexedDB=="object"}catch{return!1}}function gR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="FirebaseError";class Oo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yR,Object.setPrototypeOf(this,Oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ih.prototype.create)}}class Ih{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?vR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Oo(i,a,r)}}function vR(t,e){return t.replace(bR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bR=/\{\$([^}]+)}/g;function wR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(H2(s)&&H2(o)){if(!Tl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function H2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _R(t,e){const n=new xR(t,e);return n.subscribe.bind(n)}class xR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yp),i.error===void 0&&(i.error=Yp),i.complete===void 0&&(i.complete=Yp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t){return t&&t._delegate?t._delegate:t}class El{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SR(e))try{this.getOrInitializeService({instanceIdentifier:ul})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ul){return this.instances.has(e)}getOptions(e=ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ul){return this.component?this.component.multipleInstances?e:ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(t){return t===ul?void 0:t}function SR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ft||(Ft={}));const IR={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},PR=Ft.INFO,CR={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},kR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x0{constructor(e){this.name=e,this._logLevel=PR,this._logHandler=kR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const RR=(t,e)=>e.some(n=>t instanceof n);let $2,W2;function LR(){return $2||($2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jR(){return W2||(W2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lx=new WeakMap,ig=new WeakMap,jx=new WeakMap,Gp=new WeakMap,A0=new WeakMap;function OR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Lx.set(n,t)}).catch(()=>{}),A0.set(e,t),e}function DR(t){if(ig.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ig.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MR(t){sg=t(sg)}function FR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kp(this),e,...n);return jx.set(r,e.sort?e.sort():[e]),xa(r)}:jR().includes(t)?function(...e){return t.apply(Kp(this),e),xa(Lx.get(this))}:function(...e){return xa(t.apply(Kp(this),e))}}function VR(t){return typeof t=="function"?FR(t):(t instanceof IDBTransaction&&DR(t),RR(t,LR())?new Proxy(t,sg):t)}function xa(t){if(t instanceof IDBRequest)return OR(t);if(Gp.has(t))return Gp.get(t);const e=VR(t);return e!==t&&(Gp.set(t,e),A0.set(e,t)),e}const Kp=t=>A0.get(t);function BR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=xa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(xa(o.result),l.oldVersion,l.newVersion,xa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const UR=["get","getKey","getAll","getAllKeys","count"],zR=["put","add","delete","clear"],Xp=new Map;function Y2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xp.get(e))return Xp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Xp.set(e,s),s}MR(t=>({...t,get:(e,n,r)=>Y2(e,n)||t.get(e,n,r),has:(e,n)=>!!Y2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const og="@firebase/app",G2="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new x0("@firebase/app"),$R="@firebase/app-compat",WR="@firebase/analytics-compat",YR="@firebase/analytics",GR="@firebase/app-check-compat",KR="@firebase/app-check",XR="@firebase/auth",JR="@firebase/auth-compat",ZR="@firebase/database",QR="@firebase/data-connect",eL="@firebase/database-compat",tL="@firebase/functions",nL="@firebase/functions-compat",rL="@firebase/installations",iL="@firebase/installations-compat",sL="@firebase/messaging",oL="@firebase/messaging-compat",aL="@firebase/performance",lL="@firebase/performance-compat",cL="@firebase/remote-config",uL="@firebase/remote-config-compat",hL="@firebase/storage",dL="@firebase/storage-compat",fL="@firebase/firestore",pL="@firebase/ai",mL="@firebase/firestore-compat",gL="firebase",yL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",vL={[og]:"fire-core",[$R]:"fire-core-compat",[YR]:"fire-analytics",[WR]:"fire-analytics-compat",[KR]:"fire-app-check",[GR]:"fire-app-check-compat",[XR]:"fire-auth",[JR]:"fire-auth-compat",[ZR]:"fire-rtdb",[QR]:"fire-data-connect",[eL]:"fire-rtdb-compat",[tL]:"fire-fn",[nL]:"fire-fn-compat",[rL]:"fire-iid",[iL]:"fire-iid-compat",[sL]:"fire-fcm",[oL]:"fire-fcm-compat",[aL]:"fire-perf",[lL]:"fire-perf-compat",[cL]:"fire-rc",[uL]:"fire-rc-compat",[hL]:"fire-gcs",[dL]:"fire-gcs-compat",[fL]:"fire-fst",[mL]:"fire-fst-compat",[pL]:"fire-vertex","fire-js":"fire-js",[gL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,bL=new Map,lg=new Map;function K2(t,e){try{t.container.addComponent(e)}catch(n){Co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rc(t){const e=t.name;if(lg.has(e))return Co.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,t);for(const n of hf.values())K2(n,t);for(const n of bL.values())K2(n,t);return!0}function T0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Os(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new Ih("app","Firebase",wL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new El("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=yL;function Ox(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ag,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Aa.create("bad-app-name",{appName:String(i)});if(n||(n=Px()),!n)throw Aa.create("no-options");const s=hf.get(i);if(s){if(Tl(n,s.options)&&Tl(r,s.config))return s;throw Aa.create("duplicate-app",{appName:i})}const o=new NR(i);for(const l of lg.values())o.addComponent(l);const a=new _L(n,r,o);return hf.set(i,a),a}function Dx(t=ag){const e=hf.get(t);if(!e&&t===ag&&Px())return Ox();if(!e)throw Aa.create("no-app",{appName:t});return e}function Ta(t,e,n){var r;let i=(r=vL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Co.warn(a.join(" "));return}Rc(new El(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="firebase-heartbeat-database",AL=1,nh="firebase-heartbeat-store";let Jp=null;function Mx(){return Jp||(Jp=BR(xL,AL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Aa.create("idb-open",{originalErrorMessage:t.message})})),Jp}async function TL(t){try{const n=(await Mx()).transaction(nh),r=await n.objectStore(nh).get(Fx(t));return await n.done,r}catch(e){if(e instanceof Oo)Co.warn(e.message);else{const n=Aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Co.warn(n.message)}}}async function X2(t,e){try{const r=(await Mx()).transaction(nh,"readwrite");await r.objectStore(nh).put(e,Fx(t)),await r.done}catch(n){if(n instanceof Oo)Co.warn(n.message);else{const r=Aa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Co.warn(r.message)}}}function Fx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=1024,SL=30;class NL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=J2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>SL){const o=CL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Co.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J2(),{heartbeatsToSend:r,unsentEntries:i}=IL(this._heartbeatsCache.heartbeats),s=uf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Co.warn(n),""}}}function J2(){return new Date().toISOString().substring(0,10)}function IL(t,e=EL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Z2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Z2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mR()?gR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Z2(t){return uf(JSON.stringify({version:2,heartbeats:t})).length}function CL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){Rc(new El("platform-logger",e=>new qR(e),"PRIVATE")),Rc(new El("heartbeat",e=>new NL(e),"PRIVATE")),Ta(og,G2,t),Ta(og,G2,"esm2017"),Ta("fire-js","")}kL("");var Q2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ea,Vx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,P){function S(){}S.prototype=P.prototype,B.D=P.prototype,B.prototype=new S,B.prototype.constructor=B,B.C=function(D,T,I){for(var k=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)k[Y-2]=arguments[Y];return P.prototype[T].apply(D,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(B,P,S){S||(S=0);var D=Array(16);if(typeof P=="string")for(var T=0;16>T;++T)D[T]=P.charCodeAt(S++)|P.charCodeAt(S++)<<8|P.charCodeAt(S++)<<16|P.charCodeAt(S++)<<24;else for(T=0;16>T;++T)D[T]=P[S++]|P[S++]<<8|P[S++]<<16|P[S++]<<24;P=B.g[0],S=B.g[1],T=B.g[2];var I=B.g[3],k=P+(I^S&(T^I))+D[0]+3614090360&4294967295;P=S+(k<<7&4294967295|k>>>25),k=I+(T^P&(S^T))+D[1]+3905402710&4294967295,I=P+(k<<12&4294967295|k>>>20),k=T+(S^I&(P^S))+D[2]+606105819&4294967295,T=I+(k<<17&4294967295|k>>>15),k=S+(P^T&(I^P))+D[3]+3250441966&4294967295,S=T+(k<<22&4294967295|k>>>10),k=P+(I^S&(T^I))+D[4]+4118548399&4294967295,P=S+(k<<7&4294967295|k>>>25),k=I+(T^P&(S^T))+D[5]+1200080426&4294967295,I=P+(k<<12&4294967295|k>>>20),k=T+(S^I&(P^S))+D[6]+2821735955&4294967295,T=I+(k<<17&4294967295|k>>>15),k=S+(P^T&(I^P))+D[7]+4249261313&4294967295,S=T+(k<<22&4294967295|k>>>10),k=P+(I^S&(T^I))+D[8]+1770035416&4294967295,P=S+(k<<7&4294967295|k>>>25),k=I+(T^P&(S^T))+D[9]+2336552879&4294967295,I=P+(k<<12&4294967295|k>>>20),k=T+(S^I&(P^S))+D[10]+4294925233&4294967295,T=I+(k<<17&4294967295|k>>>15),k=S+(P^T&(I^P))+D[11]+2304563134&4294967295,S=T+(k<<22&4294967295|k>>>10),k=P+(I^S&(T^I))+D[12]+1804603682&4294967295,P=S+(k<<7&4294967295|k>>>25),k=I+(T^P&(S^T))+D[13]+4254626195&4294967295,I=P+(k<<12&4294967295|k>>>20),k=T+(S^I&(P^S))+D[14]+2792965006&4294967295,T=I+(k<<17&4294967295|k>>>15),k=S+(P^T&(I^P))+D[15]+1236535329&4294967295,S=T+(k<<22&4294967295|k>>>10),k=P+(T^I&(S^T))+D[1]+4129170786&4294967295,P=S+(k<<5&4294967295|k>>>27),k=I+(S^T&(P^S))+D[6]+3225465664&4294967295,I=P+(k<<9&4294967295|k>>>23),k=T+(P^S&(I^P))+D[11]+643717713&4294967295,T=I+(k<<14&4294967295|k>>>18),k=S+(I^P&(T^I))+D[0]+3921069994&4294967295,S=T+(k<<20&4294967295|k>>>12),k=P+(T^I&(S^T))+D[5]+3593408605&4294967295,P=S+(k<<5&4294967295|k>>>27),k=I+(S^T&(P^S))+D[10]+38016083&4294967295,I=P+(k<<9&4294967295|k>>>23),k=T+(P^S&(I^P))+D[15]+3634488961&4294967295,T=I+(k<<14&4294967295|k>>>18),k=S+(I^P&(T^I))+D[4]+3889429448&4294967295,S=T+(k<<20&4294967295|k>>>12),k=P+(T^I&(S^T))+D[9]+568446438&4294967295,P=S+(k<<5&4294967295|k>>>27),k=I+(S^T&(P^S))+D[14]+3275163606&4294967295,I=P+(k<<9&4294967295|k>>>23),k=T+(P^S&(I^P))+D[3]+4107603335&4294967295,T=I+(k<<14&4294967295|k>>>18),k=S+(I^P&(T^I))+D[8]+1163531501&4294967295,S=T+(k<<20&4294967295|k>>>12),k=P+(T^I&(S^T))+D[13]+2850285829&4294967295,P=S+(k<<5&4294967295|k>>>27),k=I+(S^T&(P^S))+D[2]+4243563512&4294967295,I=P+(k<<9&4294967295|k>>>23),k=T+(P^S&(I^P))+D[7]+1735328473&4294967295,T=I+(k<<14&4294967295|k>>>18),k=S+(I^P&(T^I))+D[12]+2368359562&4294967295,S=T+(k<<20&4294967295|k>>>12),k=P+(S^T^I)+D[5]+4294588738&4294967295,P=S+(k<<4&4294967295|k>>>28),k=I+(P^S^T)+D[8]+2272392833&4294967295,I=P+(k<<11&4294967295|k>>>21),k=T+(I^P^S)+D[11]+1839030562&4294967295,T=I+(k<<16&4294967295|k>>>16),k=S+(T^I^P)+D[14]+4259657740&4294967295,S=T+(k<<23&4294967295|k>>>9),k=P+(S^T^I)+D[1]+2763975236&4294967295,P=S+(k<<4&4294967295|k>>>28),k=I+(P^S^T)+D[4]+1272893353&4294967295,I=P+(k<<11&4294967295|k>>>21),k=T+(I^P^S)+D[7]+4139469664&4294967295,T=I+(k<<16&4294967295|k>>>16),k=S+(T^I^P)+D[10]+3200236656&4294967295,S=T+(k<<23&4294967295|k>>>9),k=P+(S^T^I)+D[13]+681279174&4294967295,P=S+(k<<4&4294967295|k>>>28),k=I+(P^S^T)+D[0]+3936430074&4294967295,I=P+(k<<11&4294967295|k>>>21),k=T+(I^P^S)+D[3]+3572445317&4294967295,T=I+(k<<16&4294967295|k>>>16),k=S+(T^I^P)+D[6]+76029189&4294967295,S=T+(k<<23&4294967295|k>>>9),k=P+(S^T^I)+D[9]+3654602809&4294967295,P=S+(k<<4&4294967295|k>>>28),k=I+(P^S^T)+D[12]+3873151461&4294967295,I=P+(k<<11&4294967295|k>>>21),k=T+(I^P^S)+D[15]+530742520&4294967295,T=I+(k<<16&4294967295|k>>>16),k=S+(T^I^P)+D[2]+3299628645&4294967295,S=T+(k<<23&4294967295|k>>>9),k=P+(T^(S|~I))+D[0]+4096336452&4294967295,P=S+(k<<6&4294967295|k>>>26),k=I+(S^(P|~T))+D[7]+1126891415&4294967295,I=P+(k<<10&4294967295|k>>>22),k=T+(P^(I|~S))+D[14]+2878612391&4294967295,T=I+(k<<15&4294967295|k>>>17),k=S+(I^(T|~P))+D[5]+4237533241&4294967295,S=T+(k<<21&4294967295|k>>>11),k=P+(T^(S|~I))+D[12]+1700485571&4294967295,P=S+(k<<6&4294967295|k>>>26),k=I+(S^(P|~T))+D[3]+2399980690&4294967295,I=P+(k<<10&4294967295|k>>>22),k=T+(P^(I|~S))+D[10]+4293915773&4294967295,T=I+(k<<15&4294967295|k>>>17),k=S+(I^(T|~P))+D[1]+2240044497&4294967295,S=T+(k<<21&4294967295|k>>>11),k=P+(T^(S|~I))+D[8]+1873313359&4294967295,P=S+(k<<6&4294967295|k>>>26),k=I+(S^(P|~T))+D[15]+4264355552&4294967295,I=P+(k<<10&4294967295|k>>>22),k=T+(P^(I|~S))+D[6]+2734768916&4294967295,T=I+(k<<15&4294967295|k>>>17),k=S+(I^(T|~P))+D[13]+1309151649&4294967295,S=T+(k<<21&4294967295|k>>>11),k=P+(T^(S|~I))+D[4]+4149444226&4294967295,P=S+(k<<6&4294967295|k>>>26),k=I+(S^(P|~T))+D[11]+3174756917&4294967295,I=P+(k<<10&4294967295|k>>>22),k=T+(P^(I|~S))+D[2]+718787259&4294967295,T=I+(k<<15&4294967295|k>>>17),k=S+(I^(T|~P))+D[9]+3951481745&4294967295,B.g[0]=B.g[0]+P&4294967295,B.g[1]=B.g[1]+(T+(k<<21&4294967295|k>>>11))&4294967295,B.g[2]=B.g[2]+T&4294967295,B.g[3]=B.g[3]+I&4294967295}r.prototype.u=function(B,P){P===void 0&&(P=B.length);for(var S=P-this.blockSize,D=this.B,T=this.h,I=0;I<P;){if(T==0)for(;I<=S;)i(this,B,I),I+=this.blockSize;if(typeof B=="string"){for(;I<P;)if(D[T++]=B.charCodeAt(I++),T==this.blockSize){i(this,D),T=0;break}}else for(;I<P;)if(D[T++]=B[I++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=P},r.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var P=1;P<B.length-8;++P)B[P]=0;var S=8*this.o;for(P=B.length-8;P<B.length;++P)B[P]=S&255,S/=256;for(this.u(B),B=Array(16),P=S=0;4>P;++P)for(var D=0;32>D;D+=8)B[S++]=this.g[P]>>>D&255;return B};function s(B,P){var S=a;return Object.prototype.hasOwnProperty.call(S,B)?S[B]:S[B]=P(B)}function o(B,P){this.h=P;for(var S=[],D=!0,T=B.length-1;0<=T;T--){var I=B[T]|0;D&&I==P||(S[T]=I,D=!1)}this.g=S}var a={};function l(B){return-128<=B&&128>B?s(B,function(P){return new o([P|0],0>P?-1:0)}):new o([B|0],0>B?-1:0)}function c(B){if(isNaN(B)||!isFinite(B))return m;if(0>B)return E(c(-B));for(var P=[],S=1,D=0;B>=S;D++)P[D]=B/S|0,S*=4294967296;return new o(P,0)}function u(B,P){if(B.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(B.charAt(0)=="-")return E(u(B.substring(1),P));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(P,8)),D=m,T=0;T<B.length;T+=8){var I=Math.min(8,B.length-T),k=parseInt(B.substring(T,T+I),P);8>I?(I=c(Math.pow(P,I)),D=D.j(I).add(c(k))):(D=D.j(S),D=D.add(c(k)))}return D}var m=l(0),y=l(1),f=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-E(this).m();for(var B=0,P=1,S=0;S<this.g.length;S++){var D=this.i(S);B+=(0<=D?D:4294967296+D)*P,P*=4294967296}return B},t.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(A(this))return"0";if(_(this))return"-"+E(this).toString(B);for(var P=c(Math.pow(B,6)),S=this,D="";;){var T=z(S,P).g;S=C(S,T.j(P));var I=((0<S.g.length?S.g[0]:S.h)>>>0).toString(B);if(S=T,A(S))return I+D;for(;6>I.length;)I="0"+I;D=I+D}},t.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function A(B){if(B.h!=0)return!1;for(var P=0;P<B.g.length;P++)if(B.g[P]!=0)return!1;return!0}function _(B){return B.h==-1}t.l=function(B){return B=C(this,B),_(B)?-1:A(B)?0:1};function E(B){for(var P=B.g.length,S=[],D=0;D<P;D++)S[D]=~B.g[D];return new o(S,~B.h).add(y)}t.abs=function(){return _(this)?E(this):this},t.add=function(B){for(var P=Math.max(this.g.length,B.g.length),S=[],D=0,T=0;T<=P;T++){var I=D+(this.i(T)&65535)+(B.i(T)&65535),k=(I>>>16)+(this.i(T)>>>16)+(B.i(T)>>>16);D=k>>>16,I&=65535,k&=65535,S[T]=k<<16|I}return new o(S,S[S.length-1]&-2147483648?-1:0)};function C(B,P){return B.add(E(P))}t.j=function(B){if(A(this)||A(B))return m;if(_(this))return _(B)?E(this).j(E(B)):E(E(this).j(B));if(_(B))return E(this.j(E(B)));if(0>this.l(f)&&0>B.l(f))return c(this.m()*B.m());for(var P=this.g.length+B.g.length,S=[],D=0;D<2*P;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<B.g.length;T++){var I=this.i(D)>>>16,k=this.i(D)&65535,Y=B.i(T)>>>16,ce=B.i(T)&65535;S[2*D+2*T]+=k*ce,F(S,2*D+2*T),S[2*D+2*T+1]+=I*ce,F(S,2*D+2*T+1),S[2*D+2*T+1]+=k*Y,F(S,2*D+2*T+1),S[2*D+2*T+2]+=I*Y,F(S,2*D+2*T+2)}for(D=0;D<P;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=P;D<2*P;D++)S[D]=0;return new o(S,0)};function F(B,P){for(;(B[P]&65535)!=B[P];)B[P+1]+=B[P]>>>16,B[P]&=65535,P++}function M(B,P){this.g=B,this.h=P}function z(B,P){if(A(P))throw Error("division by zero");if(A(B))return new M(m,m);if(_(B))return P=z(E(B),P),new M(E(P.g),E(P.h));if(_(P))return P=z(B,E(P)),new M(E(P.g),P.h);if(30<B.g.length){if(_(B)||_(P))throw Error("slowDivide_ only works with positive integers.");for(var S=y,D=P;0>=D.l(B);)S=ee(S),D=ee(D);var T=ne(S,1),I=ne(D,1);for(D=ne(D,2),S=ne(S,2);!A(D);){var k=I.add(D);0>=k.l(B)&&(T=T.add(S),I=k),D=ne(D,1),S=ne(S,1)}return P=C(B,T.j(P)),new M(T,P)}for(T=m;0<=B.l(P);){for(S=Math.max(1,Math.floor(B.m()/P.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),I=c(S),k=I.j(P);_(k)||0<k.l(B);)S-=D,I=c(S),k=I.j(P);A(I)&&(I=y),T=T.add(I),B=C(B,k)}return new M(T,B)}t.A=function(B){return z(this,B).h},t.and=function(B){for(var P=Math.max(this.g.length,B.g.length),S=[],D=0;D<P;D++)S[D]=this.i(D)&B.i(D);return new o(S,this.h&B.h)},t.or=function(B){for(var P=Math.max(this.g.length,B.g.length),S=[],D=0;D<P;D++)S[D]=this.i(D)|B.i(D);return new o(S,this.h|B.h)},t.xor=function(B){for(var P=Math.max(this.g.length,B.g.length),S=[],D=0;D<P;D++)S[D]=this.i(D)^B.i(D);return new o(S,this.h^B.h)};function ee(B){for(var P=B.g.length+1,S=[],D=0;D<P;D++)S[D]=B.i(D)<<1|B.i(D-1)>>>31;return new o(S,B.h)}function ne(B,P){var S=P>>5;P%=32;for(var D=B.g.length-S,T=[],I=0;I<D;I++)T[I]=0<P?B.i(I+S)>>>P|B.i(I+S+1)<<32-P:B.i(I+S);return new o(T,B.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Ea=o}).apply(typeof Q2<"u"?Q2:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bx,Cu,Ux,Ld,cg,zx,qx,Hx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,N){return d==Array.prototype||d==Object.prototype||(d[w]=N.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var w=0;w<d.length;++w){var N=d[w];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var N=r;d=d.split(".");for(var U=0;U<d.length-1;U++){var oe=d[U];if(!(oe in N))break e;N=N[oe]}d=d[d.length-1],U=N[d],w=w(U),w!=U&&w!=null&&e(N,d,{configurable:!0,writable:!0,value:w})}}function s(d,w){d instanceof String&&(d+="");var N=0,U=!1,oe={next:function(){if(!U&&N<d.length){var ge=N++;return{value:w(ge,d[ge]),done:!1}}return U=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(d){return d||function(){return s(this,function(w,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function c(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function u(d,w,N){return d.call.apply(d.bind,arguments)}function m(d,w,N){if(!d)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,U),d.apply(w,oe)}}return function(){return d.apply(w,arguments)}}function y(d,w,N){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:m,y.apply(null,arguments)}function f(d,w){var N=Array.prototype.slice.call(arguments,1);return function(){var U=N.slice();return U.push.apply(U,arguments),d.apply(this,U)}}function A(d,w){function N(){}N.prototype=w.prototype,d.aa=w.prototype,d.prototype=new N,d.prototype.constructor=d,d.Qb=function(U,oe,ge){for(var je=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)je[Wt-2]=arguments[Wt];return w.prototype[oe].apply(U,je)}}function _(d){const w=d.length;if(0<w){const N=Array(w);for(let U=0;U<w;U++)N[U]=d[U];return N}return[]}function E(d,w){for(let N=1;N<arguments.length;N++){const U=arguments[N];if(l(U)){const oe=d.length||0,ge=U.length||0;d.length=oe+ge;for(let je=0;je<ge;je++)d[oe+je]=U[je]}else d.push(U)}}class C{constructor(w,N){this.i=w,this.j=N,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function F(d){return/^[\s\xa0]*$/.test(d)}function M(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function z(d){return z[" "](d),d}z[" "]=function(){};var ee=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function ne(d,w,N){for(const U in d)w.call(N,d[U],U,d)}function B(d,w){for(const N in d)w.call(void 0,d[N],N,d)}function P(d){const w={};for(const N in d)w[N]=d[N];return w}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(d,w){let N,U;for(let oe=1;oe<arguments.length;oe++){U=arguments[oe];for(N in U)d[N]=U[N];for(let ge=0;ge<S.length;ge++)N=S[ge],Object.prototype.hasOwnProperty.call(U,N)&&(d[N]=U[N])}}function T(d){var w=1;d=d.split(":");const N=[];for(;0<w&&d.length;)N.push(d.shift()),w--;return d.length&&N.push(d.join(":")),N}function I(d){a.setTimeout(()=>{throw d},0)}function k(){var d=ye;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Y{constructor(){this.h=this.g=null}add(w,N){const U=ce.get();U.set(w,N),this.h?this.h.next=U:this.g=U,this.h=U}}var ce=new C(()=>new de,d=>d.reset());class de{constructor(){this.next=this.g=this.h=null}set(w,N){this.h=w,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let me,le=!1,ye=new Y,Re=()=>{const d=a.Promise.resolve(void 0);me=()=>{d.then(ve)}};var ve=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(N){I(N)}var w=ce;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}le=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const N=()=>{};a.addEventListener("test",N,w),a.removeEventListener("test",N,w)}catch{}return d}();function te(d,w){if($.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var N=this.type=d.type,U=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(ee){e:{try{z(w.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(w=null)}}else N=="mouseover"?w=d.fromElement:N=="mouseout"&&(w=d.toElement);this.relatedTarget=w,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ie[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&te.aa.h.call(this)}}A(te,$);var ie={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),be=0;function we(d,w,N,U,oe){this.listener=d,this.proxy=null,this.src=w,this.type=N,this.capture=!!U,this.ha=oe,this.key=++be,this.da=this.fa=!1}function xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ce(d){this.src=d,this.g={},this.h=0}Ce.prototype.add=function(d,w,N,U,oe){var ge=d.toString();d=this.g[ge],d||(d=this.g[ge]=[],this.h++);var je=Fe(d,w,U,oe);return-1<je?(w=d[je],N||(w.fa=!1)):(w=new we(w,this.src,ge,!!U,oe),w.fa=N,d.push(w)),w};function Me(d,w){var N=w.type;if(N in d.g){var U=d.g[N],oe=Array.prototype.indexOf.call(U,w,void 0),ge;(ge=0<=oe)&&Array.prototype.splice.call(U,oe,1),ge&&(xe(w),d.g[N].length==0&&(delete d.g[N],d.h--))}}function Fe(d,w,N,U){for(var oe=0;oe<d.length;++oe){var ge=d[oe];if(!ge.da&&ge.listener==w&&ge.capture==!!N&&ge.ha==U)return oe}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),W={};function De(d,w,N,U,oe){if(U&&U.once)return ke(d,w,N,U,oe);if(Array.isArray(w)){for(var ge=0;ge<w.length;ge++)De(d,w[ge],N,U,oe);return null}return N=mt(N),d&&d[he]?d.K(w,N,c(U)?!!U.capture:!!U,oe):St(d,w,N,!1,U,oe)}function St(d,w,N,U,oe,ge){if(!w)throw Error("Invalid event type");var je=c(oe)?!!oe.capture:!!oe,Wt=zt(d);if(Wt||(d[Xe]=Wt=new Ce(d)),N=Wt.add(w,N,U,je,ge),N.proxy)return N;if(U=ot(),N.proxy=U,U.src=d,U.listener=N,d.addEventListener)J||(oe=je),oe===void 0&&(oe=!1),d.addEventListener(w.toString(),U,oe);else if(d.attachEvent)d.attachEvent(tt(w.toString()),U);else if(d.addListener&&d.removeListener)d.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ot(){function d(N){return w.call(d.src,d.listener,N)}const w=Qe;return d}function ke(d,w,N,U,oe){if(Array.isArray(w)){for(var ge=0;ge<w.length;ge++)ke(d,w[ge],N,U,oe);return null}return N=mt(N),d&&d[he]?d.L(w,N,c(U)?!!U.capture:!!U,oe):St(d,w,N,!0,U,oe)}function it(d,w,N,U,oe){if(Array.isArray(w))for(var ge=0;ge<w.length;ge++)it(d,w[ge],N,U,oe);else U=c(U)?!!U.capture:!!U,N=mt(N),d&&d[he]?(d=d.i,w=String(w).toString(),w in d.g&&(ge=d.g[w],N=Fe(ge,N,U,oe),-1<N&&(xe(ge[N]),Array.prototype.splice.call(ge,N,1),ge.length==0&&(delete d.g[w],d.h--)))):d&&(d=zt(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Fe(w,N,U,oe)),(N=-1<d?w[d]:null)&&Ue(N))}function Ue(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[he])Me(w.i,d);else{var N=d.type,U=d.proxy;w.removeEventListener?w.removeEventListener(N,U,d.capture):w.detachEvent?w.detachEvent(tt(N),U):w.addListener&&w.removeListener&&w.removeListener(U),(N=zt(w))?(Me(N,d),N.h==0&&(N.src=null,w[Xe]=null)):xe(d)}}}function tt(d){return d in W?W[d]:W[d]="on"+d}function Qe(d,w){if(d.da)d=!0;else{w=new te(w,this);var N=d.listener,U=d.ha||d.src;d.fa&&Ue(d),d=N.call(U,w)}return d}function zt(d){return d=d[Xe],d instanceof Ce?d:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function mt(d){return typeof d=="function"?d:(d[Lt]||(d[Lt]=function(w){return d.handleEvent(w)}),d[Lt])}function lt(){j.call(this),this.i=new Ce(this),this.M=this,this.F=null}A(lt,j),lt.prototype[he]=!0,lt.prototype.removeEventListener=function(d,w,N,U){it(this,d,w,N,U)};function ct(d,w){var N,U=d.F;if(U)for(N=[];U;U=U.F)N.push(U);if(d=d.M,U=w.type||w,typeof w=="string")w=new $(w,d);else if(w instanceof $)w.target=w.target||d;else{var oe=w;w=new $(U,d),D(w,oe)}if(oe=!0,N)for(var ge=N.length-1;0<=ge;ge--){var je=w.g=N[ge];oe=He(je,U,!0,w)&&oe}if(je=w.g=d,oe=He(je,U,!0,w)&&oe,oe=He(je,U,!1,w)&&oe,N)for(ge=0;ge<N.length;ge++)je=w.g=N[ge],oe=He(je,U,!1,w)&&oe}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var N=d.g[w],U=0;U<N.length;U++)xe(N[U]);delete d.g[w],d.h--}}this.F=null},lt.prototype.K=function(d,w,N,U){return this.i.add(String(d),w,!1,N,U)},lt.prototype.L=function(d,w,N,U){return this.i.add(String(d),w,!0,N,U)};function He(d,w,N,U){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var oe=!0,ge=0;ge<w.length;++ge){var je=w[ge];if(je&&!je.da&&je.capture==N){var Wt=je.listener,Ln=je.ha||je.src;je.fa&&Me(d.i,je),oe=Wt.call(Ln,U)!==!1&&oe}}return oe&&!U.defaultPrevented}function wt(d,w,N){if(typeof d=="function")N&&(d=y(d,N));else if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(d,w||0)}function Ke(d){d.g=wt(()=>{d.g=null,d.i&&(d.i=!1,Ke(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Cn extends j{constructor(w,N){super(),this.m=w,this.l=N,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jt(d){j.call(this),this.h=d,this.g={}}A(jt,j);var Pt=[];function Ct(d){ne(d.g,function(w,N){this.g.hasOwnProperty(N)&&Ue(w)},d),d.g={}}jt.prototype.N=function(){jt.aa.N.call(this),Ct(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sn=a.JSON.stringify,nt=a.JSON.parse,on=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function at(){}at.prototype.h=null;function bt(d){return d.h||(d.h=d.i())}function un(){}var At={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function st(){$.call(this,"d")}A(st,$);function qt(){$.call(this,"c")}A(qt,$);var qr={},sr=null;function ri(){return sr=sr||new lt}qr.La="serverreachability";function gi(d){$.call(this,qr.La,d)}A(gi,$);function et(d){const w=ri();ct(w,new gi(w))}qr.STAT_EVENT="statevent";function Mi(d,w){$.call(this,qr.STAT_EVENT,d),this.stat=w}A(Mi,$);function bn(d){const w=ri();ct(w,new Mi(w,d))}qr.Ma="timingevent";function Hr(d,w){$.call(this,qr.Ma,d),this.size=w}A(Hr,$);function dr(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},w)}function an(){this.g=!0}an.prototype.xa=function(){this.g=!1};function Jn(d,w,N,U,oe,ge){d.info(function(){if(d.g)if(ge)for(var je="",Wt=ge.split("&"),Ln=0;Ln<Wt.length;Ln++){var pt=Wt[Ln].split("=");if(1<pt.length){var mn=pt[0];pt=pt[1];var jn=mn.split("_");je=2<=jn.length&&jn[1]=="type"?je+(mn+"="+pt+"&"):je+(mn+"=redacted&")}}else je=null;else je=ge;return"XMLHTTP REQ ("+U+") [attempt "+oe+"]: "+w+`
`+N+`
`+je})}function or(d,w,N,U,oe,ge,je){d.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+oe+"]: "+w+`
`+N+`
`+ge+" "+je})}function ii(d,w,N,U){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+yi(d,N)+(U?" "+U:"")})}function ws(d,w){d.info(function(){return"TIMEOUT: "+w})}an.prototype.info=function(){};function yi(d,w){if(!d.g)return w;if(!w)return null;try{var N=JSON.parse(w);if(N){for(d=0;d<N.length;d++)if(Array.isArray(N[d])){var U=N[d];if(!(2>U.length)){var oe=U[1];if(Array.isArray(oe)&&!(1>oe.length)){var ge=oe[0];if(ge!="noop"&&ge!="stop"&&ge!="close")for(var je=1;je<oe.length;je++)oe[je]=""}}}}return sn(N)}catch{return w}}var $r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function br(){}A(br,at),br.prototype.g=function(){return new XMLHttpRequest},br.prototype.i=function(){return{}},Wr=new br;function Cr(d,w,N,U){this.j=d,this.i=w,this.l=N,this.R=U||1,this.U=new jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var _s={},xs={};function As(d,w,N){d.L=1,d.v=so(oi(w)),d.m=N,d.P=!0,no(d,null)}function no(d,w){d.F=Date.now(),ro(d),d.A=oi(d.v);var N=d.A,U=d.R;Array.isArray(U)||(U=[String(U)]),ft(N.i,"t",U),d.C=0,N=d.j.J,d.h=new vi,d.g=Rn(d.j,N?w:null,!d.m),0<d.O&&(d.M=new Cn(y(d.Y,d,d.g),d.O)),w=d.U,N=d.g,U=d.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(Pt[0]=oe.toString()),oe=Pt);for(var ge=0;ge<oe.length;ge++){var je=De(N,oe[ge],U||w.handleEvent,!1,w.h||w);if(!je)break;w.g[je.key]=je}w=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),et(),Jn(d.i,d.u,d.A,d.l,d.R,d.m)}Cr.prototype.ca=function(d){d=d.target;const w=this.M;w&&ai(d)==3?w.j():this.Y(d)},Cr.prototype.Y=function(d){try{if(d==this.g)e:{const jn=ai(this.g);var w=this.g.Ba();const as=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||jn!=4||w==7||(w==8||0>=as?et(3):et(2)),kr(this);var N=this.g.Z();this.X=N;t:if(Hl(this)){var U=el(this.g);d="";var oe=U.length,ge=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),ts(this);var je="";break t}this.h.i=new a.TextDecoder}for(w=0;w<oe;w++)this.h.h=!0,d+=this.h.i.decode(U[w],{stream:!(ge&&w==oe-1)});U.length=0,this.h.g+=d,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=N==200,or(this.i,this.u,this.A,this.l,this.R,jn,N),this.o){if(this.T&&!this.K){t:{if(this.g){var Wt,Ln=this.g;if((Wt=Ln.g?Ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Wt)){var pt=Wt;break t}}pt=null}if(N=pt)ii(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,io(this,N);else{this.o=!1,this.s=3,bn(12),Fi(this),ts(this);break e}}if(this.P){N=!0;let En;for(;!this.J&&this.C<je.length;)if(En=Wa(this,je),En==xs){jn==4&&(this.s=4,bn(14),N=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(En==_s){this.s=4,bn(15),ii(this.i,this.l,je,"[Invalid Chunk]"),N=!1;break}else ii(this.i,this.l,En,null),io(this,En);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||je.length!=0||this.h.h||(this.s=1,bn(16),N=!1),this.o=this.o&&N,!N)ii(this.i,this.l,je,"[Invalid Chunked Response]"),Fi(this),ts(this);else if(0<je.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),We(mn),mn.M=!0,bn(11))}}else ii(this.i,this.l,je,null),io(this,je);jn==4&&Fi(this),this.o&&!this.J&&(jn==4?Dt(this.j,this):(this.o=!1,ro(this)))}else ss(this.g),N==400&&0<je.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),Fi(this),ts(this)}}}catch{}finally{}};function Hl(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Wa(d,w){var N=d.C,U=w.indexOf(`
`,N);return U==-1?xs:(N=Number(w.substring(N,U)),isNaN(N)?_s:(U+=1,U+N>w.length?xs:(w=w.slice(U,U+N),d.C=U+N,w)))}Cr.prototype.cancel=function(){this.J=!0,Fi(this)};function ro(d){d.S=Date.now()+d.I,Ya(d,d.I)}function Ya(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=dr(y(d.ba,d),w)}function kr(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Cr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ws(this.i,this.A),this.L!=2&&(et(),bn(17)),Fi(this),this.s=2,ts(this)):Ya(this,this.S-d)};function ts(d){d.j.G==0||d.J||Dt(d.j,d)}function Fi(d){kr(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Ct(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function io(d,w){try{var N=d.j;if(N.G!=0&&(N.g==d||Ts(N.h,d))){if(!d.K&&Ts(N.h,d)&&N.G==3){try{var U=N.Da.g.parse(w)}catch{U=null}if(Array.isArray(U)&&U.length==3){var oe=U;if(oe[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<d.F)gt(N),uo(N);else break e;ze(N),bn(18)}}else N.za=oe[1],0<N.za-N.T&&37500>oe[2]&&N.F&&N.v==0&&!N.C&&(N.C=dr(y(N.Za,N),6e3));if(1>=bi(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else cn(N,11)}else if((d.K||N.g==d)&&gt(N),!F(w))for(oe=N.Da.g.parse(w),w=0;w<oe.length;w++){let pt=oe[w];if(N.T=pt[0],pt=pt[1],N.G==2)if(pt[0]=="c"){N.K=pt[1],N.ia=pt[2];const mn=pt[3];mn!=null&&(N.la=mn,N.j.info("VER="+N.la));const jn=pt[4];jn!=null&&(N.Aa=jn,N.j.info("SVER="+N.Aa));const as=pt[5];as!=null&&typeof as=="number"&&0<as&&(U=1.5*as,N.L=U,N.j.info("backChannelRequestTimeoutMs_="+U)),U=N;const En=d.g;if(En){const qi=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var ge=U.h;ge.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Xa(ge,ge.h),ge.h=null))}if(U.D){const ho=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(U.ya=ho,Xt(U.I,U.D,ho))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-d.F,N.j.info("Handshake RTT: "+N.R+"ms")),U=N;var je=d;if(U.qa=Mn(U,U.J?U.ia:null,U.W),je.K){kn(U.h,je);var Wt=je,Ln=U.L;Ln&&(Wt.I=Ln),Wt.B&&(kr(Wt),ro(Wt)),U.g=je}else Ie(U);0<N.i.length&&R(N)}else pt[0]!="stop"&&pt[0]!="close"||cn(N,7);else N.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?cn(N,7):os(N):pt[0]!="noop"&&N.l&&N.l.ta(pt),N.v=0)}}et(4)}catch{}}var $l=class{constructor(d,w){this.g=d,this.map=w}};function Ga(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function bi(d){return d.h?1:d.g?d.g.size:0}function Ts(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Xa(d,w){d.g?d.g.add(w):d.h=w}function kn(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Ga.prototype.cancel=function(){if(this.i=Ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ja(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const N of d.g.values())w=w.concat(N.D);return w}return _(d.i)}function Vi(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var w=[],N=d.length,U=0;U<N;U++)w.push(d[U]);return w}w=[],N=0;for(U in d)w[N++]=d[U];return w}function Do(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var w=[];d=d.length;for(var N=0;N<d;N++)w.push(N);return w}w=[],N=0;for(const U in d)w[N++]=U;return w}}}function Za(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var N=Do(d),U=Vi(d),oe=U.length,ge=0;ge<oe;ge++)w.call(void 0,U[ge],N&&N[ge],d)}var Yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zn(d,w){if(d){d=d.split("&");for(var N=0;N<d.length;N++){var U=d[N].indexOf("="),oe=null;if(0<=U){var ge=d[N].substring(0,U);oe=d[N].substring(U+1)}else ge=d[N];w(ge,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function wr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof wr){this.h=d.h,Mo(this,d.j),this.o=d.o,this.g=d.g,Fo(this,d.s),this.l=d.l;var w=d.i,N=new oo;N.i=w.i,w.g&&(N.g=new Map(w.g),N.h=w.h),wi(this,N),this.m=d.m}else d&&(w=String(d).match(Yr))?(this.h=!1,Mo(this,w[1]||"",!0),this.o=Bi(w[2]||""),this.g=Bi(w[3]||"",!0),Fo(this,w[4]),this.l=Bi(w[5]||"",!0),wi(this,w[6]||"",!0),this.m=Bi(w[7]||"")):(this.h=!1,this.i=new oo(null,this.h))}wr.prototype.toString=function(){var d=[],w=this.j;w&&d.push(_i(w,Wl,!0),":");var N=this.g;return(N||w=="file")&&(d.push("//"),(w=this.o)&&d.push(_i(w,Wl,!0),"@"),d.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&d.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&d.push("/"),d.push(_i(N,N.charAt(0)=="/"?Qa:nu,!0))),(N=this.i.toString())&&d.push("?",N),(N=this.m)&&d.push("#",_i(N,xi)),d.join("")};function oi(d){return new wr(d)}function Mo(d,w,N){d.j=N?Bi(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Fo(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function wi(d,w,N){w instanceof oo?(d.i=w,ru(d.i,d.h)):(N||(w=_i(w,Yl)),d.i=new oo(w,d.h))}function Xt(d,w,N){d.i.set(w,N)}function so(d){return Xt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Bi(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _i(d,w,N){return typeof d=="string"?(d=encodeURI(d).replace(w,tu),N&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function tu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Wl=/[#\/\?@]/g,nu=/[#\?:]/g,Qa=/[#\?]/g,Yl=/[#\?@]/g,xi=/#/g;function oo(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Rr(d){d.g||(d.g=new Map,d.h=0,d.i&&zn(d.i,function(w,N){d.add(decodeURIComponent(w.replace(/\+/g," ")),N)}))}t=oo.prototype,t.add=function(d,w){Rr(this),this.i=null,d=Es(this,d);var N=this.g.get(d);return N||this.g.set(d,N=[]),N.push(w),this.h+=1,this};function Vo(d,w){Rr(d),w=Es(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Gl(d,w){return Rr(d),w=Es(d,w),d.g.has(w)}t.forEach=function(d,w){Rr(this),this.g.forEach(function(N,U){N.forEach(function(oe){d.call(w,oe,U,this)},this)},this)},t.na=function(){Rr(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),N=[];for(let U=0;U<w.length;U++){const oe=d[U];for(let ge=0;ge<oe.length;ge++)N.push(w[U])}return N},t.V=function(d){Rr(this);let w=[];if(typeof d=="string")Gl(this,d)&&(w=w.concat(this.g.get(Es(this,d))));else{d=Array.from(this.g.values());for(let N=0;N<d.length;N++)w=w.concat(d[N])}return w},t.set=function(d,w){return Rr(this),this.i=null,d=Es(this,d),Gl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function ft(d,w,N){Vo(d,w),0<N.length&&(d.i=null,d.g.set(Es(d,w),_(N)),d.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var N=0;N<w.length;N++){var U=w[N];const ge=encodeURIComponent(String(U)),je=this.V(U);for(U=0;U<je.length;U++){var oe=ge;je[U]!==""&&(oe+="="+encodeURIComponent(String(je[U]))),d.push(oe)}}return this.i=d.join("&")};function Es(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function ru(d,w){w&&!d.j&&(Rr(d),d.i=null,d.g.forEach(function(N,U){var oe=U.toLowerCase();U!=oe&&(Vo(this,U),ft(this,oe,N))},d)),d.j=w}function iu(d,w){const N=new an;if(a.Image){const U=new Image;U.onload=f(fr,N,"TestLoadImage: loaded",!0,w,U),U.onerror=f(fr,N,"TestLoadImage: error",!1,w,U),U.onabort=f(fr,N,"TestLoadImage: abort",!1,w,U),U.ontimeout=f(fr,N,"TestLoadImage: timeout",!1,w,U),a.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=d}else w(!1)}function ns(d,w){const N=new an,U=new AbortController,oe=setTimeout(()=>{U.abort(),fr(N,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:U.signal}).then(ge=>{clearTimeout(oe),ge.ok?fr(N,"TestPingServer: ok",!0,w):fr(N,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(oe),fr(N,"TestPingServer: error",!1,w)})}function fr(d,w,N,U,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),U(N)}catch{}}function su(){this.g=new on}function ou(d,w,N){const U=N||"";try{Za(d,function(oe,ge){let je=oe;c(oe)&&(je=sn(oe)),w.push(U+ge+"="+encodeURIComponent(je))})}catch(oe){throw w.push(U+"type="+encodeURIComponent("_badmap")),oe}}function rs(d){this.l=d.Ub||null,this.j=d.eb||!1}A(rs,at),rs.prototype.g=function(){return new Ss(this.l,this.j)},rs.prototype.i=function(d){return function(){return d}}({});function Ss(d,w){lt.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ss,lt),t=Ss.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Gr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ns(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ns(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?ao(this):Gr(this),this.readyState==3&&Ns(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ao(this))},t.Qa=function(d){this.g&&(this.response=d,ao(this))},t.ga=function(){this.g&&ao(this)};function ao(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Gr(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var N=w.next();!N.done;)N=N.value,d.push(N[0]+": "+N[1]),N=w.next();return d.join(`\r
`)};function Gr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Kl(d){let w="";return ne(d,function(N,U){w+=U,w+=":",w+=N,w+=`\r
`}),w}function lo(d,w,N){e:{for(U in N){var U=!1;break e}U=!0}U||(N=Kl(N),typeof d=="string"?N!=null&&encodeURIComponent(String(N)):Xt(d,w,N))}function ln(d){lt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ln,lt);var Xl=/^https?$/i,is=["POST","PUT"];t=ln.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,N,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?bt(this.o):bt(Wr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(ge){Bo(this,ge);return}if(d=N||"",N=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var oe in U)N.set(oe,U[oe]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ge of U.keys())N.set(ge,U.get(ge));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(N.keys()).find(ge=>ge.toLowerCase()=="content-type"),oe=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(is,w,void 0))||U||oe||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,je]of N)this.g.setRequestHeader(ge,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zo(this),this.u=!0,this.g.send(d),this.u=!1}catch(ge){Bo(this,ge)}};function Bo(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,co(d),Ui(d)}function co(d){d.A||(d.A=!0,ct(d,"complete"),ct(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ct(this,"complete"),ct(this,"abort"),Ui(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),ln.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Uo(this):this.bb())},t.bb=function(){Uo(this)};function Uo(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ai(d)!=4||d.Z()!=2)){if(d.u&&ai(d)==4)wt(d.Ea,0,d);else if(ct(d,"readystatechange"),ai(d)==4){d.h=!1;try{const je=d.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var N;if(!(N=w)){var U;if(U=je===0){var oe=String(d.D).match(Yr)[1]||null;!oe&&a.self&&a.self.location&&(oe=a.self.location.protocol.slice(0,-1)),U=!Xl.test(oe?oe.toLowerCase():"")}N=U}if(N)ct(d,"complete"),ct(d,"success");else{d.m=6;try{var ge=2<ai(d)?d.g.statusText:""}catch{ge=""}d.l=ge+" ["+d.Z()+"]",co(d)}}finally{Ui(d)}}}}function Ui(d,w){if(d.g){zo(d);const N=d.g,U=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||ct(d,"ready");try{N.onreadystatechange=U}catch{}}}function zo(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ai(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),nt(w)}};function el(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(d){const w={};d=(d.g&&2<=ai(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<d.length;U++){if(F(d[U]))continue;var N=T(d[U]);const oe=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ge=w[oe]||[];w[oe]=ge,ge.push(N)}B(w,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(d,w,N){return N&&N.internalChannelParams&&N.internalChannelParams[d]||w}function tl(d){this.Aa=0,this.i=[],this.j=new an,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,d),this.cb=Kr("retryDelaySeedMs",1e4,d),this.Wa=Kr("forwardChannelMaxRetries",2,d),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ga(d&&d.concurrentRequestLimit),this.Da=new su,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tl.prototype,t.la=8,t.G=1,t.connect=function(d,w,N,U){bn(0),this.W=d,this.H=w||{},N&&U!==void 0&&(this.H.OSID=N,this.H.OAID=U),this.F=this.X,this.I=Mn(this,null,this.W),R(this)};function os(d){if(v(d),d.G==3){var w=d.U++,N=oi(d.I);if(Xt(N,"SID",d.K),Xt(N,"RID",w),Xt(N,"TYPE","terminate"),ae(d,N),w=new Cr(d,d.j,w),w.L=2,w.v=so(oi(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!N&&a.Image&&(new Image().src=w.v,N=!0),N||(w.g=Rn(w.j,null),w.g.ea(w.v)),w.F=Date.now(),ro(w)}Qt(d)}function uo(d){d.g&&(We(d),d.g.cancel(),d.g=null)}function v(d){uo(d),d.u&&(a.clearTimeout(d.u),d.u=null),gt(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function R(d){if(!Ka(d.h)&&!d.s){d.s=!0;var w=d.Ga;me||Re(),le||(me(),le=!0),ye.add(w,d),d.B=0}}function G(d,w){return bi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=dr(y(d.Ga,d,w),pn(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const oe=new Cr(this,this.j,d);let ge=this.o;if(this.S&&(ge?(ge=P(ge),D(ge,this.S)):ge=this.S),this.m!==null||this.O||(oe.H=ge,ge=null),this.P)e:{for(var w=0,N=0;N<this.i.length;N++){t:{var U=this.i[N];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(w+=U,4096<w){w=N;break e}if(w===4096||N===this.i.length-1){w=N+1;break e}}w=1e3}else w=1e3;w=Ae(this,oe,w),N=oi(this.I),Xt(N,"RID",d),Xt(N,"CVER",22),this.D&&Xt(N,"X-HTTP-Session-Id",this.D),ae(this,N),ge&&(this.O?w="headers="+encodeURIComponent(String(Kl(ge)))+"&"+w:this.m&&lo(N,this.m,ge)),Xa(this.h,oe),this.Ua&&Xt(N,"TYPE","init"),this.P?(Xt(N,"$req",w),Xt(N,"SID","null"),oe.T=!0,As(oe,N,null)):As(oe,N,w),this.G=2}}else this.G==3&&(d?Q(this,d):this.i.length==0||Ka(this.h)||Q(this))};function Q(d,w){var N;w?N=w.l:N=d.U++;const U=oi(d.I);Xt(U,"SID",d.K),Xt(U,"RID",N),Xt(U,"AID",d.T),ae(d,U),d.m&&d.o&&lo(U,d.m,d.o),N=new Cr(d,d.j,N,d.B+1),d.m===null&&(N.H=d.o),w&&(d.i=w.D.concat(d.i)),w=Ae(d,N,1e3),N.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Xa(d.h,N),As(N,U,w)}function ae(d,w){d.H&&ne(d.H,function(N,U){Xt(w,U,N)}),d.l&&Za({},function(N,U){Xt(w,U,N)})}function Ae(d,w,N){N=Math.min(d.i.length,N);var U=d.l?y(d.l.Na,d.l,d):null;e:{var oe=d.i;let ge=-1;for(;;){const je=["count="+N];ge==-1?0<N?(ge=oe[0].g,je.push("ofs="+ge)):ge=0:je.push("ofs="+ge);let Wt=!0;for(let Ln=0;Ln<N;Ln++){let pt=oe[Ln].g;const mn=oe[Ln].map;if(pt-=ge,0>pt)ge=Math.max(0,oe[Ln].g-100),Wt=!1;else try{ou(mn,je,"req"+pt+"_")}catch{U&&U(mn)}}if(Wt){U=je.join("&");break e}}}return d=d.i.splice(0,N),w.D=d,U}function Ie(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;me||Re(),le||(me(),le=!0),ye.add(w,d),d.v=0}}function ze(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=dr(y(d.Fa,d),pn(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,ut(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=dr(y(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),uo(this),ut(this))};function We(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function ut(d){d.g=new Cr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=oi(d.qa);Xt(w,"RID","rpc"),Xt(w,"SID",d.K),Xt(w,"AID",d.T),Xt(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&Xt(w,"TO",d.ja),Xt(w,"TYPE","xmlhttp"),ae(d,w),d.m&&d.o&&lo(w,d.m,d.o),d.L&&(d.g.I=d.L);var N=d.g;d=d.ia,N.L=1,N.v=so(oi(w)),N.m=null,N.P=!0,no(N,d)}t.Za=function(){this.C!=null&&(this.C=null,uo(this),ze(this),bn(19))};function gt(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Dt(d,w){var N=null;if(d.g==w){gt(d),We(d),d.g=null;var U=2}else if(Ts(d.h,w))N=w.D,kn(d.h,w),U=1;else return;if(d.G!=0){if(w.o)if(U==1){N=w.m?w.m.length:0,w=Date.now()-w.F;var oe=d.B;U=ri(),ct(U,new Hr(U,N)),R(d)}else Ie(d);else if(oe=w.s,oe==3||oe==0&&0<w.X||!(U==1&&G(d,w)||U==2&&ze(d)))switch(N&&0<N.length&&(w=d.h,w.i=w.i.concat(N)),oe){case 1:cn(d,5);break;case 4:cn(d,10);break;case 3:cn(d,6);break;default:cn(d,2)}}}function pn(d,w){let N=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(N*=2),N*w}function cn(d,w){if(d.j.info("Error code "+w),w==2){var N=y(d.fb,d),U=d.Xa;const oe=!U;U=new wr(U||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mo(U,"https"),so(U),oe?iu(U.toString(),N):ns(U.toString(),N)}else bn(2);d.G=0,d.l&&d.l.sa(w),Qt(d),v(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function Qt(d){if(d.G=0,d.ka=[],d.l){const w=Ja(d.h);(w.length!=0||d.i.length!=0)&&(E(d.ka,w),E(d.ka,d.i),d.h.i.length=0,_(d.i),d.i.length=0),d.l.ra()}}function Mn(d,w,N){var U=N instanceof wr?oi(N):new wr(N);if(U.g!="")w&&(U.g=w+"."+U.g),Fo(U,U.s);else{var oe=a.location;U=oe.protocol,w=w?w+"."+oe.hostname:oe.hostname,oe=+oe.port;var ge=new wr(null);U&&Mo(ge,U),w&&(ge.g=w),oe&&Fo(ge,oe),N&&(ge.l=N),U=ge}return N=d.D,w=d.ya,N&&w&&Xt(U,N,w),Xt(U,"VER",d.la),ae(d,U),U}function Rn(d,w,N){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new ln(new rs({eb:N})):new ln(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zn(){}t=Zn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function li(){}li.prototype.g=function(d,w){return new wn(d,w)};function wn(d,w){lt.call(this),this.g=new tl(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!F(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!F(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Ai(this)}A(wn,lt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){os(this.g)},wn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var N={};N.__data__=d,d=N}else this.u&&(N={},N.__data__=sn(d),d=N);w.i.push(new $l(w.Ya++,d)),w.G==3&&R(w)},wn.prototype.N=function(){this.g.l=null,delete this.j,os(this.g),delete this.g,wn.aa.N.call(this)};function zi(d){st.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const N in w){d=N;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}A(zi,st);function qo(){qt.call(this),this.status=1}A(qo,qt);function Ai(d){this.g=d}A(Ai,Zn),Ai.prototype.ua=function(){ct(this.g,"a")},Ai.prototype.ta=function(d){ct(this.g,new zi(d))},Ai.prototype.sa=function(d){ct(this.g,new qo)},Ai.prototype.ra=function(){ct(this.g,"b")},li.prototype.createWebChannel=li.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Hx=function(){return new li},qx=function(){return ri()},zx=qr,cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,Ld=$r,si.COMPLETE="complete",Ux=si,un.EventType=At,At.OPEN="a",At.CLOSE="b",At.ERROR="c",At.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Cu=un,ln.prototype.listenOnce=ln.prototype.L,ln.prototype.getLastError=ln.prototype.Ka,ln.prototype.getLastErrorCode=ln.prototype.Ba,ln.prototype.getStatus=ln.prototype.Z,ln.prototype.getResponseJson=ln.prototype.Oa,ln.prototype.getResponseText=ln.prototype.oa,ln.prototype.send=ln.prototype.ea,ln.prototype.setWithCredentials=ln.prototype.Ha,Bx=ln}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore",tv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new x0("@firebase/firestore");function oc(){return Sl.logLevel}function Be(t,...e){if(Sl.logLevel<=Ft.DEBUG){const n=e.map(E0);Sl.debug(`Firestore (${Wc}): ${t}`,...n)}}function ko(t,...e){if(Sl.logLevel<=Ft.ERROR){const n=e.map(E0);Sl.error(`Firestore (${Wc}): ${t}`,...n)}}function ja(t,...e){if(Sl.logLevel<=Ft.WARN){const n=e.map(E0);Sl.warn(`Firestore (${Wc}): ${t}`,...n)}}function E0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$x(t,r,n)}function $x(t,e,n){let r=`FIRESTORE (${Wc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ko(r),new Error(r)}function Zt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||$x(e,i,r)}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Oo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Br.UNAUTHENTICATED))}shutdown(){}}class LL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jL{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Zt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Sa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sa,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sa)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt(typeof r.accessToken=="string",31837,{l:r}),new Wx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zt(e===null||typeof e=="string",2055,{h:e}),new Br(e)}}class OL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Br.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ML{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Os(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Zt(this.o===void 0,3512);const r=s=>{s.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Zt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=FL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function ug(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ot(r,i);{const s=Yx(),o=VL(s.encode(rv(t,n)),s.encode(rv(e,n)));return o!==0?o:Ot(r,i)}}n+=r>65535?2:1}return Ot(t.length,e.length)}function rv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function VL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ot(t[n],e[n]);return Ot(t.length,e.length)}function Lc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="__name__";class Ls{constructor(e,n,r){n===void 0?n=0:n>e.length&&dt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&dt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ls.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ot(e.length,n.length)}static compareSegments(e,n){const r=Ls.isNumericId(e),i=Ls.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ls.extractNumericId(e).compare(Ls.extractNumericId(n)):ug(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ea.fromString(e.substring(4,e.length-2))}}class yn extends Ls{construct(e,n,r){return new yn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yn(n)}static emptyPath(){return new yn([])}}const BL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nr extends Ls{construct(e,n,r){return new Nr(e,n,r)}static isValidIdentifier(e){return BL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iv}static keyField(){return new Nr([iv])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ve(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ve(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ve(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ve(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nr(n)}static emptyPath(){return new Nr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(yn.fromString(e))}static fromName(e){return new rt(yn.fromString(e).popFirst(5))}static empty(){return new rt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new yn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t,e,n){if(!n)throw new Ve(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UL(t,e,n,r){if(e===!0&&r===!0)throw new Ve(Se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sv(t){if(!rt.isDocumentKey(t))throw new Ve(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ov(t){if(rt.isDocumentKey(t))throw new Ve(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":dt(12329,{type:typeof t})}function rh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gf(t);throw new Ve(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zL(t,e){if(e<=0)throw new Ve(Se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ch(t,e){if(!Kx(t))throw new Ve(Se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ve(Se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=-62135596800,lv=1e6;class An{static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*lv);return new An(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<av)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lv}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:An._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ch(e,An._jsonSchema))return new An(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-av;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}An._jsonSchemaVersion="firestore/timestamp/1.0",An._jsonSchema={type:rr("string",An._jsonSchemaVersion),seconds:rr("number"),nanoseconds:rr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(e){return new xt(e)}static min(){return new xt(new An(0,0))}static max(){return new xt(new An(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=-1;function qL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(r===1e9?new An(n+1,0):new An(n,r));return new Oa(i,rt.empty(),e)}function HL(t){return new Oa(t.readTime,t.key,ih)}class Oa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oa(xt.min(),rt.empty(),ih)}static max(){return new Oa(xt.max(),rt.empty(),ih)}}function $L(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==WL)throw t;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.reject(n)}static resolve(e){return new Ne((n,r)=>{n(e)})}static reject(e){return new Ne((n,r)=>{r(e)})}static waitFor(e){return new Ne((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ne.resolve(!1);for(const r of e)n=n.next(i=>i?Ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ne((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new Ne((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function GL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Kf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=-1;function Xf(t){return t==null}function df(t){return t===0&&1/t==-1/0}function KL(t){return typeof t=="number"&&Number.isInteger(t)&&!df(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="";function XL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cv(e)),e=JL(t.get(n),e);return cv(e)}function JL(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Xx:n+="";break;default:n+=s}}return n}function cv(t){return t+Xx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.comparator=e,this.root=n||Er.EMPTY}insert(e,n){return new Dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new Dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Er.RED,this.left=i??Er.EMPTY,this.right=s??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Er(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.comparator=e,this.data=new Dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(e){return new hv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hr(this.comparator);return n.data=e,n}}class hv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.fields=e,e.sort(Nr.comparator)}static empty(){return new ps([])}unionWith(e){let n=new hr(Nr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ps(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Zx("Invalid base64 string: "+s):s}}(e);return new Pr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const ZL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(t){if(Zt(!!t,39018),typeof t=="string"){let e=0;const n=ZL.exec(t);if(Zt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(t.seconds),nanos:Yn(t.nanos)}}function Yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ma(t){return typeof t=="string"?Pr.fromBase64String(t):Pr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="server_timestamp",e4="__type__",t4="__previous_value__",n4="__local_write_time__";function I0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[e4])===null||n===void 0?void 0:n.stringValue)===Qx}function Jf(t){const e=t.mapValue.fields[t4];return I0(e)?Jf(e):e}function sh(t){const e=Da(t.mapValue.fields[n4].timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i,s,o,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const ff="(default)";class oh{constructor(e,n){this.projectId=e,this.database=n||ff}static empty(){return new oh("","")}get isDefaultDatabase(){return this.database===ff}isEqual(e){return e instanceof oh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="__type__",i4="__max__",md={mapValue:{fields:{__type__:{stringValue:i4}}}},s4="__vector__",pf="value";function Fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I0(t)?4:t8(t)?9007199254740991:e8(t)?10:11:dt(28295,{value:t})}function eo(t,e){if(t===e)return!0;const n=Fa(t);if(n!==Fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sh(t).isEqual(sh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Da(i.timestampValue),a=Da(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ma(i.bytesValue).isEqual(Ma(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yn(i.geoPointValue.latitude)===Yn(s.geoPointValue.latitude)&&Yn(i.geoPointValue.longitude)===Yn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yn(i.integerValue)===Yn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yn(i.doubleValue),a=Yn(s.doubleValue);return o===a?df(o)===df(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Lc(t.arrayValue.values||[],e.arrayValue.values||[],eo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(uv(o)!==uv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!eo(o[l],a[l])))return!1;return!0}(t,e);default:return dt(52216,{left:t})}}function ah(t,e){return(t.values||[]).find(n=>eo(n,e))!==void 0}function jc(t,e){if(t===e)return 0;const n=Fa(t),r=Fa(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yn(s.integerValue||s.doubleValue),l=Yn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return dv(t.timestampValue,e.timestampValue);case 4:return dv(sh(t),sh(e));case 5:return ug(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ma(s),l=Ma(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ot(a[c],l[c]);if(u!==0)return u}return Ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ot(Yn(s.latitude),Yn(o.latitude));return a!==0?a:Ot(Yn(s.longitude),Yn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fv(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const m=s.fields||{},y=o.fields||{},f=(a=m[pf])===null||a===void 0?void 0:a.arrayValue,A=(l=y[pf])===null||l===void 0?void 0:l.arrayValue,_=Ot(((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0,((u=A==null?void 0:A.values)===null||u===void 0?void 0:u.length)||0);return _!==0?_:fv(f,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===md.mapValue&&o===md.mapValue)return 0;if(s===md.mapValue)return 1;if(o===md.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let m=0;m<l.length&&m<u.length;++m){const y=ug(l[m],u[m]);if(y!==0)return y;const f=jc(a[l[m]],c[u[m]]);if(f!==0)return f}return Ot(l.length,u.length)}(t.mapValue,e.mapValue);default:throw dt(23264,{le:n})}}function dv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=Da(t),r=Da(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function fv(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=jc(n[i],r[i]);if(s)return s}return Ot(n.length,r.length)}function Oc(t){return hg(t)}function hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Da(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ma(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return rt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=hg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${hg(n.fields[o])}`;return i+"}"}(t.mapValue):dt(61005,{value:t})}function jd(t){switch(Fa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jf(t);return e?16+jd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ma(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+jd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Fl(r.fields,(s,o)=>{i+=s.length+jd(o)}),i}(t.mapValue);default:throw dt(13486,{value:t})}}function pv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dg(t){return!!t&&"integerValue"in t}function P0(t){return!!t&&"arrayValue"in t}function mv(t){return!!t&&"nullValue"in t}function gv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Od(t){return!!t&&"mapValue"in t}function e8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[r4])===null||n===void 0?void 0:n.stringValue)===s4}function Uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function t8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===i4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=Nr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Uu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return eo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xi(Uu(this.value))}}function o4(t){const e=[];return Fl(t.fields,(n,r)=>{const i=new Nr([n]);if(Od(r)){const s=o4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ps(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ur(e,0,xt.min(),xt.min(),xt.min(),Xi.empty(),0)}static newFoundDocument(e,n,r,i){return new Ur(e,1,n,xt.min(),r,i,0)}static newNoDocument(e,n){return new Ur(e,2,n,xt.min(),xt.min(),Xi.empty(),0)}static newUnknownDocument(e,n){return new Ur(e,3,n,xt.min(),xt.min(),Xi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.position=e,this.inclusive=n}}function yv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=rt.comparator(rt.fromName(o.referenceValue),n.key):r=jc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!eo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function n8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{}class nr extends a4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i8(e,n,r):n==="array-contains"?new a8(e,r):n==="in"?new l8(e,r):n==="not-in"?new c8(e,r):n==="array-contains-any"?new u8(e,r):new nr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s8(e,r):new o8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jc(n,this.value)):n!==null&&Fa(this.value)===Fa(n)&&this.matchesComparison(jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gs extends a4{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new gs(e,n)}matches(e){return l4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function l4(t){return t.op==="and"}function c4(t){return r8(t)&&l4(t)}function r8(t){for(const e of t.filters)if(e instanceof gs)return!1;return!0}function fg(t){if(t instanceof nr)return t.field.canonicalString()+t.op.toString()+Oc(t.value);if(c4(t))return t.filters.map(e=>fg(e)).join(",");{const e=t.filters.map(n=>fg(n)).join(",");return`${t.op}(${e})`}}function u4(t,e){return t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.field.isEqual(i.field)&&eo(r.value,i.value)}(t,e):t instanceof gs?function(r,i){return i instanceof gs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&u4(o,i.filters[a]),!0):!1}(t,e):void dt(19439)}function h4(t){return t instanceof nr?function(n){return`${n.field.canonicalString()} ${n.op} ${Oc(n.value)}`}(t):t instanceof gs?function(n){return n.op.toString()+" {"+n.getFilters().map(h4).join(" ,")+"}"}(t):"Filter"}class i8 extends nr{constructor(e,n,r){super(e,n,r),this.key=rt.fromName(r.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}}class s8 extends nr{constructor(e,n){super(e,"in",n),this.keys=d4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o8 extends nr{constructor(e,n){super(e,"not-in",n),this.keys=d4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function d4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}class a8 extends nr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return P0(n)&&ah(n.arrayValue,this.value)}}class l8 extends nr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ah(this.value.arrayValue,n)}}class c8 extends nr{constructor(e,n){super(e,"not-in",n)}matches(e){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ah(this.value.arrayValue,n)}}class u8 extends nr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!P0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ah(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function bv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new h8(t,e,n,r,i,s,o)}function C0(t){const e=Et(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oc(r)).join(",")),e.Pe=n}return e.Pe}function k0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vv(t.startAt,e.startAt)&&vv(t.endAt,e.endAt)}function pg(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function d8(t,e,n,r,i,s,o,a){return new Kc(t,e,n,r,i,s,o,a)}function f4(t){return new Kc(t)}function wv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p4(t){return t.collectionGroup!==null}function zu(t){const e=Et(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new hr(Nr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new lh(s,r))}),n.has(Nr.keyField().canonicalString())||e.Te.push(new lh(Nr.keyField(),r))}return e.Te}function Us(t){const e=Et(t);return e.Ie||(e.Ie=f8(e,zu(t))),e.Ie}function f8(t,e){if(t.limitType==="F")return bv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lh(i.field,s)});const n=t.endAt?new mf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mf(t.startAt.position,t.startAt.inclusive):null;return bv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mg(t,e){const n=t.filters.concat([e]);return new Kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gf(t,e,n){return new Kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zf(t,e){return k0(Us(t),Us(e))&&t.limitType===e.limitType}function m4(t){return`${C0(Us(t))}|lt:${t.limitType}`}function ac(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>h4(i)).join(", ")}]`),Xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oc(i)).join(",")),`Target(${r})`}(Us(t))}; limitType=${t.limitType})`}function Qf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):rt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of zu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=yv(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,zu(r),i)||r.endAt&&!function(o,a,l){const c=yv(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,zu(r),i))}(t,e)}function p8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function g4(t){return(e,n)=>{let r=!1;for(const i of zu(t)){const s=m8(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function m8(t,e,n){const r=t.field.isKeyField()?rt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?jc(l,c):dt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Jx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new Dn(rt.comparator);function Ro(){return g8}const y4=new Dn(rt.comparator);function ku(...t){let e=y4;for(const n of t)e=e.insert(n.key,n);return e}function v4(t){let e=y4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ml(){return qu()}function b4(){return qu()}function qu(){return new Vl(t=>t.toString(),(t,e)=>t.isEqual(e))}const y8=new Dn(rt.comparator),v8=new hr(rt.comparator);function Vt(...t){let e=v8;for(const n of t)e=e.add(n);return e}const b8=new hr(Ot);function w8(){return b8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(e)?"-0":e}}function w4(t){return{integerValue:""+t}}function _8(t,e){return KL(e)?w4(e):R0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this._=void 0}}function x8(t,e,n){return t instanceof ch?function(i,s){const o={fields:{[e4]:{stringValue:Qx},[n4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&I0(s)&&(s=Jf(s)),s&&(o.fields[t4]=s),{mapValue:o}}(n,e):t instanceof uh?x4(t,e):t instanceof hh?A4(t,e):function(i,s){const o=_4(i,s),a=_v(o)+_v(i.Ee);return dg(o)&&dg(i.Ee)?w4(a):R0(i.serializer,a)}(t,e)}function A8(t,e,n){return t instanceof uh?x4(t,e):t instanceof hh?A4(t,e):n}function _4(t,e){return t instanceof yf?function(r){return dg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ch extends ep{}class uh extends ep{constructor(e){super(),this.elements=e}}function x4(t,e){const n=T4(e);for(const r of t.elements)n.some(i=>eo(i,r))||n.push(r);return{arrayValue:{values:n}}}class hh extends ep{constructor(e){super(),this.elements=e}}function A4(t,e){let n=T4(e);for(const r of t.elements)n=n.filter(i=>!eo(i,r));return{arrayValue:{values:n}}}class yf extends ep{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function _v(t){return Yn(t.integerValue||t.doubleValue)}function T4(t){return P0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,n){this.field=e,this.transform=n}}function E8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uh&&i instanceof uh||r instanceof hh&&i instanceof hh?Lc(r.elements,i.elements,eo):r instanceof yf&&i instanceof yf?eo(r.Ee,i.Ee):r instanceof ch&&i instanceof ch}(t.transform,e.transform)}class S8{constructor(e,n){this.version=e,this.transformResults=n}}class zs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zs}static exists(e){return new zs(void 0,e)}static updateTime(e){return new zs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tp{}function E4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new L0(t.key,zs.none()):new kh(t.key,t.data,zs.none());{const n=t.data,r=Xi.empty();let i=new hr(Nr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bl(t.key,r,new ps(i.toArray()),zs.none())}}function N8(t,e,n){t instanceof kh?function(i,s,o){const a=i.value.clone(),l=Av(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bl?function(i,s,o){if(!Dd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Av(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(S4(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Hu(t,e,n,r){return t instanceof kh?function(s,o,a,l){if(!Dd(s.precondition,o))return a;const c=s.value.clone(),u=Tv(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bl?function(s,o,a,l){if(!Dd(s.precondition,o))return a;const c=Tv(s.fieldTransforms,l,o),u=o.data;return u.setAll(S4(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,a){return Dd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function I8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_4(r.transform,i||null);s!=null&&(n===null&&(n=Xi.empty()),n.set(r.field,s))}return n||null}function xv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lc(r,i,(s,o)=>E8(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kh extends tp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bl extends tp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function S4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Av(t,e,n){const r=new Map;Zt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,A8(o,a,n[i]))}return r}function Tv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,x8(s,o,e))}return r}class L0 extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P8 extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&N8(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=E4(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Vt())}isEqual(e){return this.batchId===e.batchId&&Lc(this.mutations,e.mutations,(n,r)=>xv(n,r))&&Lc(this.baseMutations,e.baseMutations,(n,r)=>xv(n,r))}}class j0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Zt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return y8}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new j0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er,$t;function L8(t){switch(t){case Se.OK:return dt(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return dt(15467,{code:t})}}function N4(t){if(t===void 0)return ko("GRPC error has no .code"),Se.UNKNOWN;switch(t){case er.OK:return Se.OK;case er.CANCELLED:return Se.CANCELLED;case er.UNKNOWN:return Se.UNKNOWN;case er.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case er.INTERNAL:return Se.INTERNAL;case er.UNAVAILABLE:return Se.UNAVAILABLE;case er.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case er.NOT_FOUND:return Se.NOT_FOUND;case er.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case er.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case er.ABORTED:return Se.ABORTED;case er.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case er.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case er.DATA_LOSS:return Se.DATA_LOSS;default:return dt(39323,{code:t})}}($t=er||(er={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=new Ea([4294967295,4294967295],0);function Ev(t){const e=Yx().encode(t),n=new Vx;return n.update(e),new Uint8Array(n.digest())}function Sv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ea([n,r],0),new Ea([i,s],0)]}class O0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ru(`Invalid padding: ${n}`);if(r<0)throw new Ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ea.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Ea.fromNumber(r)));return i.compare(j8)===1&&(i=new Ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Ev(e),[r,i]=Sv(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new O0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=Ev(e),[r,i]=Sv(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new np(xt.min(),i,new Dn(Ot),Ro(),Vt())}}class Rh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rh(r,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class I4{constructor(e,n){this.targetId=e,this.De=n}}class P4{constructor(e,n,r=Pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Nv{constructor(){this.ve=0,this.Ce=Iv(),this.Fe=Pr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Vt(),n=Vt(),r=Vt();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:dt(38017,{changeType:s})}}),new Rh(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=Iv()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class O8{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ro(),this.je=gd(),this.Je=gd(),this.He=new Dn(Ot)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(pg(s))if(r===0){const o=new rt(s.path);this.Xe(n,o,Ur.newNoDocument(o,xt.min()))}else Zt(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ma(r).toUint8Array()}catch(l){if(l instanceof Zx)return ja("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new O0(o,i,s)}catch(l){return ja(l instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&pg(a.target)){const l=new rt(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Ur.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=Vt();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new np(e,n,this.He,this.ze,r);return this.ze=Ro(),this.je=gd(),this.Je=gd(),this.He=new Dn(Ot),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Nv,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new hr(Ot),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new hr(Ot),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Be("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Nv),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function gd(){return new Dn(rt.comparator)}function Iv(){return new Dn(rt.comparator)}const D8=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),M8=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),F8=(()=>({and:"AND",or:"OR"}))();class V8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gg(t,e){return t.useProto3Json||Xf(e)?e:{value:e}}function vf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function B8(t,e){return vf(t,e.toTimestamp())}function qs(t){return Zt(!!t,49232),xt.fromTimestamp(function(n){const r=Da(n);return new An(r.seconds,r.nanos)}(t))}function D0(t,e){return yg(t,e).canonicalString()}function yg(t,e){const n=function(i){return new yn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function k4(t){const e=yn.fromString(t);return Zt(D4(e),10190,{key:e.toString()}),e}function vg(t,e){return D0(t.databaseId,e.path)}function Zp(t,e){const n=k4(e);if(n.get(1)!==t.databaseId.projectId)throw new Ve(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ve(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(L4(n))}function R4(t,e){return D0(t.databaseId,e)}function U8(t){const e=k4(t);return e.length===4?yn.emptyPath():L4(e)}function bg(t){return new yn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L4(t){return Zt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Pv(t,e,n){return{name:vg(t,e),fields:n.value.mapValue.fields}}function z8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:dt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Zt(u===void 0||typeof u=="string",58123),Pr.fromBase64String(u||"")):(Zt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Pr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Se.UNKNOWN:N4(c.code);return new Ve(u,c.message||"")}(o);n=new P4(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zp(t,r.document.name),s=qs(r.document.updateTime),o=r.document.createTime?qs(r.document.createTime):xt.min(),a=new Xi({mapValue:{fields:r.document.fields}}),l=Ur.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Md(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zp(t,r.document),s=r.readTime?qs(r.readTime):xt.min(),o=Ur.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Md([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zp(t,r.document),s=r.removedTargetIds||[];n=new Md([],s,i,null)}else{if(!("filter"in e))return dt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new R8(i,s),a=r.targetId;n=new I4(a,o)}}return n}function q8(t,e){let n;if(e instanceof kh)n={update:Pv(t,e.key,e.value)};else if(e instanceof L0)n={delete:vg(t,e.key)};else if(e instanceof Bl)n={update:Pv(t,e.key,e.data),updateMask:Z8(e.fieldMask)};else{if(!(e instanceof P8))return dt(16599,{Rt:e.type});n={verify:vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yf)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw dt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:B8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:dt(27497)}(t,e.precondition)),n}function H8(t,e){return t&&t.length>0?(Zt(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?qs(i.updateTime):qs(s);return o.isEqual(xt.min())&&(o=qs(s)),new S8(o,i.transformResults||[])}(n,e))):[]}function $8(t,e){return{documents:[R4(t,e.path)]}}function W8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=R4(t,i);const s=function(c){if(c.length!==0)return O4(gs.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(y){return{field:lc(y.field),direction:K8(y.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function Y8(t){let e=U8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Zt(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(m){const y=j4(m);return y instanceof gs&&c4(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(y=>function(A){return new lh(cc(A.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(m){let y;return y=typeof m=="object"?m.value:m,Xf(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(m){const y=!!m.before,f=m.values||[];return new mf(f,y)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const y=!m.before,f=m.values||[];return new mf(f,y)}(n.endAt)),d8(e,i,o,s,a,"F",l,c)}function G8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cc(n.unaryFilter.field);return nr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cc(n.unaryFilter.field);return nr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cc(n.unaryFilter.field);return nr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cc(n.unaryFilter.field);return nr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(t):t.fieldFilter!==void 0?function(n){return nr.create(cc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gs.create(n.compositeFilter.filters.map(r=>j4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(n.compositeFilter.op))}(t):dt(30097,{filter:t})}function K8(t){return D8[t]}function X8(t){return M8[t]}function J8(t){return F8[t]}function lc(t){return{fieldPath:t.canonicalString()}}function cc(t){return Nr.fromServerFormat(t.fieldPath)}function O4(t){return t instanceof nr?function(n){if(n.op==="=="){if(gv(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NAN"}};if(mv(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gv(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NOT_NAN"}};if(mv(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lc(n.field),op:X8(n.op),value:n.value}}}(t):t instanceof gs?function(n){const r=n.getFilters().map(i=>O4(i));return r.length===1?r[0]:{compositeFilter:{op:J8(n.op),filters:r}}}(t):dt(54877,{filter:t})}function Z8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function D4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,r,i,s=xt.min(),o=xt.min(),a=Pr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.gt=e}}function e7(t){const e=Y8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this.Dn=new n7}addToCollectionParentIndex(e,n){return this.Dn.add(n),Ne.resolve()}getCollectionParents(e,n){return Ne.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Ne.resolve()}deleteFieldIndex(e,n){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,n){return Ne.resolve()}getDocumentsMatchingTarget(e,n){return Ne.resolve(null)}getIndexType(e,n){return Ne.resolve(0)}getFieldIndexes(e,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,n){return Ne.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,n){return Ne.resolve(Oa.min())}updateCollectionGroup(e,n,r){return Ne.resolve()}updateIndexEntries(e,n){return Ne.resolve()}}class n7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hr(yn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hr(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},M4=41943040;class di{static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(M4,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Dc(0)}static ur(){return new Dc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="LruGarbageCollector",r7=1048576;function Rv([t,e],[n,r]){const i=Ot(t,n);return i===0?Ot(e,r):i}class i7{constructor(e){this.Tr=e,this.buffer=new hr(Rv),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Rv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class s7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Be(kv,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gc(n)?Be(kv,"Ignoring IndexedDB error during garbage collection: ",n):await Yc(n)}await this.Rr(3e5)})}}class o7{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ne.resolve(Kf.ue);const r=new i7(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(Cv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cv):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),oc()<=Ft.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${m} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function a7(t,e){return new o7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.changes=new Vl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hu(r.mutation,i,ps.empty(),An.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Vt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Vt()){const i=ml();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ku();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ml();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Vt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ro();const o=qu(),a=function(){return qu()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Bl)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Hu(u.mutation,c,u.mutation.getFieldMask(),An.now())):o.set(c.key,ps.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var m;return a.set(c,new c7(u,(m=o.get(c))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qu();let i=new Dn((o,a)=>o-a),s=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ps.empty();u=a.applyToLocalView(c,u),r.set(l,u);const m=(i.get(a.batchId)||Vt()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,m=b4();u.forEach(y=>{if(!s.has(y)){const f=E4(n.get(y),r.get(y));f!==null&&m.set(y,f),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return Ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ne.resolve(ml());let a=ih,l=s;return o.next(c=>Ne.forEach(c,(u,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(u)?Ne.resolve():this.remoteDocumentCache.getEntry(e,u).next(y=>{l=l.insert(u,y)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Vt())).next(u=>({batchId:a,changes:v4(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next(r=>{let i=ku();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ku();return this.indexManager.getCollectionParents(e,s).next(a=>Ne.forEach(a,l=>{const c=function(m,y){return new Kc(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((m,y)=>{o=o.insert(m,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ur.newInvalidDocument(u)))});let a=ku();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Hu(u.mutation,c,ps.empty(),An.now()),Qf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Ne.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qs(i.createTime)}}(n)),Ne.resolve()}getNamedQuery(e,n){return Ne.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:e7(i.bundledQuery),readTime:qs(i.readTime)}}(n)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(){this.overlays=new Dn(rt.comparator),this.kr=new Map}getOverlay(e,n){return Ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ml();return Ne.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),Ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),Ne.resolve()}getOverlaysForCollection(e,n,r){const i=ml(),s=n.length+1,o=new rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Dn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=ml(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ml(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return Ne.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new k8(n,r));let s=this.kr.get(n);s===void 0&&(s=Vt(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.sessionToken=Pr.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.qr=new hr(mr.Qr),this.$r=new hr(mr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new mr(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new mr(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new rt(new yn([])),r=new mr(n,e),i=new mr(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new rt(new yn([])),r=new mr(n,e),i=new mr(n,e+1);let s=Vt();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mr(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mr{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return rt.comparator(e.key,n.key)||Ot(e.Hr,n.Hr)}static Ur(e,n){return Ot(e.Hr,n.Hr)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new hr(mr.Qr)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new C8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new mr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ne.resolve(o)}lookupMutationBatch(e,n){return Ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?N0:this.er-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mr(n,0),i=new mr(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hr(Ot);return n.forEach(i=>{const s=new mr(i,0),o=new mr(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),Ne.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;rt.isDocumentKey(s)||(s=s.child(""));const o=new mr(new rt(s),0);let a=new hr(Ot);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},o),Ne.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Zt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Ne.forEach(n.mutations,i=>{const s=new mr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new mr(n,0),i=this.Yr.firstAfterOrEqual(r);return Ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e){this.ni=e,this.docs=function(){return new Dn(rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ne.resolve(r?r.document.mutableCopy():Ur.newInvalidDocument(n))}getEntries(e,n){let r=Ro();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ur.newInvalidDocument(i))}),Ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ro();const o=n.path,a=new rt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||$L(HL(u),r)<=0||(i.has(u.key)||Qf(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){dt(9500)}ri(e,n){return Ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new g7(this)}getSize(e){return Ne.resolve(this.size)}}class g7 extends l7{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Ne.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.persistence=e,this.ii=new Vl(n=>C0(n),k0),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.si=0,this.oi=new M0,this.targetCount=0,this._i=Dc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Ne.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Dc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Ne.resolve()}updateTargetData(e,n){return this.hr(n),Ne.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ne.waitFor(s).next(()=>i)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Ne.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Ne.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Ne.resolve(r)}containsKey(e,n){return Ne.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this.ai={},this.overlays={},this.ui=new Kf(0),this.ci=!1,this.ci=!0,this.li=new f7,this.referenceDelegate=e(this),this.hi=new y7(this),this.indexManager=new t7,this.remoteDocumentCache=function(i){return new m7(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Q8(n),this.Ti=new h7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new p7(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Be("MemoryPersistence","Starting transaction:",e);const i=new v7(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return Ne.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class v7 extends YL{constructor(e){super(),this.currentSequenceNumber=e}}class F0{constructor(e){this.persistence=e,this.Ai=new M0,this.Ri=null}static Vi(e){return new F0(e)}get mi(){if(this.Ri)return this.Ri;throw dt(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Ne.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Ne.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.mi,r=>{const i=rt.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,xt.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Ne.or([()=>Ne.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class bf{constructor(e,n){this.persistence=e,this.gi=new Vl(r=>XL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=a7(this,n)}static Vi(e,n){return new bf(e,n)}Ii(){}di(e){return Ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Ne.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?Ne.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,xt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Ne.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Ne.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Ne.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jd(e.data.value)),n}Sr(e,n,r){return Ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Vt(),i=Vt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new V0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return pR()?8:GL(zr())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new b7;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(oc()<=Ft.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",ac(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ne.resolve()):(oc()<=Ft.DEBUG&&Be("QueryEngine","Query:",ac(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(oc()<=Ft.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",ac(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Us(n))):Ne.resolve())}ps(e,n){if(wv(n))return Ne.resolve(null);let r=Us(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gf(n,null,"F"),r=Us(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Vt(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,gf(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return wv(n)||i.isEqual(xt.min())?Ne.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?Ne.resolve(null):(oc()<=Ft.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ac(n)),this.vs(e,o,n,qL(i,ih)).next(a=>a))})}bs(e,n){let r=new hr(g4(e));return n.forEach((i,s)=>{Qf(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return oc()<=Ft.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",ac(n)),this.gs.getDocumentsMatchingQuery(e,n,Oa.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="LocalStore",_7=3e8;class x7{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Dn(Ot),this.Ms=new Vl(s=>C0(s),k0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u7(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function A7(t,e,n,r){return new x7(t,e,n,r)}async function V4(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Vt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function T7(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const m=c.batch,y=m.keys();let f=Ne.resolve();return y.forEach(A=>{f=f.next(()=>u.getEntry(l,A)).next(_=>{const E=c.docVersions.get(A);Zt(E!==null,48541),_.version.compareTo(E)<0&&(m.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Vt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function B4(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function E7(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((u,m)=>{const y=i.get(m);if(!y)return;a.push(n.hi.removeMatchingKeys(s,u.removedDocuments,m).next(()=>n.hi.addMatchingKeys(s,u.addedDocuments,m)));let f=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?f=f.withResumeToken(Pr.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(m,f),function(_,E,C){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=_7?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(y,f,u)&&a.push(n.hi.updateTargetData(s,f))});let l=Ro(),c=Vt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(S7(s,o,e.documentUpdates).next(u=>{l=u.Ls,c=u.ks})),!r.isEqual(xt.min())){const u=n.hi.getLastRemoteSnapshotVersion(s).next(m=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Ne.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=i,s))}function S7(t,e,n){let r=Vt(),i=Vt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ro();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(xt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Be(B0,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function N7(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=N0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function I7(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,Ne.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new ma(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function wg(t,e,n){const r=Et(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gc(o))throw o;Be(B0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function Lv(t,e,n){const r=Et(t);let i=xt.min(),s=Vt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const m=Et(l),y=m.Ms.get(u);return y!==void 0?Ne.resolve(m.Fs.get(y)):m.hi.getTargetData(c,u)}(r,o,Us(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:xt.min(),n?s:Vt())).next(a=>(P7(r,p8(e),a),{documents:a,qs:s})))}function P7(t,e,n){let r=t.xs.get(e)||xt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class jv{constructor(){this.activeTargetIds=w8()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C7{constructor(){this.Fo=new jv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new jv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="ConnectivityMonitor";class Dv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Be(Ov,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Be(Ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd=null;function _g(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="RestConnection",R7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L7{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ff?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=_g(),a=this.Go(e,n.toUriEncodedString());Be(Qp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(a),u=Hc(c);return this.jo(e,a,l,r,u).then(m=>(Be(Qp,`Received RPC '${e}' ${o}: `,m),m),m=>{throw ja(Qp,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=R7[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="WebChannelConnection";class O7 extends L7{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=_g();return new Promise((a,l)=>{const c=new Bx;c.setWithCredentials(!0),c.listenOnce(Ux.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ld.NO_ERROR:const m=c.getResponseJson();Be(jr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Ld.TIMEOUT:Be(jr,`RPC '${e}' ${o} timed out`),l(new Ve(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:const y=c.getStatus();if(Be(jr,`RPC '${e}' ${o} failed with status:`,y,"response text:",c.getResponseText()),y>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const A=f==null?void 0:f.error;if(A&&A.status&&A.message){const _=function(C){const F=C.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(F)>=0?F:Se.UNKNOWN}(A.status);l(new Ve(_,A.message))}else l(new Ve(Se.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ve(Se.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{Be(jr,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Be(jr,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}P_(e,n,r){const i=_g(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hx(),a=qx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Be(jr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const m=o.createWebChannel(u,l);this.T_(m);let y=!1,f=!1;const A=new j7({Ho:E=>{f?Be(jr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(y||(Be(jr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Be(jr,`RPC '${e}' stream ${i} sending:`,E),m.send(E))},Yo:()=>m.close()}),_=(E,C,F)=>{E.listen(C,M=>{try{F(M)}catch(z){setTimeout(()=>{throw z},0)}})};return _(m,Cu.EventType.OPEN,()=>{f||(Be(jr,`RPC '${e}' stream ${i} transport opened.`),A.s_())}),_(m,Cu.EventType.CLOSE,()=>{f||(f=!0,Be(jr,`RPC '${e}' stream ${i} transport closed`),A.__(),this.I_(m))}),_(m,Cu.EventType.ERROR,E=>{f||(f=!0,ja(jr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),A.__(new Ve(Se.UNAVAILABLE,"The operation could not be completed")))}),_(m,Cu.EventType.MESSAGE,E=>{var C;if(!f){const F=E.data[0];Zt(!!F,16349);const M=F,z=(M==null?void 0:M.error)||((C=M[0])===null||C===void 0?void 0:C.error);if(z){Be(jr,`RPC '${e}' stream ${i} received error:`,z);const ee=z.status;let ne=function(S){const D=er[S];if(D!==void 0)return N4(D)}(ee),B=z.message;ne===void 0&&(ne=Se.INTERNAL,B="Unknown error status: "+ee+" with message "+z.message),f=!0,A.__(new Ve(ne,B)),m.close()}else Be(jr,`RPC '${e}' stream ${i} received:`,F),A.a_(F)}}),_(a,zx.STAT_EVENT,E=>{E.stat===cg.PROXY?Be(jr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===cg.NOPROXY&&Be(jr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t){return new V8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="PersistentStream";class z4{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new U4(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(ko(n.toString()),ko("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new Ve(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Be(Mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Be(Mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D7 extends z4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=z8(this.serializer,e),r=function(s){if(!("targetChange"in s))return xt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xt.min():o.readTime?qs(o.readTime):xt.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=bg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=pg(l)?{documents:$8(s,l)}:{query:W8(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=C4(s,o.resumeToken);const c=gg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(xt.min())>0){a.readTime=vf(s,o.snapshotVersion.toTimestamp());const c=gg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=G8(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=bg(this.serializer),n.removeTarget=e,this.k_(n)}}class M7 extends z4{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Zt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Zt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Zt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=H8(e.writeResults,e.commitTime),r=qs(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=bg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>q8(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{}class V7 extends F7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Ve(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,yg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(Se.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,yg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(Se.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class B7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ko(n),this._a=!1):Be("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="RemoteStore";class U7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Ul(this)&&(Be(Nl,"Restarting streams for network reachability change."),await async function(l){const c=Et(l);c.Ia.add(4),await Lh(c),c.Aa.set("Unknown"),c.Ia.delete(4),await ip(c)}(this))})}),this.Aa=new B7(r,i)}}async function ip(t){if(Ul(t))for(const e of t.da)await e(!0)}async function Lh(t){for(const e of t.da)await e(!1)}function q4(t,e){const n=Et(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),H0(n)?q0(n):Xc(n).x_()&&z0(n,e))}function U0(t,e){const n=Et(t),r=Xc(n);n.Ta.delete(e),r.x_()&&H4(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ul(n)&&n.Aa.set("Unknown"))}function z0(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xc(t).H_(e)}function H4(t,e){t.Ra.$e(e),Xc(t).Y_(e)}function q0(t){t.Ra=new O8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Xc(t).start(),t.Aa.aa()}function H0(t){return Ul(t)&&!Xc(t).M_()&&t.Ta.size>0}function Ul(t){return Et(t).Ia.size===0}function $4(t){t.Ra=void 0}async function z7(t){t.Aa.set("Online")}async function q7(t){t.Ta.forEach((e,n)=>{z0(t,e)})}async function H7(t,e){$4(t),H0(t)?(t.Aa.la(e),q0(t)):t.Aa.set("Unknown")}async function $7(t,e,n){if(t.Aa.set("Online"),e instanceof P4&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){Be(Nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wf(t,r)}else if(e instanceof Md?t.Ra.Ye(e):e instanceof I4?t.Ra.it(e):t.Ra.et(e),!n.isEqual(xt.min()))try{const r=await B4(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ta.get(c);u&&s.Ta.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.Ta.get(l);if(!u)return;s.Ta.set(l,u.withResumeToken(Pr.EMPTY_BYTE_STRING,u.snapshotVersion)),H4(s,l);const m=new ma(u.target,l,c,u.sequenceNumber);z0(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Be(Nl,"Failed to raise snapshot:",r),await wf(t,r)}}async function wf(t,e,n){if(!Gc(e))throw e;t.Ia.add(1),await Lh(t),t.Aa.set("Offline"),n||(n=()=>B4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Be(Nl,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await ip(t)})}function W4(t,e){return e().catch(n=>wf(t,n,e))}async function sp(t){const e=Et(t),n=Va(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:N0;for(;W7(e);)try{const i=await N7(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Y7(e,i)}catch(i){await wf(e,i)}Y4(e)&&G4(e)}function W7(t){return Ul(t)&&t.Pa.length<10}function Y7(t,e){t.Pa.push(e);const n=Va(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Y4(t){return Ul(t)&&!Va(t).M_()&&t.Pa.length>0}function G4(t){Va(t).start()}async function G7(t){Va(t).na()}async function K7(t){const e=Va(t);for(const n of t.Pa)e.X_(n.mutations)}async function X7(t,e,n){const r=t.Pa.shift(),i=j0.from(r,e,n);await W4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await sp(t)}async function J7(t,e){e&&Va(t).Z_&&await async function(r,i){if(function(o){return L8(o)&&o!==Se.ABORTED}(i.code)){const s=r.Pa.shift();Va(r).N_(),await W4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await sp(r)}}(t,e),Y4(t)&&G4(t)}async function Fv(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),Be(Nl,"RemoteStore received new credentials");const r=Ul(n);n.Ia.add(3),await Lh(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await ip(n)}async function Z7(t,e){const n=Et(t);e?(n.Ia.delete(2),await ip(n)):e||(n.Ia.add(2),await Lh(n),n.Aa.set("Unknown"))}function Xc(t){return t.Va||(t.Va=function(n,r,i){const s=Et(n);return s.ia(),new D7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:z7.bind(null,t),e_:q7.bind(null,t),n_:H7.bind(null,t),J_:$7.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),H0(t)?q0(t):t.Aa.set("Unknown")):(await t.Va.stop(),$4(t))})),t.Va}function Va(t){return t.ma||(t.ma=function(n,r,i){const s=Et(n);return s.ia(),new M7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:G7.bind(null,t),n_:J7.bind(null,t),ea:K7.bind(null,t),ta:X7.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await sp(t)):(await t.ma.stop(),t.Pa.length>0&&(Be(Nl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W0(t,e){if(ko("AsyncQueue",`${e}: ${t}`),Gc(t))return new Ve(Se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{static emptySet(e){return new bc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=ku(),this.sortedSet=new Dn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.fa=new Dn(rt.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):dt(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mc{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Mc(e,n,bc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class ej{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Et(n),s=i.queries;i.queries=Bv(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new Ve(Se.ABORTED,"Firestore shutting down"))}}function Bv(){return new Vl(t=>m4(t),Zf)}async function tj(t,e){const n=Et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new Q7,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=W0(o,`Initialization of query '${ac(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&Y0(n)}async function nj(t,e){const n=Et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rj(t,e){const n=Et(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&Y0(n)}function ij(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function Y0(t){t.Da.forEach(e=>{e.next()})}var xg,Uv;(Uv=xg||(xg={})).Fa="default",Uv.Cache="cache";class sj{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==xg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.key=e}}class X4{constructor(e){this.key=e}}class oj{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Vt(),this.mutatedKeys=Vt(),this.Xa=g4(e),this.eu=new bc(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new Vv,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,m)=>{const y=i.get(u),f=Qf(this.query,m)?m:null,A=!!y&&this.mutatedKeys.has(y.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;y&&f?y.data.isEqual(f.data)?A!==_&&(r.track({type:3,doc:f}),E=!0):this.iu(y,f)||(r.track({type:2,doc:f}),E=!0,(l&&this.Xa(f,l)>0||c&&this.Xa(f,c)<0)&&(a=!0)):!y&&f?(r.track({type:0,doc:f}),E=!0):y&&!f&&(r.track({type:1,doc:y}),E=!0,(l||c)&&(a=!0)),E&&(f?(o=o.add(f),s=_?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((u,m)=>function(f,A){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{At:E})}};return _(f)-_(A)}(u.type,m.type)||this.Xa(u.doc,m.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Mc(this.query,e.eu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Vv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Vt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new X4(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new K4(r))}),n}uu(e){this.Ha=e.qs,this.Za=Vt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Mc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const G0="SyncEngine";class aj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lj{constructor(e){this.key=e,this.lu=!1}}class cj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Vl(a=>m4(a),Zf),this.Tu=new Map,this.Iu=new Set,this.du=new Dn(rt.comparator),this.Eu=new Map,this.Au=new M0,this.Ru={},this.Vu=new Map,this.mu=Dc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function uj(t,e,n=!0){const r=nA(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await J4(r,e,n,!0),i}async function hj(t,e){const n=nA(t);await J4(n,e,!0,!1)}async function J4(t,e,n,r){const i=await I7(t.localStore,Us(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await dj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&q4(t.remoteStore,i),a}async function dj(t,e,n,r,i){t.gu=(m,y,f)=>async function(_,E,C,F){let M=E.view.nu(C);M.Ds&&(M=await Lv(_.localStore,E.query,!1).then(({documents:B})=>E.view.nu(B,M)));const z=F&&F.targetChanges.get(E.targetId),ee=F&&F.targetMismatches.get(E.targetId)!=null,ne=E.view.applyChanges(M,_.isPrimaryClient,z,ee);return qv(_,E.targetId,ne._u),ne.snapshot}(t,m,y,f);const s=await Lv(t.localStore,e,!0),o=new oj(e,s.qs),a=o.nu(s.documents),l=Rh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);qv(t,n,c._u);const u=new aj(e,n,o);return t.Pu.set(e,u),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function fj(t,e,n){const r=Et(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!Zf(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&U0(r.remoteStore,i.targetId),Ag(r,i.targetId)}).catch(Yc)):(Ag(r,i.targetId),await wg(r.localStore,i.targetId,!0))}async function pj(t,e){const n=Et(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),U0(n.remoteStore,r.targetId))}async function mj(t,e,n){const r=xj(t);try{const i=await function(o,a){const l=Et(o),c=An.now(),u=a.reduce((f,A)=>f.add(A.key),Vt());let m,y;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let A=Ro(),_=Vt();return l.Os.getEntries(f,u).next(E=>{A=E,A.forEach((C,F)=>{F.isValidDocument()||(_=_.add(C))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,A)).next(E=>{m=E;const C=[];for(const F of a){const M=I8(F,m.get(F.key).overlayedDocument);M!=null&&C.push(new Bl(F.key,M,o4(M.value.mapValue),zs.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,C,a)}).next(E=>{y=E;const C=E.applyToLocalDocumentSet(m,_);return l.documentOverlayCache.saveOverlays(f,E.batchId,C)})}).then(()=>({batchId:y.batchId,changes:v4(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new Dn(Ot)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,i.batchId,n),await jh(r,i.changes),await sp(r.remoteStore)}catch(i){const s=W0(i,"Failed to persist write");n.reject(s)}}async function Z4(t,e){const n=Et(t);try{const r=await E7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(Zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Zt(o.lu,14607):i.removedDocuments.size>0&&(Zt(o.lu,42227),o.lu=!1))}),await jh(n,r,e)}catch(r){await Yc(r)}}function zv(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Et(o);l.onlineState=a;let c=!1;l.queries.forEach((u,m)=>{for(const y of m.wa)y.va(a)&&(c=!0)}),c&&Y0(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gj(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Dn(rt.comparator);o=o.insert(s,Ur.newNoDocument(s,xt.min()));const a=Vt().add(s),l=new np(xt.min(),new Map,new Dn(Ot),o,a);await Z4(r,l),r.du=r.du.remove(s),r.Eu.delete(e),K0(r)}else await wg(r.localStore,e,!1).then(()=>Ag(r,e,n)).catch(Yc)}async function yj(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await T7(n.localStore,e);eA(n,r,null),Q4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jh(n,i)}catch(i){await Yc(i)}}async function vj(t,e,n){const r=Et(t);try{const i=await function(o,a){const l=Et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(m=>(Zt(m!==null,37113),u=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);eA(r,e,n),Q4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jh(r,i)}catch(i){await Yc(i)}}function Q4(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function eA(t,e,n){const r=Et(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||tA(t,r)})}function tA(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(U0(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),K0(t))}function qv(t,e,n){for(const r of n)r instanceof K4?(t.Au.addReference(r.key,e),bj(t,r)):r instanceof X4?(Be(G0,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||tA(t,r.key)):dt(19791,{yu:r})}function bj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Be(G0,"New document in limbo: "+n),t.Iu.add(r),K0(t))}function K0(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new rt(yn.fromString(e)),r=t.mu.next();t.Eu.set(r,new lj(n)),t.du=t.du.insert(n,r),q4(t.remoteStore,new ma(Us(f4(n.path)),r,"TargetPurposeLimboResolution",Kf.ue))}}async function jh(t,e,n){const r=Et(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(c){i.push(c);const m=V0.Es(l.targetId,c);s.push(m)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,c){const u=Et(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ne.forEach(c,y=>Ne.forEach(y.Is,f=>u.persistence.referenceDelegate.addReference(m,y.targetId,f)).next(()=>Ne.forEach(y.ds,f=>u.persistence.referenceDelegate.removeReference(m,y.targetId,f)))))}catch(m){if(!Gc(m))throw m;Be(B0,"Failed to update sequence numbers: "+m)}for(const m of c){const y=m.targetId;if(!m.fromCache){const f=u.Fs.get(y),A=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(A);u.Fs=u.Fs.insert(y,_)}}}(r.localStore,s))}async function wj(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){Be(G0,"User change. New user:",e.toKey());const r=await V4(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new Ve(Se.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jh(n,r.Bs)}}function _j(t,e){const n=Et(t),r=n.Eu.get(e);if(r&&r.lu)return Vt().add(r.key);{let i=Vt();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function nA(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_j.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gj.bind(null,e),e.hu.J_=rj.bind(null,e.eventManager),e.hu.pu=ij.bind(null,e.eventManager),e}function xj(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vj.bind(null,e),e}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return A7(this.persistence,new w7,e.initialUser,this.serializer)}Du(e){return new F4(F0.Vi,this.serializer)}bu(e){return new C7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class Aj extends _f{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Zt(this.persistence.referenceDelegate instanceof bf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new s7(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new F4(r=>bf.Vi(r,n),this.serializer)}}class Tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wj.bind(null,this.syncEngine),await Z7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ej}()}createDatastore(e){const n=rp(e.databaseInfo.databaseId),r=function(s){return new O7(s)}(e.databaseInfo);return function(s,o,a,l){return new V7(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new U7(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zv(this.syncEngine,n,0),function(){return Dv.C()?new Dv:new k7}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const m=new cj(i,s,o,a,l,c);return u&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Et(i);Be(Nl,"RemoteStore shutting down."),s.Ia.add(5),await Lh(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tg.provider={build:()=>new Tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ko("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class Ej{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Br.UNAUTHENTICATED,this.clientId=S0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Be(Ba,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Be(Ba,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=W0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tm(t,e){t.asyncQueue.verifyOperationInProgress(),Be(Ba,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await V4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{ja("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Be("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ja("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function Hv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Sj(t);Be(Ba,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Fv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Fv(e.remoteStore,i)),t._onlineComponents=e}async function Sj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be(Ba,"Using user provided OfflineComponentProvider");try{await tm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await tm(t,new _f)}}else Be(Ba,"Using default OfflineComponentProvider"),await tm(t,new Aj(void 0));return t._offlineComponents}async function rA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be(Ba,"Using user provided OnlineComponentProvider"),await Hv(t,t._uninitializedComponentsProvider._online)):(Be(Ba,"Using default OnlineComponentProvider"),await Hv(t,new Tg))),t._onlineComponents}function Nj(t){return rA(t).then(e=>e.syncEngine)}async function Ij(t){const e=await rA(t),n=e.eventManager;return n.onListen=uj.bind(null,e.syncEngine),n.onUnlisten=fj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pj.bind(null,e.syncEngine),n}function Pj(t,e,n={}){const r=new Sa;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Tj({next:y=>{u.Ou(),o.enqueueAndForget(()=>nj(s,m)),y.fromCache&&l.source==="server"?c.reject(new Ve(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(y)},error:y=>c.reject(y)}),m=new sj(a,u,{includeMetadataChanges:!0,ka:!0});return tj(s,m)}(await Ij(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firestore.googleapis.com",Wv=!0;class Yv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sA,this.ssl=Wv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Wv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=M4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r7)throw new Ve(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ve(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ve(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ve(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class op{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RL;switch(r.type){case"firstParty":return new DL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ve(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$v.get(n);r&&(Be("ComponentProvider","Removing Datastore"),$v.delete(n),r.terminate())}(this),Promise.resolve()}}function Cj(t,e,n,r={}){var i;t=rh(t,op);const s=Hc(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(kx(`https://${l}`),Rx("Firestore",!0)),o.host!==sA&&o.host!==l&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Tl(c,a)&&(t._setSettings(c),r.mockUserToken)){let u,m;if(typeof r.mockUserToken=="string")u=r.mockUserToken,m=Br.MOCK_USER;else{u=sR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ve(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Br(y)}t._authCredentials=new LL(new Wx(u,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $a(this.firestore,e,this._query)}}class vr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}toJSON(){return{type:vr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ch(n,vr._jsonSchema))return new vr(e,r||null,new rt(yn.fromString(n.referencePath)))}}vr._jsonSchemaVersion="firestore/documentReference/1.0",vr._jsonSchema={type:rr("string",vr._jsonSchemaVersion),referencePath:rr("string")};class Na extends $a{constructor(e,n,r){super(e,n,f4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new rt(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function Gv(t,e,...n){if(t=Qi(t),Gx("collection","path",e),t instanceof op){const r=yn.fromString(e,...n);return ov(r),new Na(t,null,r)}{if(!(t instanceof vr||t instanceof Na))throw new Ve(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return ov(r),new Na(t.firestore,null,r)}}function oA(t,e,...n){if(t=Qi(t),arguments.length===1&&(e=S0.newId()),Gx("doc","path",e),t instanceof op){const r=yn.fromString(e,...n);return sv(r),new vr(t,null,new rt(r))}{if(!(t instanceof vr||t instanceof Na))throw new Ve(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return sv(r),new vr(t.firestore,t instanceof Na?t.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="AsyncQueue";class Xv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new U4(this,"async_queue_retry"),this.oc=()=>{const r=em();r&&Be(Kv,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Sa;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Gc(e))throw e;Be(Kv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ko("INTERNAL UNHANDLED ERROR: ",Jv(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=$0.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&dt(47125,{hc:Jv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Jv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ap extends op{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Xv,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xv(e),this._firestoreClient=void 0,await e}}}function kj(t,e){const n=typeof t=="object"?t:Dx(),r=typeof t=="string"?t:e||ff,i=T0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=rR("firestore");s&&Cj(i,...s)}return i}function aA(t){if(t._terminated)throw new Ve(Se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Rj(t),t._firestoreClient}function Rj(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new QL(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,iA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ej(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ji(Pr.fromBase64String(e))}catch(n){throw new Ve(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ji(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ch(e,Ji._jsonSchema))return Ji.fromBase64String(e.bytes)}}Ji._jsonSchemaVersion="firestore/bytes/1.0",Ji._jsonSchema={type:rr("string",Ji._jsonSchemaVersion),bytes:rr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ve(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hs._jsonSchemaVersion}}static fromJSON(e){if(Ch(e,Hs._jsonSchema))return new Hs(e.latitude,e.longitude)}}Hs._jsonSchemaVersion="firestore/geoPoint/1.0",Hs._jsonSchema={type:rr("string",Hs._jsonSchemaVersion),latitude:rr("number"),longitude:rr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ch(e,$s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new $s(e.vectorValues);throw new Ve(Se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:rr("string",$s._jsonSchemaVersion),vectorValues:rr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=/^__.*__$/;class jj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bl(e,this.data,this.fieldMask,n,this.fieldTransforms):new kh(e,this.data,n,this.fieldTransforms)}}function lA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ec:t})}}class Z0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Z0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return xf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(lA(this.Ec)&&Lj.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Oj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rp(e)}Dc(e,n,r,i=!1){return new Z0({Ec:e,methodName:n,bc:r,path:Nr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cA(t){const e=t._freezeSettings(),n=rp(t._databaseId);return new Oj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dj(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);dA("Data must be an object, but it was:",o,r);const a=uA(r,o);let l,c;if(s.merge)l=new ps(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const m of s.mergeFields){const y=Fj(e,m,n);if(!o.contains(y))throw new Ve(Se.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Bj(u,y)||u.push(y)}l=new ps(u),c=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=o.fieldTransforms;return new jj(new Xi(a),l,c)}class Q0 extends J0{_toFieldTransform(e){return new T8(e.path,new ch)}isEqual(e){return e instanceof Q0}}function Mj(t,e,n,r=!1){return e1(n,t.Dc(r?4:3,e))}function e1(t,e){if(hA(t=Qi(t)))return dA("Unsupported field value:",e,t),uA(t,e);if(t instanceof J0)return function(r,i){if(!lA(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=e1(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Qi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=An.fromDate(r);return{timestampValue:vf(i.serializer,s)}}if(r instanceof An){const s=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vf(i.serializer,s)}}if(r instanceof Hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ji)return{bytesValue:C4(i.serializer,r._byteString)};if(r instanceof vr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:D0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $s)return function(o,a){return{mapValue:{fields:{[r4]:{stringValue:s4},[pf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return R0(a.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Gf(r)}`)}(t,e)}function uA(t,e){const n={};return Jx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fl(t,(r,i)=>{const s=e1(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof An||t instanceof Hs||t instanceof Ji||t instanceof vr||t instanceof J0||t instanceof $s)}function dA(t,e,n){if(!hA(n)||!Kx(n)){const r=Gf(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Fj(t,e,n){if((e=Qi(e))instanceof X0)return e._internalPath;if(typeof e=="string")return fA(t,e);throw xf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vj=new RegExp("[~\\*/\\[\\]]");function fA(t,e,n){if(e.search(Vj)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new X0(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ve(Se.INVALID_ARGUMENT,a+t+l)}function Bj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(t1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Uj extends pA{data(){return super.data()}}function t1(t,e){return typeof e=="string"?fA(t,e):e instanceof X0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ve(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n1{}class r1 extends n1{}function qj(t,e,...n){let r=[];e instanceof n1&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof s1).length,a=s.filter(l=>l instanceof i1).length;if(o>1||o>0&&a>0)throw new Ve(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class i1 extends r1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new i1(e,n,r)}_apply(e){const n=this._parse(e);return mA(e._query,n),new $a(e.firestore,e.converter,mg(e._query,n))}_parse(e){const n=cA(e.firestore);return function(s,o,a,l,c,u,m){let y;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ve(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Qv(m,u);const A=[];for(const _ of m)A.push(Zv(l,s,_));y={arrayValue:{values:A}}}else y=Zv(l,s,m)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Qv(m,u),y=Mj(a,o,m,u==="in"||u==="not-in");return nr.create(c,u,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class s1 extends n1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new s1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)mA(o,l),o=mg(o,l)}(e._query,n),new $a(e.firestore,e.converter,mg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class o1 extends r1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new o1(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Ve(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ve(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lh(s,o)}(e._query,this._field,this._direction);return new $a(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Kc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Hj(t,e="asc"){const n=e,r=t1("orderBy",t);return o1._create(r,n)}class a1 extends r1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new a1(e,n,r)}_apply(e){return new $a(e.firestore,e.converter,gf(e._query,this._limit,this._limitType))}}function $j(t){return zL("limit",t),a1._create("limit",t,"F")}function Zv(t,e,n){if(typeof(n=Qi(n))=="string"){if(n==="")throw new Ve(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p4(e)&&n.indexOf("/")!==-1)throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yn.fromString(n));if(!rt.isDocumentKey(r))throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pv(t,new rt(r))}if(n instanceof vr)return pv(t,n._key);throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gf(n)}.`)}function Qv(t,e){if(!Array.isArray(t)||t.length===0)throw new Ve(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ve(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ve(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Wj{convertValue(e,n="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[pf].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Yn(o.doubleValue));return new $s(s)}convertGeoPoint(e){return new Hs(Yn(e.latitude),Yn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const n=Da(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yn.fromString(e);Zt(D4(r),9688,{name:e});const i=new oh(r.get(1),r.get(3)),s=new rt(r.popFirst(5));return i.isEqual(n)||ko(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class vd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wc extends pA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(t1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wc._jsonSchemaVersion="firestore/documentSnapshot/1.0",wc._jsonSchema={type:rr("string",wc._jsonSchemaVersion),bundleSource:rr("string","DocumentSnapshot"),bundleName:rr("string"),bundle:rr("string")};class Fd extends wc{data(e={}){return super.data(e)}}class _c{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fd(this._firestore,this._userDataWriter,r.key,r,new vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ve(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Fd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Fd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Gj(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_c._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=S0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Gj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:t})}}_c._jsonSchemaVersion="firestore/querySnapshot/1.0",_c._jsonSchema={type:rr("string",_c._jsonSchemaVersion),bundleSource:rr("string","QuerySnapshot"),bundleName:rr("string"),bundle:rr("string")};class Kj extends Wj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,n)}}function Xj(t){t=rh(t,$a);const e=rh(t.firestore,ap),n=aA(e),r=new Kj(e);return zj(t._query),Pj(n,t._query).then(i=>new _c(e,r,t,i))}function Jj(t){return gA(rh(t.firestore,ap),[new L0(t._key,zs.none())])}function Zj(t,e){const n=rh(t.firestore,ap),r=oA(t),i=Yj(t.converter,e);return gA(n,[Dj(cA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zs.exists(!1))]).then(()=>r)}function gA(t,e){return function(r,i){const s=new Sa;return r.asyncQueue.enqueueAndForget(async()=>mj(await Nj(r),i,s)),s.promise}(aA(t),e)}function Qj(){return new Q0("serverTimestamp")}(function(e,n=!0){(function(i){Wc=i})($c),Rc(new El("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ap(new jL(r.getProvider("auth-internal")),new ML(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ve(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ta(ev,tv,e),Ta(ev,tv,"esm2017")})();var eO="firebase",tO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ta(eO,tO,"app");function yA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nO=yA,vA=new Ih("auth","Firebase",yA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new x0("@firebase/auth");function rO(t,...e){Af.logLevel<=Ft.WARN&&Af.warn(`Auth (${$c}): ${t}`,...e)}function Vd(t,...e){Af.logLevel<=Ft.ERROR&&Af.error(`Auth (${$c}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t,...e){throw l1(t,...e)}function Ws(t,...e){return l1(t,...e)}function bA(t,e,n){const r=Object.assign(Object.assign({},nO()),{[e]:n});return new Ih("auth","Firebase",r).create(e,{appName:t.name})}function wl(t){return bA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vA.create(t,...e)}function vt(t,e,...n){if(!t)throw l1(e,...n)}function To(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function jo(t,e){t||To(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iO(){return e5()==="http:"||e5()==="https:"}function e5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iO()||hR()||"connection"in navigator)?navigator.onLine:!0}function oO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.shortDelay=e,this.longDelay=n,jo(n>e,"Short delay should be less than long delay!"),this.isMobile=lR()||dR()}get(){return sO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e){jo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;To("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;To("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;To("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cO=new Oh(3e4,6e4);function u1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jc(t,e,n,r,i={}){return _A(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ph(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return uR()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Hc(t.emulatorConfig.host)&&(c.credentials="include"),wA.fetch()(await xA(t,t.config.apiHost,n,a),c)})}async function _A(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aO),e);try{const i=new hO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw bd(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw bA(t,u,c);Lo(t,u)}}catch(i){if(i instanceof Oo)throw i;Lo(t,"network-request-failed",{message:String(i)})}}async function uO(t,e,n,r,i={}){const s=await Jc(t,e,n,r,i);return"mfaPendingCredential"in s&&Lo(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function xA(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?c1(t.config,i):`${t.config.apiScheme}://${i}`;return lO.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class hO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ws(this.auth,"network-request-failed")),cO.get())})}}function bd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ws(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e){return Jc(t,"POST","/v1/accounts:delete",e)}async function Tf(t,e){return Jc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fO(t,e=!1){const n=Qi(t),r=await n.getIdToken(e),i=h1(r);vt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$u(nm(i.auth_time)),issuedAtTime:$u(nm(i.iat)),expirationTime:$u(nm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nm(t){return Number(t)*1e3}function h1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nx(n);return i?JSON.parse(i):(Vd("Failed to decode base64 JWT payload"),null)}catch(i){return Vd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function t5(t){const e=h1(t);return vt(e,"internal-error"),vt(typeof e.exp<"u","internal-error"),vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Oo&&pO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t){var e;const n=t.auth,r=await t.getIdToken(),i=await dh(t,Tf(n,{idToken:r}));vt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?AA(s.providerUserInfo):[],a=yO(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Sg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,m)}async function gO(t){const e=Qi(t);await Ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AA(t){return t.map(e=>{var{providerId:n}=e,r=$g(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,e){const n=await _A(t,{},async()=>{const r=Ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await xA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Hc(t.emulatorConfig.host)&&(l.credentials="include"),wA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bO(t,e){return Jc(t,"POST","/v2/accounts:revokeToken",u1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vt(e.idToken,"internal-error"),vt(typeof e.idToken<"u","internal-error"),vt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){vt(e.length!==0,"internal-error");const n=t5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await vO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new xc;return r&&(vt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(vt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(vt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xc,this.toJSON())}_performRefresh(){return To("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,e){vt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=$g(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await dh(this,this.stsTokenManager.getToken(this.auth,e));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fO(this,e)}reload(){return gO(this)}_assign(e){this!==e&&(vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ef(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Os(this.auth.app))return Promise.reject(wl(this.auth));const e=await this.getIdToken();return await dh(this,dO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,F=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:M,emailVerified:z,isAnonymous:ee,providerData:ne,stsTokenManager:B}=n;vt(M&&B,e,"internal-error");const P=xc.fromJSON(this.name,B);vt(typeof M=="string",e,"internal-error"),ia(m,e.name),ia(y,e.name),vt(typeof z=="boolean",e,"internal-error"),vt(typeof ee=="boolean",e,"internal-error"),ia(f,e.name),ia(A,e.name),ia(_,e.name),ia(E,e.name),ia(C,e.name),ia(F,e.name);const S=new ms({uid:M,auth:e,email:y,emailVerified:z,displayName:m,isAnonymous:ee,photoURL:A,phoneNumber:f,tenantId:_,stsTokenManager:P,createdAt:C,lastLoginAt:F});return ne&&Array.isArray(ne)&&(S.providerData=ne.map(D=>Object.assign({},D))),E&&(S._redirectEventId=E),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new xc;i.updateFromServerResponse(n);const s=new ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ef(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];vt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?AA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new xc;a.updateFromIdToken(r);const l=new ms({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new Map;function Eo(t){jo(t instanceof Function,"Expected a class definition");let e=n5.get(t);return e?(jo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,n5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TA.type="NONE";const r5=TA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ac{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tf(this.auth,{idToken:e}).catch(()=>{});return n?ms._fromGetAccountInfoResponse(this.auth,n,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ac(Eo(r5),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Eo(r5);const o=Bd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let m;if(typeof u=="string"){const y=await Tf(e,{idToken:u}).catch(()=>{});if(!y)break;m=await ms._fromGetAccountInfoResponse(e,y,u)}else m=ms._fromJSON(e,u);c!==s&&(a=m),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ac(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ac(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CA(e))return"Blackberry";if(kA(e))return"Webos";if(SA(e))return"Safari";if((e.includes("chrome/")||NA(e))&&!e.includes("edge/"))return"Chrome";if(PA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EA(t=zr()){return/firefox\//i.test(t)}function SA(t=zr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NA(t=zr()){return/crios\//i.test(t)}function IA(t=zr()){return/iemobile/i.test(t)}function PA(t=zr()){return/android/i.test(t)}function CA(t=zr()){return/blackberry/i.test(t)}function kA(t=zr()){return/webos/i.test(t)}function d1(t=zr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wO(t=zr()){var e;return d1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _O(){return fR()&&document.documentMode===10}function RA(t=zr()){return d1(t)||PA(t)||kA(t)||CA(t)||/windows phone/i.test(t)||IA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t,e=[]){let n;switch(t){case"Browser":n=i5(zr());break;case"Worker":n=`${i5(zr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e={}){return Jc(t,"GET","/v2/passwordPolicy",u1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=6;class EO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:TO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s5(this),this.idTokenSubscription=new s5(this),this.beforeStateQueue=new xO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Eo(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ac.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tf(this,{idToken:e}),r=await ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Os(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ef(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Os(this.app))return Promise.reject(wl(this));const n=e?Qi(e):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Os(this.app)?Promise.reject(wl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Os(this.app)?Promise.reject(wl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Eo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AO(this),n=new EO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ih("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Eo(e)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Ac.create(this,[Eo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function f1(t){return Qi(t)}class s5{constructor(e){this.auth=e,this.observer=null,this.addObserver=_R(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NO(t){p1=t}function IO(t){return p1.loadJS(t)}function PO(){return p1.gapiScript}function CO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t,e){const n=T0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Tl(s,e??{}))return i;Lo(i,"already-initialized")}return n.initialize({options:e})}function RO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Eo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LO(t,e,n){const r=f1(t);vt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=jA(e),{host:o,port:a}=jO(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(Tl(c,r.config.emulator)&&Tl(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Hc(o)?(kx(`${s}//${o}${l}`),Rx("Auth",!0)):i||OO()}function jA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jO(t){const e=jA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:o5(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:o5(o)}}}function o5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return To("not implemented")}_getIdTokenResponse(e){return To("not implemented")}_linkToIdToken(e,n){return To("not implemented")}_getReauthenticationResolver(e){return To("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e){return uO(t,"POST","/v1/accounts:signInWithIdp",u1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="http://localhost";class Il extends OA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Il(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=$g(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Il(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tc(e,n)}buildRequest(){const e={requestUri:DO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ph(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends DA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Dh{constructor(){super("facebook.com")}static credential(e){return Il._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends Dh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Il._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ua.credential(n,r)}catch{return null}}}ua.GOOGLE_SIGN_IN_METHOD="google.com";ua.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Dh{constructor(){super("github.com")}static credential(e){return Il._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.GITHUB_SIGN_IN_METHOD="github.com";ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Dh{constructor(){super("twitter.com")}static credential(e,n){return Il._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return da.credential(n,r)}catch{return null}}}da.TWITTER_SIGN_IN_METHOD="twitter.com";da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ms._fromIdTokenResponse(e,r,i),o=a5(r);return new Fc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=a5(r);return new Fc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function a5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends Oo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sf(e,n,r,i)}}function MA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Sf._fromErrorAndOperation(t,s,e,r):s})}async function MO(t,e,n=!1){const r=await dh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e,n=!1){const{auth:r}=t;if(Os(r.app))return Promise.reject(wl(r));const i="reauthenticate";try{const s=await dh(t,MA(r,i,e,t),n);vt(s.idToken,r,"internal-error");const o=h1(s.idToken);vt(o,r,"internal-error");const{sub:a}=o;return vt(t.uid===a,r,"user-mismatch"),Fc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Lo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e,n=!1){if(Os(t.app))return Promise.reject(wl(t));const r="signIn",i=await MA(t,r,e),s=await Fc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function BO(t,e,n,r){return Qi(t).onIdTokenChanged(e,n,r)}function UO(t,e,n){return Qi(t).beforeAuthStateChanged(e,n)}const Nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=1e3,qO=10;class VA extends FA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);_O()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VA.type="LOCAL";const HO=VA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA extends FA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BA.type="SESSION";const UA=BA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await $O(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=m1("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===c)switch(y.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(){return window}function YO(t){Ys().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return typeof Ys().WorkerGlobalScope<"u"&&typeof Ys().importScripts=="function"}async function GO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XO(){return zA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebaseLocalStorageDb",JO=1,If="firebaseLocalStorage",HA="fbase_key";class Mh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cp(t,e){return t.transaction([If],e?"readwrite":"readonly").objectStore(If)}function ZO(){const t=indexedDB.deleteDatabase(qA);return new Mh(t).toPromise()}function Ng(){const t=indexedDB.open(qA,JO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(If,{keyPath:HA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(If)?e(r):(r.close(),await ZO(),e(await Ng()))})})}async function l5(t,e,n){const r=cp(t,!0).put({[HA]:e,value:n});return new Mh(r).toPromise()}async function QO(t,e){const n=cp(t,!1).get(e),r=await new Mh(n).toPromise();return r===void 0?null:r.value}function c5(t,e){const n=cp(t,!0).delete(e);return new Mh(n).toPromise()}const eD=800,tD=3;class $A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lp._getInstance(XO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await GO(),!this.activeServiceWorker)return;this.sender=new WO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await l5(e,Nf,"1"),await c5(e,Nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>l5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>QO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cp(i,!1).getAll();return new Mh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$A.type="LOCAL";const nD=$A;new Oh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e){return e?Eo(e):(vt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1 extends OA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iD(t){return VO(t.auth,new g1(t),t.bypassAuthState)}function sD(t){const{auth:e,user:n}=t;return vt(n,e,"internal-error"),FO(n,new g1(t),t.bypassAuthState)}async function oD(t){const{auth:e,user:n}=t;return vt(n,e,"internal-error"),MO(n,new g1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iD;case"linkViaPopup":case"linkViaRedirect":return oD;case"reauthViaPopup":case"reauthViaRedirect":return sD;default:Lo(this.auth,"internal-error")}}resolve(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new Oh(2e3,1e4);class gc extends WA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,gc.currentPopupAction&&gc.currentPopupAction.cancel(),gc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vt(e,this.auth,"internal-error"),e}async onExecution(){jo(this.filter.length===1,"Popup operations only handle one event");const e=m1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aD.get())};e()}}gc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="pendingRedirect",Ud=new Map;class cD extends WA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ud.get(this.auth._key());if(!e){try{const r=await uD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ud.set(this.auth._key(),e)}return this.bypassAuthState||Ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uD(t,e){const n=fD(e),r=dD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hD(t,e){Ud.set(t._key(),e)}function dD(t){return Eo(t._redirectPersistence)}function fD(t){return Bd(lD,t.config.apiKey,t.name)}async function pD(t,e,n=!1){if(Os(t.app))return Promise.reject(wl(t));const r=f1(t),i=rD(r,e),o=await new cD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=10*60*1e3;class gD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ws(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mD&&this.cachedEventUids.clear(),this.cachedEventUids.has(u5(e))}saveEventToCache(e){this.cachedEventUids.add(u5(e)),this.lastProcessedEventTime=Date.now()}}function u5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e={}){return Jc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wD=/^https?/;async function _D(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vD(t);for(const n of e)try{if(xD(n))return}catch{}Lo(t,"unauthorized-domain")}function xD(t){const e=Eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wD.test(n))return!1;if(bD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Oh(3e4,6e4);function h5(){const t=Ys().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TD(t){return new Promise((e,n)=>{var r,i,s;function o(){h5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h5(),n(Ws(t,"network-request-failed"))},timeout:AD.get()})}if(!((i=(r=Ys().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ys().gapi)===null||s===void 0)&&s.load)o();else{const a=CO("iframefcb");return Ys()[a]=()=>{gapi.load?o():n(Ws(t,"network-request-failed"))},IO(`${PO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zd=null,e})}let zd=null;function ED(t){return zd=zd||TD(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Oh(5e3,15e3),ND="__/auth/iframe",ID="emulator/auth/iframe",PD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kD(t){const e=t.config;vt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?c1(e,ID):`https://${t.config.authDomain}/${ND}`,r={apiKey:e.apiKey,appName:t.name,v:$c},i=CD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ph(r).slice(1)}`}async function RD(t){const e=await ED(t),n=Ys().gapi;return vt(n,t,"internal-error"),e.open({where:document.body,url:kD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ws(t,"network-request-failed"),a=Ys().setTimeout(()=>{s(o)},SD.get());function l(){Ys().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jD=500,OD=600,DD="_blank",MD="http://localhost";class d5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FD(t,e,n,r=jD,i=OD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},LD),{width:r.toString(),height:i.toString(),top:s,left:o}),c=zr().toLowerCase();n&&(a=NA(c)?DD:n),EA(c)&&(e=e||MD,l.scrollbars="yes");const u=Object.entries(l).reduce((y,[f,A])=>`${y}${f}=${A},`,"");if(wO(c)&&a!=="_self")return VD(e||"",a),new d5(null);const m=window.open(e||"",a,u);vt(m,t,"popup-blocked");try{m.focus()}catch{}return new d5(m)}function VD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="__/auth/handler",UD="emulator/auth/handler",zD=encodeURIComponent("fac");async function f5(t,e,n,r,i,s){vt(t.config.authDomain,t,"auth-domain-config-required"),vt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$c,eventId:i};if(e instanceof DA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,m]of Object.entries(s||{}))o[u]=m}if(e instanceof Dh){const u=e.getScopes().filter(m=>m!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${zD}=${encodeURIComponent(l)}`:"";return`${qD(t)}?${Ph(a).slice(1)}${c}`}function qD({config:t}){return t.emulator?c1(t,UD):`https://${t.authDomain}/${BD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="webStorageSupport";class HD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UA,this._completeRedirectFn=pD,this._overrideRedirectResult=hD}async _openPopup(e,n,r,i){var s;jo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await f5(e,n,r,Eg(),i);return FD(e,o,m1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await f5(e,n,r,Eg(),i);return YO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RD(e),r=new gD(e);return n.register("authEvent",i=>(vt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rm,{type:rm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[rm];o!==void 0&&n(!!o),Lo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_D(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RA()||SA()||d1()}}const $D=HD;var p5="@firebase/auth",m5="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GD(t){Rc(new El("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;vt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LA(t)},c=new SO(r,i,s,l);return RO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rc(new El("auth-internal",e=>{const n=f1(e.getProvider("auth").getImmediate());return(r=>new WD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ta(p5,m5,YD(t)),Ta(p5,m5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=5*60,XD=Cx("authIdTokenMaxAge")||KD;let g5=null;const JD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XD)return;const i=n==null?void 0:n.token;g5!==i&&(g5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZD(t=Dx()){const e=T0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kO(t,{popupRedirectResolver:$D,persistence:[nD,HO,UA]}),r=Cx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=JD(s.toString());UO(n,o,()=>o(n.currentUser)),BO(n,a=>o(a))}}const i=Ix("auth");return i&&LO(n,`http://${i}`),n}function QD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ws("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",QD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GD("Browser");const eM={apiKey:"AIzaSyBEkHEv31lTHHEMAyD2EJCMvZNXrtLd4Pw",authDomain:"vaastu-guru.firebaseapp.com",projectId:"vaastu-guru",storageBucket:"vaastu-guru.firebasestorage.app",messagingSenderId:"1014806685724",appId:"1:1014806685724:web:500d11f3252c1a080cd7d9",measurementId:"G-ZYCD6R3GJE"},GA=Ox(eM);ZD(GA);const im=kj(GA),ga=Ir.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:ni("flex h-10 w-full rounded-xl border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));ga.displayName="Input";const fh={_origin:"https://api.emailjs.com"},tM=(t,e="https://api.emailjs.com")=>{fh._userID=t,fh._origin=e},KA=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class y5{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const XA=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new y5(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new y5(o))}),s.open("POST",fh._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),nM=(t,e,n,r)=>{const i=r||fh._userID;return KA(i,t,e),XA("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},rM=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},iM=(t,e,n,r)=>{const i=r||fh._userID,s=rM(n);KA(i,t,e);const o=new FormData(s);return o.append("lib_version","3.12.1"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),XA("/api/v1.0/email/send-form",o)},sM={init:tM,send:nM,sendForm:iM},oM="service_cs2zlx7",aM="template_26pllzl",lM="MHJLn1TUuJZRK9NVz",cM=async t=>{try{const{name:e,phone:n,email:r,consultationType:i,preferredDate:s,timeSlot:o,concern:a}=t,l=new Date(s).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),c={to_email:"Rishabhg101@gmail.com",from_name:"NumaVaastu",name:e,phone:n,email:r,consultation_type:i,preferred_date:l,time_slot:o,concern:a,time:new Date().toLocaleString("en-IN"),message:`
 NEW CONSULTATION REQUEST

 Name: ${e}
 Phone: ${n}
 Email: ${r}

 Consultation Type: ${i}
 Preferred Date: ${l}
 Time Slot: ${o}

 Concern:
${a}

---
Submitted on: ${new Date().toLocaleString("en-IN")}
      `.trim()};return await sM.send(oM,aM,c,lM),!0}catch(e){return console.error("Failed to send email:",e),Sr({title:"Error",description:"Could not send the request. Please try again later.",variant:"destructive"}),!1}},uM=["Numerology","Vaastu","Color Therapy","Pyramid Therapy"],hM=["Morning (9 AM - 12 PM)","Afternoon (12 PM - 4 PM)","Evening (4 PM - 8 PM)"],dM=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Ia=({onSuccess:t})=>{const[e,n]=Z.useState({name:"",phone:"",email:"",consultationType:"",preferredDate:"",timeSlot:"",concern:""}),[r,i]=Z.useState(!1),s=Z.useMemo(()=>new Date().toISOString().split("T")[0],[]),o=Z.useCallback(l=>{const{name:c,value:u}=l.target;n(m=>({...m,[c]:c==="phone"?u.replace(/\D/g,""):u}))},[]),a=Z.useCallback(async l=>{if(l.preventDefault(),!e.name||!e.phone||!e.email||!e.consultationType||!e.preferredDate||!e.timeSlot||!e.concern){Sr({title:"Missing Information",description:"Please fill in all fields",variant:"destructive"});return}if(e.phone.length!==10){Sr({title:"Invalid Phone",description:"Please enter a 10-digit phone number",variant:"destructive"});return}if(!dM.test(e.email)){Sr({title:"Invalid Email",description:"Please enter a valid email address",variant:"destructive"});return}i(!0);try{await cM(e)&&(Sr({title:"Success!",description:"Your consultation request has been submitted. We'll contact you soon!"}),t==null||t())}catch(c){console.error("Submission Error:",c),Sr({title:"Error",description:"Failed to submit request. Please try again.",variant:"destructive"})}finally{i(!1)}},[e,t]);return g.jsxs("form",{onSubmit:a,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsxs(Ki,{htmlFor:"name",className:"text-gray-700 font-medium text-sm",children:["Name ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx(ga,{id:"name",name:"name",value:e.name,onChange:o,placeholder:"Enter your full name",className:"border-gray-300 focus:border-orange-500 focus:ring-orange-500 rounded-lg",required:!0})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs(Ki,{htmlFor:"phone",className:"text-gray-700 font-medium text-sm",children:["Phone Number ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx(ga,{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:o,placeholder:"10-digit mobile number",className:"border-gray-300 focus:border-orange-500 focus:ring-orange-500 rounded-lg",maxLength:10,required:!0})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs(Ki,{htmlFor:"email",className:"text-gray-700 font-medium text-sm",children:["Email ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx(ga,{id:"email",name:"email",type:"email",value:e.email,onChange:o,placeholder:"your@email.com",className:"border-gray-300 focus:border-orange-500 focus:ring-orange-500 rounded-lg",required:!0})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs(Ki,{htmlFor:"consultationType",className:"text-gray-700 font-medium text-sm",children:["Consultation Type ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("select",{id:"consultationType",name:"consultationType",value:e.consultationType,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-orange-500 focus:outline-none bg-white text-gray-700",required:!0,children:[g.jsx("option",{value:"",children:"Select consultation type"}),uM.map(l=>g.jsx("option",{value:l,children:l},l))]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs(Ki,{htmlFor:"preferredDate",className:"text-gray-700 font-medium text-sm",children:["Preferred Date ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx(ga,{id:"preferredDate",name:"preferredDate",type:"date",value:e.preferredDate,onChange:o,min:s,className:"border-gray-300 focus:border-orange-500 focus:ring-orange-500 rounded-lg",required:!0})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs(Ki,{htmlFor:"timeSlot",className:"text-gray-700 font-medium text-sm",children:["Preferred Time Slot ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("select",{id:"timeSlot",name:"timeSlot",value:e.timeSlot,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-orange-500 focus:outline-none bg-white text-gray-700",required:!0,children:[g.jsx("option",{value:"",children:"Select time slot"}),hM.map(l=>g.jsx("option",{value:l,children:l},l))]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs(Ki,{htmlFor:"concern",className:"text-gray-700 font-medium text-sm",children:["Brief Description of Concern ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("textarea",{id:"concern",name:"concern",value:e.concern,onChange:o,placeholder:"Briefly describe what you'd like to discuss...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-orange-500 focus:outline-none resize-none min-h-[80px] bg-white text-gray-700",required:!0})]}),g.jsx("div",{className:"pt-2",children:g.jsx(Gt,{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-300 shadow-md hover:shadow-lg",disabled:r,children:r?g.jsxs("span",{className:"flex items-center justify-center",children:[g.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Request"})})]})};function fM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var pM=["color"],mM=Z.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=fM(t,pM);return Z.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),Z.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const Io=({...t})=>g.jsx(sE,{...t}),Vc=oE,JA=({className:t,children:e,...n})=>g.jsx(Wb,{className:ni(t),...n,children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e})});JA.displayName=Wb.displayName;const ZA=Z.forwardRef(({className:t,...e},n)=>g.jsx(Yb,{ref:n,className:ni("fixed inset-0 z-50 bg-black/20 backdrop-blur-[2px] transition-all duration-300","data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in",t),...e}));ZA.displayName=Yb.displayName;const Gs=Z.forwardRef(({className:t,children:e,...n},r)=>{const i=Z.useRef(0);return Z.useEffect(()=>(i.current=window.scrollY,()=>{setTimeout(()=>{window.scrollTo(0,i.current)},0)}),[]),g.jsxs(JA,{children:[g.jsx(ZA,{}),g.jsxs(Gb,{ref:r,onOpenAutoFocus:s=>s.preventDefault(),onCloseAutoFocus:s=>s.preventDefault(),className:ni("fixed left-[50%] top-[50%] z-50 w-full max-w-md translate-x-[-50%] translate-y-[-50%] gap-4 rounded-2xl border border-orange-200 bg-white p-6 shadow-xl","animate-in data-[state=open]:fade-in-90 data-[state=open]:slide-in-from-bottom-10","duration-300",t),...n,children:[e,g.jsxs(iE,{className:"absolute right-4 top-4 rounded-sm p-1 opacity-70 transition-opacity hover:bg-orange-100 hover:opacity-100 focus:outline-none disabled:pointer-events-none",children:[g.jsx(mM,{className:"h-5 w-5 text-orange-600"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});Gs.displayName=Gb.displayName;const Ks=({className:t,...e})=>g.jsx("div",{className:ni("flex flex-col space-y-2 text-center",t),...e});Ks.displayName="DialogHeader";const Xs=Z.forwardRef(({className:t,...e},n)=>g.jsx(Kb,{ref:n,className:ni("text-2xl font-bold text-orange-600",t),...e}));Xs.displayName=Kb.displayName;const Js=Z.forwardRef(({className:t,...e},n)=>g.jsx(Xb,{ref:n,className:ni("text-sm text-orange-500",t),...e}));Js.displayName=Xb.displayName;const Fh=Z.memo(()=>g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-orange-200 border-t-orange-500"})})),gM=({className:t})=>g.jsx("svg",{viewBox:"0 0 24 24",className:t,fill:"currentColor",children:g.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),yM=Z.memo(({end:t,suffix:e="",duration:n=2})=>{const[r,i]=Z.useState(0),s=Z.useRef(null),o=HC(s,{once:!0,margin:"-100px"});return Z.useEffect(()=>{if(!o)return;let a,l;const c=u=>{a||(a=u);const m=Math.min((u-a)/(n*1e3),1);i(Math.floor((1-Math.pow(1-m,3))*t)),m<1&&(l=requestAnimationFrame(c))};return l=requestAnimationFrame(c),()=>cancelAnimationFrame(l)},[t,n,o]),g.jsxs("span",{ref:s,children:[r,e]})}),vM=Z.memo(({review:t,isSignedIn:e,userId:n,onDelete:r})=>{var i,s;return g.jsxs("div",{className:"flex-shrink-0 w-80 sm:w-96 bg-white/95 backdrop-blur-lg p-6 sm:p-8 rounded-3xl relative group shadow-xl hover:shadow-2xl transition-shadow duration-300 border border-orange-100/50",children:[g.jsx("div",{className:"absolute -top-4 -left-4 w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center shadow-lg",children:g.jsx(fN,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),g.jsx("div",{className:"flex gap-1 mb-4 mt-4 justify-center",children:[1,2,3,4,5].map(o=>g.jsx(gr,{className:`h-4 w-4 sm:h-5 sm:w-5 ${o<=t.rating?"text-orange-400 fill-orange-400":"text-gray-200"}`},o))}),g.jsxs("p",{className:"text-gray-700 text-sm sm:text-base leading-relaxed mb-6 italic text-center",children:['"',t.comment,'"']}),g.jsxs("div",{className:"flex items-center justify-center gap-3 sm:gap-4 pt-4 border-t border-orange-100",children:[g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white font-bold text-base sm:text-lg shadow-lg",children:((s=(i=t.name)==null?void 0:i.charAt(0))==null?void 0:s.toUpperCase())||"A"}),g.jsxs("div",{className:"text-left",children:[g.jsx("span",{className:"font-bold text-gray-800 block text-sm sm:text-base",children:t.name}),g.jsx("span",{className:"text-gray-500 text-xs",children:t.createdAt?new Date(t.createdAt).toLocaleDateString():"Verified Customer"})]})]}),e&&n===t.userId&&g.jsx("button",{onClick:()=>r(t.id),className:"absolute top-4 right-4 p-2 bg-red-50 text-red-400 hover:text-red-600 hover:bg-red-100 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx(mN,{size:16})})]})}),bM=Z.memo(({reviews:t,isSignedIn:e,user:n,handleDeleteReview:r})=>t.length===0?null:g.jsx("div",{className:"overflow-hidden py-8 w-full",children:g.jsx(_t.div,{className:"flex gap-6 sm:gap-8 w-max",animate:{x:[0,-1500]},transition:{x:{repeat:1/0,repeatType:"loop",duration:35,ease:"linear"}},children:[...t,...t].map((i,s)=>g.jsx(vM,{review:i,isSignedIn:e,userId:n==null?void 0:n.id,onDelete:r},`${i.id}-${s}`))})})),wM=[{icon:yN,number:1e4,suffix:"+",label:"Happy Clients",color:"from-blue-500 to-purple-600"},{icon:Qd,number:25,suffix:"+",label:"Years Experience",color:"from-green-500 to-teal-600"},{icon:oN,number:98,suffix:"%",label:"Success Rate",color:"from-orange-500 to-orange-700"},{icon:Vw,number:24,suffix:"/7",label:"Support",color:"from-pink-500 to-red-600"}],v5=Z.memo(({name:t,title:e,description:n,image:r,skills:i,instagram:s,facebook:o,xLink:a,delay:l=0})=>g.jsxs(_t.div,{initial:{opacity:0,x:l?30:-30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:l,ease:"easeOut"},className:"relative bg-white/90 backdrop-blur-lg rounded-2xl sm:rounded-3xl p-5 sm:p-6 md:p-8 text-center group overflow-hidden shadow-xl hover:shadow-2xl hover:shadow-orange-500/20 transition-all duration-500",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/20 via-transparent to-orange-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl sm:rounded-3xl"}),g.jsxs("div",{className:"relative mb-4 sm:mb-6 z-10",children:[g.jsxs("div",{className:"relative inline-block",children:[g.jsx("img",{alt:t,className:"w-36 h-36 sm:w-44 sm:h-44 md:w-56 md:h-56 rounded-full mx-auto object-cover border-4 border-orange-400 shadow-2xl group-hover:shadow-orange-500/40 transition-all duration-500",src:r,loading:"lazy"}),g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-400 to-orange-600 opacity-0 group-hover:opacity-30 blur-xl transition-opacity duration-500"})]}),g.jsx("div",{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center shadow-lg animate-pulse",children:g.jsx("span",{className:"text-white text-sm sm:text-lg font-bold",children:""})})]}),g.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 relative z-10",children:t}),g.jsx("div",{className:"inline-block bg-gradient-to-r from-orange-500 to-orange-600 text-white text-xs font-bold px-3 sm:px-4 py-1.5 sm:py-2 rounded-full mb-3 sm:mb-4 shadow-lg",children:e}),g.jsx("p",{className:"text-gray-600 mb-4 sm:mb-6 leading-relaxed relative z-10 text-sm sm:text-base",children:n}),g.jsx("div",{className:"text-left space-y-2 sm:space-y-3 mb-4 sm:mb-6 relative z-10",children:i.map((c,u)=>g.jsxs("div",{className:"flex items-center text-gray-700 group-hover:translate-x-2 transition-transform duration-300",style:{transitionDelay:`${u*75}ms`},children:[g.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full mr-3 flex-shrink-0"}),g.jsx("span",{className:"text-xs sm:text-sm",children:c})]},u))}),g.jsx("div",{className:"bg-orange-50 p-3 sm:p-4 rounded-xl mb-4 sm:mb-6 text-left relative z-10 border border-orange-100",children:g.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[g.jsx("strong",{className:"text-orange-600",children:" Address:"})," C1, Yamuna Vihar, Delhi-110053"]})}),g.jsxs("div",{className:"flex justify-center gap-3 sm:gap-4 relative z-10",children:[g.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-pink-500 to-purple-500 p-2.5 sm:p-3 rounded-full text-white shadow-lg hover:shadow-pink-500/50 transition-all duration-300",children:g.jsx(Mw,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),g.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-blue-500 to-blue-600 p-2.5 sm:p-3 rounded-full text-white shadow-lg hover:shadow-blue-500/50 transition-all duration-300",children:g.jsx(Ow,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),a&&g.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"bg-black p-2.5 sm:p-3 rounded-full text-white shadow-lg hover:shadow-gray-500/50 transition-all duration-300",children:g.jsx(gM,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]})),_M=()=>{const[t,e]=Z.useState([]),[n,r]=Z.useState({rating:5,comment:""}),{isLoaded:i,isSignedIn:s,user:o}=Rl(),[a,l]=Z.useState(!1);Z.useEffect(()=>{(async()=>{try{const f=qj(Gv(im,"reviews"),Hj("createdAt","desc"),$j(50)),A=await Xj(f);e(A.docs.map(_=>{var E,C;return{id:_.id,..._.data(),createdAt:((C=(E=_.data().createdAt)==null?void 0:E.toDate)==null?void 0:C.call(E))||null}}))}catch(f){console.error("Error fetching reviews:",f)}})()},[]);const c=Z.useCallback(async y=>{if(s)try{await Jj(oA(im,"reviews",y)),e(f=>f.filter(A=>A.id!==y)),Sr({title:"Review deleted"})}catch{Sr({title:"Error",description:"Could not delete review",variant:"destructive"})}},[s]),u=Z.useCallback(async y=>{if(y.preventDefault(),!s)return Sr({title:"Please sign in",variant:"destructive"});if(n.comment.trim().length<3)return Sr({title:"Comment too short",variant:"destructive"});try{const f={name:o.fullName||o.username||"Anonymous",userId:o.id,rating:Number(n.rating),comment:n.comment.trim(),createdAt:Qj()},A=await Zj(Gv(im,"reviews"),f);e(_=>[{id:A.id,...f,createdAt:new Date},..._]),r({rating:5,comment:""}),Sr({title:"Review submitted!"})}catch{Sr({title:"Error",description:"Failed to submit review",variant:"destructive"})}},[s,n,o]),m=Z.useCallback((y,f=!1,A=null)=>g.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(_=>g.jsx(gr,{className:`h-5 w-5 ${_<=y?"text-orange-400 fill-current":"text-gray-300"} ${f?"cursor-pointer hover:text-orange-400":""}`,onClick:f?()=>A(_):void 0},_))}),[]);return i?g.jsxs(g.Fragment,{children:[g.jsxs(Al,{children:[g.jsx("title",{children:"NumaVaastu - Expert Numerology & Vaastu Consultancy"}),g.jsx("meta",{name:"description",content:"Get expert numerology and vaastu consultations. Transform your life with ancient wisdom and modern insights."})]}),g.jsxs("div",{className:"min-h-screen",children:[g.jsx("section",{className:"relative pt-16 sm:pt-20 pb-8 sm:pb-12 px-4 text-center overflow-hidden min-h-[70vh] sm:min-h-screen flex items-center",children:g.jsx("div",{className:"container mx-auto max-w-6xl relative z-10",children:g.jsxs(_t.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},className:"space-y-6 sm:space-y-8",children:[g.jsxs("div",{className:"inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 bg-white/20 backdrop-blur-md rounded-full border border-white/30 text-white font-medium text-sm sm:text-base",children:[g.jsx("span",{className:"mr-2",children:""}),"Ancient Wisdom, Modern Transformation"]}),g.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-8xl font-bold text-white leading-tight",style:{textShadow:"3px 3px 6px rgba(0,0,0,0.4)"},children:["Welcome to ",g.jsx("span",{className:"block mt-2 sm:mt-4 text-black",style:{textShadow:"2px 2px 4px rgba(255,255,255,0.5)"},children:"NumaVaastu"})]}),g.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-white/95 max-w-4xl mx-auto font-medium px-2",style:{textShadow:"1px 1px 3px rgba(0,0,0,0.3)"},children:"Combining Ancient Numerology and Vaastu Shastra for Your Complete Life Transformation"}),g.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap justify-center gap-4 sm:gap-6 mt-8 sm:mt-12 px-4",children:[s?g.jsxs(Io,{open:a,onOpenChange:l,children:[g.jsx(Vc,{asChild:!0,children:g.jsxs(Gt,{className:"w-full sm:w-auto bg-white text-orange-600 hover:bg-orange-50 font-bold px-6 sm:px-10 py-3 sm:py-4 text-base sm:text-lg rounded-full shadow-2xl",children:[g.jsx(Qd,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Book Consultation"]})}),g.jsxs(Gs,{className:"max-w-[95vw] sm:max-w-[425px] bg-white mx-2",children:[g.jsxs(Ks,{children:[g.jsx(Xs,{className:"text-orange-600 text-lg sm:text-xl font-bold",children:"Book a Consultation"}),g.jsx(Js,{className:"text-gray-600",children:"Fill out the form below and we'll contact you shortly"})]}),g.jsx(Ia,{onSuccess:()=>l(!1)})]})]}):g.jsx(Fs,{mode:"modal",children:g.jsxs(Gt,{className:"w-full sm:w-auto bg-white text-orange-600 hover:bg-orange-50 font-bold px-6 sm:px-10 py-3 sm:py-4 text-base sm:text-lg rounded-full shadow-2xl",children:[g.jsx(Qd,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Book Consultation"]})}),g.jsx(Gt,{asChild:!0,variant:"outline",className:"w-full sm:w-auto bg-white/10 border-white/30 text-white hover:bg-white/20 font-bold px-6 sm:px-10 py-3 sm:py-4 text-base sm:text-lg rounded-full backdrop-blur-md shadow-xl",children:g.jsxs(Vs,{to:"/services",children:[g.jsx(Vw,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Explore Services"]})})]}),g.jsx(_t.div,{className:"inline-block bg-gradient-to-r from-yellow-400 to-orange-400 text-orange-900 font-bold px-6 sm:px-8 py-2 sm:py-3 rounded-full shadow-2xl text-sm sm:text-base mt-8",animate:{opacity:[1,.85,1]},transition:{duration:2,repeat:1/0},children:" Special Launch Offer - 77% Off "})]})})}),g.jsx("section",{className:"py-12 sm:py-16 bg-white",children:g.jsx("div",{className:"container mx-auto px-4",children:g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-12 items-center",children:[g.jsxs(_t.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},className:"space-y-4 sm:space-y-6",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold gradient-text",children:"Book Expert Consultation"}),g.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"Get personalized guidance from our experts in numerology and vaastu shastra."}),g.jsx("div",{className:"glass-card p-4 sm:p-6 rounded-2xl border border-orange-200/50",children:g.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-3",children:[g.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 p-2 rounded-full flex-shrink-0",children:g.jsx(Ou,{className:"h-5 w-5 text-white"})}),g.jsxs("div",{className:"flex-1 w-full",children:[g.jsx("h3",{className:"font-semibold text-orange-800 text-base sm:text-lg mb-1",children:"Instant Call Consultation"}),g.jsx("p",{className:"text-xs sm:text-sm text-orange-700 mb-3",children:"Connect directly with Rishabh Goel for immediate guidance"}),g.jsxs("div",{className:"flex flex-col xs:flex-row items-start xs:items-center justify-between glass-card p-3 rounded-xl border border-orange-200/30 gap-2",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-xs text-gray-500 line-through block",children:"Regular: 2099"}),g.jsx("span",{className:"text-lg sm:text-xl font-bold text-orange-600",children:"Only 499"})]}),g.jsxs("div",{className:"text-left xs:text-right",children:[g.jsx("span",{className:"badge-premium text-xs",children:"77% OFF"}),g.jsx("p",{className:"text-xs text-green-600 mt-1 font-medium",children:"Limited Time"})]})]})]})]})}),g.jsx("div",{className:"flex flex-wrap gap-4",children:s?g.jsxs(Io,{open:a,onOpenChange:l,children:[g.jsx(Vc,{asChild:!0,children:g.jsx(Gt,{className:"btn-premium text-white font-semibold px-6 sm:px-8 py-2.5 sm:py-3 text-base sm:text-lg rounded-full",children:"Book Consultation"})}),g.jsxs(Gs,{className:"max-w-[95vw] sm:max-w-[425px] bg-white mx-2",children:[g.jsxs(Ks,{children:[g.jsx(Xs,{className:"gradient-text",children:"Book a Consultation"}),g.jsx(Js,{children:"Fill out the form below"})]}),g.jsx(Ia,{onSuccess:()=>l(!1)})]})]}):g.jsx(Fs,{mode:"modal",children:g.jsx(Gt,{className:"btn-premium text-white font-semibold px-6 sm:px-8 py-2.5 sm:py-3 text-base sm:text-lg rounded-full",children:"Book Consultation"})})})]}),g.jsx(_t.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"flex justify-center mt-8 md:mt-0",children:g.jsx("img",{src:"https://eugenixhairsciences.com/wp-content/uploads/2023/09/consultation.jpg",alt:"Consultation",className:"rounded-xl shadow-lg w-full max-w-sm sm:max-w-md hover-lift",loading:"lazy"})})]})})}),g.jsxs("section",{className:"py-12 sm:py-16 md:py-20 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-50 via-white to-orange-50"}),g.jsx("div",{className:"container mx-auto px-4 relative z-10",children:g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-12 items-center",children:[g.jsx(_t.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},className:"flex justify-center order-2 md:order-1",children:g.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80",alt:"Calculator",className:"rounded-xl shadow-lg w-full max-w-sm sm:max-w-md hover-lift",loading:"lazy"})}),g.jsxs(_t.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"space-y-4 sm:space-y-6 order-1 md:order-2",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold gradient-text",children:"Numerology Calculator"}),g.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"Discover insights about yourself with our advanced numerology calculator:"}),g.jsx("ul",{className:"space-y-3 sm:space-y-4 text-gray-700",children:["Analyzes your core personality traits","Shows your current fortune meter","Checks name compatibility"].map((y,f)=>g.jsxs("li",{className:"flex items-start",children:[g.jsx(xl,{className:"h-5 w-5 text-orange-500 mr-2 mt-1 flex-shrink-0"}),g.jsx("span",{className:"text-sm sm:text-base",children:y})]},f))}),g.jsx(Gt,{asChild:!0,className:"btn-premium text-white font-semibold px-6 sm:px-8 py-2.5 sm:py-3 text-base sm:text-lg rounded-full",children:g.jsxs(Vs,{to:"/calculator",children:[g.jsx(xl,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Try Calculator"]})})]})]})})]}),g.jsxs("section",{className:"py-12 sm:py-16 md:py-20 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-100 via-white to-orange-50"}),g.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[g.jsxs(_t.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-10 sm:mb-16",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold gradient-text mb-3 sm:mb-4",children:"Trusted by Thousands"}),g.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 max-w-2xl mx-auto px-4",children:"Our proven track record speaks for itself"})]}),g.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 md:gap-8",children:wM.map((y,f)=>g.jsx(_t.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:f*.1},className:"text-center",children:g.jsxs("div",{className:"glass-card card-glow p-4 sm:p-6 md:p-8 rounded-2xl h-full",children:[g.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 mx-auto mb-4 sm:mb-6 rounded-full bg-gradient-to-r ${y.color} flex items-center justify-center shadow-lg`,children:g.jsx(y.icon,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 text-white"})}),g.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold text-gray-900 mb-1 sm:mb-2",children:g.jsx(yM,{end:y.number,suffix:y.suffix,duration:2.5})}),g.jsx("div",{className:"text-gray-600 font-semibold text-sm sm:text-base md:text-lg",children:y.label})]})},f))})]})]}),g.jsxs("section",{className:"py-12 sm:py-16 md:py-20 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-50 via-orange-50 to-white"}),g.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[g.jsxs(_t.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-10 sm:mb-16",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold gradient-text mb-3 sm:mb-4",children:"Meet Our Expert Consultants"}),g.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"Our experienced consultants combine ancient wisdom with modern insights"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6 sm:gap-8 md:gap-12 max-w-6xl mx-auto",children:[g.jsx(v5,{name:"Yashraj Guruji",title:"Senior Numerology & Vaastu Consultant",description:"With over 20 years of experience in numerology, Yashraj Guruji has helped thousands discover their life path through numbers.",image:"/images/Profile2.jpg",skills:["Expert in Life Path Analysis","Residential Vaastu Specialist","Business Numerology Consultant"],instagram:"https://www.instagram.com/yashrajguruji/",facebook:"https://www.facebook.com/yashrajguruji"}),g.jsx(v5,{name:"Rishabh Goel",title:"Numerology & Vaastu Consultant",description:"A renowned Vaastu expert with 7+ years of experience, Rishabh Goel harmonizes spaces for prosperity and peace.",image:"/images/Profile.jpg",skills:["Residential Vaastu Specialist","Commercial Space Consultant","Numerology Consultant"],instagram:"https://www.instagram.com/goel_bhaiji/",facebook:"https://www.facebook.com/VaastuGuruBhaaiji",xLink:"https://x.com/vastugurubhaiji",delay:.2})]})]})]}),g.jsxs("section",{className:"py-12 sm:py-16 md:py-20 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white via-orange-50 to-orange-50"}),g.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[g.jsxs(_t.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-10 sm:mb-16",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold gradient-text mb-3 sm:mb-4",children:"What Our Clients Say"}),g.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 max-w-2xl mx-auto",children:"Real experiences from satisfied clients"})]}),t.length>0?g.jsx("div",{className:"mb-12 sm:mb-16",children:g.jsx(bM,{reviews:t,isSignedIn:s,user:o,handleDeleteReview:c})}):g.jsx("div",{className:"text-center py-12 sm:py-16",children:g.jsxs("div",{className:"glass-card p-6 sm:p-8 rounded-2xl max-w-md mx-auto",children:[g.jsx("div",{className:"text-5xl sm:text-6xl mb-4",children:""}),g.jsx("p",{className:"text-gray-600 text-base sm:text-lg",children:"No reviews yet. Be the first!"})]})}),g.jsx(_t.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"max-w-2xl mx-auto",children:g.jsxs("div",{className:"glass-card-strong card-glow p-6 sm:p-8 rounded-3xl",children:[g.jsx("h3",{className:"text-xl sm:text-2xl font-bold gradient-text mb-6 text-center",children:"Share Your Experience"}),!s&&g.jsx("div",{className:"text-center mb-8",children:g.jsxs("div",{className:"glass-card p-4 sm:p-6 rounded-2xl border border-orange-200",children:[g.jsx("div",{className:"text-3xl sm:text-4xl mb-3",children:""}),g.jsx("p",{className:"text-orange-700 mb-4 font-medium text-sm sm:text-base",children:"Please login to submit a review"}),g.jsx(Fs,{mode:"modal",children:g.jsx(Gt,{className:"btn-premium text-white font-semibold px-6 sm:px-8 py-2.5 sm:py-3 rounded-full",children:"Login / Sign Up"})})]})}),g.jsxs("form",{onSubmit:u,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx(Ki,{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Your Rating"}),g.jsx("div",{className:"flex justify-center",children:m(n.rating,!0,y=>r({...n,rating:y}))})]}),g.jsxs("div",{children:[g.jsx(Ki,{htmlFor:"comment",className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Your Review"}),g.jsx("textarea",{id:"comment",value:n.comment,onChange:y=>r({...n,comment:y.target.value}),placeholder:"Share your experience...",className:"input-enhanced w-full p-4 border border-gray-200 rounded-2xl focus:border-orange-500 focus:ring-orange-500 min-h-[100px] sm:min-h-[120px] resize-none bg-white/50",disabled:!s,required:!0})]}),g.jsx(Gt,{type:"submit",disabled:!s,className:"btn-premium w-full text-white font-semibold py-3 sm:py-4 text-base sm:text-lg rounded-2xl",children:"Submit Review "})]})]})})]})]})]})]}):g.jsx(Fh,{})},xM=()=>{const[t,e]=Z.useState("numerology"),[n,r]=Z.useState(!1),{isSignedIn:i,user:s,isLoaded:o}=Rl(),a=[{number:1,meaning:"Leadership",description:"Independent, driven, and natural leaders with a pioneering spirit.",color:"text-red-500"},{number:2,meaning:"Harmony",description:"Sensitive, diplomatic, and gifted at bringing people together.",color:"text-orange-500"},{number:3,meaning:"Knowledge",description:"Curious minds who value learning, insight, and intellectual growth.",color:"text-orange-500"},{number:4,meaning:"Stability",description:"Practical, reliable, and hardworking with a love for order.",color:"text-green-500"},{number:5,meaning:"Freedom",description:"Adventurous and versatile individuals who thrive on change and express themselves with clarity and confidence.",color:"text-blue-500"},{number:6,meaning:"Care",description:"Caring, family-focused, and drawn to beauty, comfort, and elegance.",color:"text-indigo-500"},{number:7,meaning:"Spiritual",description:"Introspective, analytical, and seekers of deeper meaning.",color:"text-purple-500"},{number:8,meaning:"Ambition",description:"Confident, disciplined, and success-oriented with strong willpower.",color:"text-pink-500"},{number:9,meaning:"Compassion",description:"Kind, idealistic, and devoted to service and global harmony.",color:"text-teal-500"}],l=[{direction:"North",element:"Water",significance:"Wealth and Career",tips:"Keep this area clean and clutter-free. Place water features here.",icon:""},{direction:"Northeast",element:"Water + Earth",significance:"Spirituality and Knowledge",tips:"Ideal for prayer room or study area. Avoid heavy furniture.",icon:""},{direction:"East",element:"Air",significance:"Health and Family",tips:"Good for main entrance. Keep windows open for fresh air.",icon:""},{direction:"Southeast",element:"Fire",significance:"Energy and Passion",tips:"Perfect for kitchen placement. Avoid water elements here.",icon:""},{direction:"South",element:"Fire",significance:"Fame and Recognition",tips:"Display achievements and awards. Use red or orange colors.",icon:""},{direction:"Southwest",element:"Earth",significance:"Relationships and Stability",tips:"Master bedroom location. Use earth tones and heavy furniture.",icon:""},{direction:"West",element:"Metal",significance:"Children and Creativity",tips:"Good for children's room. Display creative works here.",icon:""},{direction:"Northwest",element:"Metal + Air",significance:"Travel and Helpful People",tips:"Guest room or office space. Keep travel photos here.",icon:""}];return o?g.jsxs(g.Fragment,{children:[g.jsxs(Al,{children:[g.jsx("title",{children:"About Numerology & Vaastu"}),g.jsx("meta",{name:"description",content:"Explore the ancient sciences of numerology and vaastu shastra. Learn principles, meanings, and practical applications for a harmonious life."})]}),g.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 pb-8",children:g.jsxs("div",{className:"container mx-auto px-4",children:[g.jsxs(_t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-6 sm:mb-10",children:[g.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-7xl font-bold text-white text-shadow mb-2 sm:mb-4",children:["About ",g.jsx("span",{className:"text-black",children:"Ancient Wisdom"})]}),g.jsx("p",{className:"text-sm sm:text-lg text-white max-w-3xl mx-auto px-2",children:"Discover the profound sciences of numerology and vaastu shastra"})]}),g.jsx(_t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex justify-center mb-6 sm:mb-10",children:g.jsxs("div",{className:"bg-white rounded-2xl p-2 shadow-lg flex",children:[g.jsxs("button",{onClick:()=>e("numerology"),className:`px-4 sm:px-8 py-2 sm:py-3 rounded-xl font-medium transition-all duration-300 text-sm sm:text-base whitespace-nowrap ${t==="numerology"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[g.jsx(xl,{className:"inline-block w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2"}),"Numerology"]}),g.jsxs("button",{onClick:()=>e("vaastu"),className:`px-4 sm:px-8 py-2 sm:py-3 rounded-xl font-medium transition-all duration-300 text-sm sm:text-base whitespace-nowrap ${t==="vaastu"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[g.jsx(Dw,{className:"inline-block w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2"}),"Vaastu"]})]})}),t==="numerology"&&g.jsxs(_t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[g.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"What is Numerology?"}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-700 mb-4",children:"Numerology is the ancient study of numbers and their mystical relationship with life events. It's based on the belief that numbers have vibrational frequencies that influence our lives, personalities, and destinies."}),g.jsx("p",{className:"text-gray-700 mb-6",children:"By analyzing your birth date and name, numerology reveals insights about your:"}),g.jsxs("ul",{className:"space-y-2 text-gray-700",children:[g.jsxs("li",{className:"flex items-center",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2"})," Life Path and Purpose"]}),g.jsxs("li",{className:"flex items-center",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2"})," Personality Traits"]}),g.jsxs("li",{className:"flex items-center",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2"})," Career Guidance"]}),g.jsxs("li",{className:"flex items-center",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2"})," Relationship Compatibility"]})]})]}),g.jsx("div",{className:"text-center",children:g.jsx("img",{alt:"Numerology chart with mystical numbers and symbols",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg",src:"https://images.unsplash.com/photo-1644212054093-e5924f084240"})})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[g.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Core Number Meanings"}),g.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:a.map((c,u)=>g.jsxs(_t.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",children:[g.jsxs("div",{className:"text-center mb-4",children:[g.jsx("div",{className:`text-4xl font-bold ${c.color} mb-2`,children:c.number}),g.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:c.meaning})]}),g.jsx("p",{className:"text-gray-600 text-sm text-center",children:c.description})]},c.number))})]})]}),t==="vaastu"&&g.jsxs(_t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[g.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"What is Vaastu Shastra?"}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-700 mb-4",children:"Vaastu Shastra is an ancient Indian science of architecture and space arrangement. It harmonizes human dwellings with natural forces and cosmic energies to promote prosperity, health, and happiness."}),g.jsx("p",{className:"text-gray-700 mb-6",children:"Based on the five elements (Panchamahabhuta), Vaastu principles help create:"}),g.jsxs("ul",{className:"space-y-2 text-gray-700",children:[g.jsxs("li",{className:"flex items-center",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2"})," Positive Energy Flow"]}),g.jsxs("li",{className:"flex items-center",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2"})," Enhanced Well-being"]}),g.jsxs("li",{className:"flex items-center",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2"})," Financial Prosperity"]}),g.jsxs("li",{className:"flex items-center",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2"})," Harmonious Relationships"]})]})]}),g.jsx("div",{className:"text-center",children:g.jsx("img",{alt:"Vaastu compass showing eight directions with elements",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg",src:"https://images.unsplash.com/photo-1598677128962-89d71838f39b"})})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[g.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Directional Principles"}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((c,u)=>g.jsxs(_t.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",children:[g.jsxs("div",{className:"text-center mb-4",children:[g.jsx("div",{className:"text-3xl mb-2",children:c.icon}),g.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:c.direction}),g.jsx("p",{className:"text-sm text-orange-600 font-medium",children:c.element})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-medium text-gray-700",children:c.significance}),g.jsx("p",{className:"text-xs text-gray-600",children:c.tips})]})]},c.direction))})]})]}),g.jsx(_t.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mt-16",children:g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[g.jsx("h3",{className:"text-2xl font-bold gradient-text mb-4",children:"Ready to Apply This Knowledge?"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Use our calculator to get personalized insights or book a consultation with our experts"}),g.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[g.jsx(Gt,{asChild:!0,className:"orange-gradient text-white transition-transform duration-300 ease-in-out hover:scale-105 hover:orange-gradient-hover rounded-xl",children:g.jsx(Vs,{to:"/calculator",children:"Try Calculator"})}),i?g.jsxs(Io,{open:n,onOpenChange:r,children:[g.jsx(Vc,{asChild:!0,children:g.jsx(Gt,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Consultation"})}),g.jsxs(Gs,{className:"sm:max-w-[425px]",children:[g.jsxs(Ks,{children:[g.jsx(Xs,{children:"Book a Consultation"}),g.jsx(Js,{children:"Fill out the form below and we'll contact you shortly"})]}),g.jsx(Ia,{onSuccess:()=>r(!1)})]})]}):g.jsx(Fs,{mode:"modal",children:g.jsx(Gt,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Consultation"})})]})]})})]})})]}):g.jsx(Fh,{})},AM=({user:t,isSignedIn:e,setFormData:n,setResults:r,formData:i})=>{const[s,o]=Z.useState(!1),a=async c=>{if(c.preventDefault(),!e){Sr({title:"Sign In Required",description:"Please sign in to use the calculator",variant:"destructive"});return}if(!i.name.trim()||!i.birthDate){Sr({title:"Error",description:"Please fill in your name and birth date",variant:"destructive"});return}o(!0),setTimeout(()=>{r({name:i.name,birthDate:i.birthDate});const u={...i,timestamp:new Date().toISOString(),userId:t.id},m=JSON.parse(localStorage.getItem("numavaastu_calculations")||"[]");m.push(u),localStorage.setItem("numavaastu_calculations",JSON.stringify(m)),Sr({title:"Success!",description:"Your numerology profile has been generated."}),o(!1)},1500)},l=c=>{n({...i,[c.target.name]:c.target.value})};return g.jsxs(_t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"bg-white rounded-2xl shadow-xl p-8 card-shadow",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx(xl,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"}),g.jsx("h2",{className:"text-2xl font-bold gradient-text mb-2",children:"Personal Numerology Reading"}),g.jsx("p",{className:"text-gray-600",children:"Enter your details to unlock the secrets of your numbers"})]}),!e&&g.jsxs("div",{className:"text-center mb-8 p-6 bg-orange-50 rounded-xl border border-orange-200",children:[g.jsx("div",{className:"text-3xl sm:text-4xl mb-3",children:""}),g.jsx("p",{className:"text-orange-700 mb-4 font-medium",children:"Please sign in to calculate your results"}),g.jsx(Fs,{mode:"modal",children:g.jsx(Gt,{className:"orange-gradient text-white hover:orange-gradient-hover font-semibold px-6 sm:px-8 py-2.5 sm:py-3 rounded-full",children:"Login / Sign Up"})})]}),g.jsxs("form",{onSubmit:a,className:"space-y-6",children:[g.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ki,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),g.jsxs("div",{className:"relative",children:[g.jsx(gN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),g.jsx(ga,{id:"name",name:"name",type:"text",value:i.name,onChange:l,placeholder:"Enter your full name",className:"pl-10",required:!0,disabled:!e})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ki,{htmlFor:"birthDate",className:"text-sm font-medium text-gray-700",children:"Birth Date *"}),g.jsxs("div",{className:"relative",children:[g.jsx(Qd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),g.jsx(ga,{id:"birthDate",name:"birthDate",type:"date",value:i.birthDate,onChange:l,className:"pl-10",required:!0,disabled:!e})]})]})]}),g.jsx(Gt,{type:"submit",disabled:s||!e,className:"w-full orange-gradient text-white transition-transform duration-300 ease-in-out hover:scale-105 hover:orange-gradient-hover py-3 text-lg rounded-xl",children:s?"Calculating Your Numbers...":"Generate My Report"})]})]})},TM="modulepreload",EM=function(t){return"/"+t},b5={},sm=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=EM(s),s in b5)return;b5[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const m=i[u];if(m.href===s&&(!o||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":TM,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,m)=>{c.addEventListener("load",u),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function rn(t){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(t)}var ys=Uint8Array,ji=Uint16Array,y1=Int32Array,v1=new ys([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),b1=new ys([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),w5=new ys([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QA=function(t,e){for(var n=new ji(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new y1(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},e3=QA(v1,2),SM=e3.b,Ig=e3.r;SM[28]=258,Ig[258]=28;var NM=QA(b1,0),_5=NM.r,Pg=new ji(32768);for(var Tn=0;Tn<32768;++Tn){var sa=(Tn&43690)>>1|(Tn&21845)<<1;sa=(sa&52428)>>2|(sa&13107)<<2,sa=(sa&61680)>>4|(sa&3855)<<4,Pg[Tn]=((sa&65280)>>8|(sa&255)<<8)>>1}var Wu=function(t,e,n){for(var r=t.length,i=0,s=new ji(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new ji(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ji(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],m=o[t[i]-1]++<<u,y=m|(1<<u)-1;m<=y;++m)a[Pg[m]>>l]=c}else for(a=new ji(r),i=0;i<r;++i)t[i]&&(a[i]=Pg[o[t[i]-1]++]>>15-t[i]);return a},Pl=new ys(288);for(var Tn=0;Tn<144;++Tn)Pl[Tn]=8;for(var Tn=144;Tn<256;++Tn)Pl[Tn]=9;for(var Tn=256;Tn<280;++Tn)Pl[Tn]=7;for(var Tn=280;Tn<288;++Tn)Pl[Tn]=8;var Pf=new ys(32);for(var Tn=0;Tn<32;++Tn)Pf[Tn]=5;var IM=Wu(Pl,9,0),PM=Wu(Pf,5,0),t3=function(t){return(t+7)/8|0},CM=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new ys(t.subarray(e,n))},bo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Su=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},om=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:r3,l:0};if(i==1){var o=new ys(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(ee,ne){return ee.f-ne.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,m=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[m].f?c++:m++],l=n[c!=u&&n[c].f<n[m].f?c++:m++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var f=new ji(y+1),A=Cg(n[u-1],f,0);if(A>e){var r=0,_=0,E=A-e,C=1<<E;for(s.sort(function(ne,B){return f[B.s]-f[ne.s]||ne.f-B.f});r<i;++r){var F=s[r].s;if(f[F]>e)_+=C-(1<<A-f[F]),f[F]=e;else break}for(_>>=E;_>0;){var M=s[r].s;f[M]<e?_-=1<<e-f[M]++-1:++r}for(;r>=0&&_;--r){var z=s[r].s;f[z]==e&&(--f[z],++_)}A=e}return{t:new ys(f),l:A}},Cg=function(t,e,n){return t.s==-1?Math.max(Cg(t.l,e,n+1),Cg(t.r,e,n+1)):e[t.s]=n},x5=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ji(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Nu=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},n3=function(t,e,n){var r=n.length,i=t3(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},A5=function(t,e,n,r,i,s,o,a,l,c,u){bo(e,u++,n),++i[256];for(var m=om(i,15),y=m.t,f=m.l,A=om(s,15),_=A.t,E=A.l,C=x5(y),F=C.c,M=C.n,z=x5(_),ee=z.c,ne=z.n,B=new ji(19),P=0;P<F.length;++P)++B[F[P]&31];for(var P=0;P<ee.length;++P)++B[ee[P]&31];for(var S=om(B,7),D=S.t,T=S.l,I=19;I>4&&!D[w5[I-1]];--I);var k=c+5<<3,Y=Nu(i,Pl)+Nu(s,Pf)+o,ce=Nu(i,y)+Nu(s,_)+o+14+3*I+Nu(B,D)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&k<=Y&&k<=ce)return n3(e,u,t.subarray(l,l+c));var de,me,le,ye;if(bo(e,u,1+(ce<Y)),u+=2,ce<Y){de=Wu(y,f,0),me=y,le=Wu(_,E,0),ye=_;var Re=Wu(D,T,0);bo(e,u,M-257),bo(e,u+5,ne-1),bo(e,u+10,I-4),u+=14;for(var P=0;P<I;++P)bo(e,u+3*P,D[w5[P]]);u+=3*I;for(var ve=[F,ee],j=0;j<2;++j)for(var $=ve[j],P=0;P<$.length;++P){var J=$[P]&31;bo(e,u,Re[J]),u+=D[J],J>15&&(bo(e,u,$[P]>>5&127),u+=$[P]>>12)}}else de=IM,me=Pl,le=PM,ye=Pf;for(var P=0;P<a;++P){var te=r[P];if(te>255){var J=te>>18&31;Su(e,u,de[J+257]),u+=me[J+257],J>7&&(bo(e,u,te>>23&31),u+=v1[J]);var ie=te&31;Su(e,u,le[ie]),u+=ye[ie],ie>3&&(Su(e,u,te>>5&8191),u+=b1[ie])}else Su(e,u,de[te]),u+=me[te]}return Su(e,u,de[256]),u+me[256]},kM=new y1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),r3=new ys(0),RM=function(t,e,n,r,i,s){var o=s.z||t.length,a=new ys(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var m=kM[e-1],y=m>>13,f=m&8191,A=(1<<n)-1,_=s.p||new ji(32768),E=s.h||new ji(A+1),C=Math.ceil(n/3),F=2*C,M=function(Xe){return(t[Xe]^t[Xe+1]<<C^t[Xe+2]<<F)&A},z=new y1(25e3),ee=new ji(288),ne=new ji(32),B=0,P=0,S=s.i||0,D=0,T=s.w||0,I=0;S+2<o;++S){var k=M(S),Y=S&32767,ce=E[k];if(_[Y]=ce,E[k]=Y,T<=S){var de=o-S;if((B>7e3||D>24576)&&(de>423||!c)){u=A5(t,l,0,z,ee,ne,P,D,I,S-I,u),D=B=P=0,I=S;for(var me=0;me<286;++me)ee[me]=0;for(var me=0;me<30;++me)ne[me]=0}var le=2,ye=0,Re=f,ve=Y-ce&32767;if(de>2&&k==M(S-ve))for(var j=Math.min(y,de)-1,$=Math.min(32767,S),J=Math.min(258,de);ve<=$&&--Re&&Y!=ce;){if(t[S+le]==t[S+le-ve]){for(var te=0;te<J&&t[S+te]==t[S+te-ve];++te);if(te>le){if(le=te,ye=ve,te>j)break;for(var ie=Math.min(ve,te-2),he=0,me=0;me<ie;++me){var be=S-ve+me&32767,we=_[be],xe=be-we&32767;xe>he&&(he=xe,ce=be)}}}Y=ce,ce=_[Y],ve+=Y-ce&32767}if(ye){z[D++]=268435456|Ig[le]<<18|_5[ye];var Ce=Ig[le]&31,Me=_5[ye]&31;P+=v1[Ce]+b1[Me],++ee[257+Ce],++ne[Me],T=S+le,++B}else z[D++]=t[S],++ee[t[S]]}}for(S=Math.max(S,T);S<o;++S)z[D++]=t[S],++ee[t[S]];u=A5(t,l,c,z,ee,ne,P,D,I,S-I,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=E,s.p=_,s.i=S,s.w=T)}else{for(var S=s.w||0;S<o+c;S+=65535){var Fe=S+65535;Fe>=o&&(l[u/8|0]=c,Fe=o),u=n3(l,u+1,t.subarray(S,Fe))}s.i=o}return CM(a,0,r+t3(u)+i)},i3=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},LM=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ys(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return RM(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},s3=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},jM=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=i3();i.p(e.dictionary),s3(t,2,i.d())}};function kg(t,e){e||(e={});var n=i3();n.p(t);var r=LM(t,e,e.dictionary?6:2,4);return jM(r,e),s3(r,r.length-4,n.d()),r}var OM=typeof TextDecoder<"u"&&new TextDecoder,DM=0;try{OM.decode(r3,{stream:!0}),DM=1}catch{}function MM(t){if(Array.isArray(t))return t}function FM(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function T5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function VM(t,e){if(t){if(typeof t=="string")return T5(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T5(t,e):void 0}}function BM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E5(t,e){return MM(t)||FM(t,e)||VM(t,e)||BM()}function S5(t,e="utf8"){return new TextDecoder(e).decode(t)}const UM=new TextEncoder;function zM(t){return UM.encode(t)}const qM=1024*8,HM=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),am={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class w1{constructor(e=qM,n={}){nn(this,"buffer");nn(this,"byteLength");nn(this,"byteOffset");nn(this,"length");nn(this,"offset");nn(this,"lastWrittenByte");nn(this,"littleEndian");nn(this,"_data");nn(this,"_mark");nn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof w1)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=am[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===HM&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new am[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new am[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return S5(this.readBytes(e))}decodeText(e=1,n="utf8"){return S5(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(zM(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const $M=4,N5=0,I5=1,WM=2;function Zc(t){let e=t.length;for(;--e>=0;)t[e]=0}const YM=0,o3=1,GM=2,KM=3,XM=258,_1=29,Vh=256,ph=Vh+1+_1,Ec=30,x1=19,a3=2*ph+1,gl=15,lm=16,JM=7,A1=256,l3=16,c3=17,u3=18,Rg=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),qd=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ZM=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),h3=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QM=512,_o=new Array((ph+2)*2);Zc(_o);const Yu=new Array(Ec*2);Zc(Yu);const mh=new Array(QM);Zc(mh);const gh=new Array(XM-KM+1);Zc(gh);const T1=new Array(_1);Zc(T1);const Cf=new Array(Ec);Zc(Cf);function cm(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let d3,f3,p3;function um(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const m3=t=>t<256?mh[t]:mh[256+(t>>>7)],yh=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},fi=(t,e,n)=>{t.bi_valid>lm-n?(t.bi_buf|=e<<t.bi_valid&65535,yh(t,t.bi_buf),t.bi_buf=e>>lm-t.bi_valid,t.bi_valid+=n-lm):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Ds=(t,e,n)=>{fi(t,n[e*2],n[e*2+1])},g3=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},e9=t=>{t.bi_valid===16?(yh(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},t9=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,m,y,f,A,_=0;for(y=0;y<=gl;y++)t.bl_count[y]=0;for(n[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<a3;c++)u=t.heap[c],y=n[n[u*2+1]*2+1]+1,y>l&&(y=l,_++),n[u*2+1]=y,!(u>r)&&(t.bl_count[y]++,f=0,u>=a&&(f=o[u-a]),A=n[u*2],t.opt_len+=A*(y+f),s&&(t.static_len+=A*(i[u*2+1]+f)));if(_!==0){do{for(y=l-1;t.bl_count[y]===0;)y--;t.bl_count[y]--,t.bl_count[y+1]+=2,t.bl_count[l]--,_-=2}while(_>0);for(y=l;y!==0;y--)for(u=t.bl_count[y];u!==0;)m=t.heap[--c],!(m>r)&&(n[m*2+1]!==y&&(t.opt_len+=(y-n[m*2+1])*n[m*2],n[m*2+1]=y),u--)}},y3=(t,e,n)=>{const r=new Array(gl+1);let i=0,s,o;for(s=1;s<=gl;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=g3(r[a]++,a))}},n9=()=>{let t,e,n,r,i;const s=new Array(gl+1);for(n=0,r=0;r<_1-1;r++)for(T1[r]=n,t=0;t<1<<Rg[r];t++)gh[n++]=r;for(gh[n-1]=r,i=0,r=0;r<16;r++)for(Cf[r]=i,t=0;t<1<<qd[r];t++)mh[i++]=r;for(i>>=7;r<Ec;r++)for(Cf[r]=i<<7,t=0;t<1<<qd[r]-7;t++)mh[256+i++]=r;for(e=0;e<=gl;e++)s[e]=0;for(t=0;t<=143;)_o[t*2+1]=8,t++,s[8]++;for(;t<=255;)_o[t*2+1]=9,t++,s[9]++;for(;t<=279;)_o[t*2+1]=7,t++,s[7]++;for(;t<=287;)_o[t*2+1]=8,t++,s[8]++;for(y3(_o,ph+1,s),t=0;t<Ec;t++)Yu[t*2+1]=5,Yu[t*2]=g3(t,5);d3=new cm(_o,Rg,Vh+1,ph,gl),f3=new cm(Yu,qd,0,Ec,gl),p3=new cm(new Array(0),ZM,0,x1,JM)},v3=t=>{let e;for(e=0;e<ph;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Ec;e++)t.dyn_dtree[e*2]=0;for(e=0;e<x1;e++)t.bl_tree[e*2]=0;t.dyn_ltree[A1*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},b3=t=>{t.bi_valid>8?yh(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},P5=(t,e,n,r)=>{const i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},hm=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&P5(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!P5(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},C5=(t,e,n)=>{let r,i,s=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+s++]&255,r+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],r===0?Ds(t,i,e):(o=gh[i],Ds(t,o+Vh+1,e),a=Rg[o],a!==0&&(i-=T1[o],fi(t,i,a)),r--,o=m3(r),Ds(t,o,n),a=qd[o],a!==0&&(r-=Cf[o],fi(t,r,a)));while(s<t.sym_next);Ds(t,A1,e)},Lg=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l=-1,c;for(t.heap_len=0,t.heap_max=a3,o=0;o<s;o++)n[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,n[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=r[c*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)hm(t,n,o);c=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],hm(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[c*2]=n[o*2]+n[a*2],t.depth[c]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=c,t.heap[1]=c++,hm(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],t9(t,e),y3(n,l,t.bl_count)},k5=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)&&(a<c?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[l3*2]++):a<=10?t.bl_tree[c3*2]++:t.bl_tree[u3*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},R5=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)){if(a<c)do Ds(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Ds(t,s,t.bl_tree),a--),Ds(t,l3,t.bl_tree),fi(t,a-3,2)):a<=10?(Ds(t,c3,t.bl_tree),fi(t,a-3,3)):(Ds(t,u3,t.bl_tree),fi(t,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},r9=t=>{let e;for(k5(t,t.dyn_ltree,t.l_desc.max_code),k5(t,t.dyn_dtree,t.d_desc.max_code),Lg(t,t.bl_desc),e=x1-1;e>=3&&t.bl_tree[h3[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},i9=(t,e,n,r)=>{let i;for(fi(t,e-257,5),fi(t,n-1,5),fi(t,r-4,4),i=0;i<r;i++)fi(t,t.bl_tree[h3[i]*2+1],3);R5(t,t.dyn_ltree,e-1),R5(t,t.dyn_dtree,n-1)},s9=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return N5;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return I5;for(n=32;n<Vh;n++)if(t.dyn_ltree[n*2]!==0)return I5;return N5};let L5=!1;const o9=t=>{L5||(n9(),L5=!0),t.l_desc=new um(t.dyn_ltree,d3),t.d_desc=new um(t.dyn_dtree,f3),t.bl_desc=new um(t.bl_tree,p3),t.bi_buf=0,t.bi_valid=0,v3(t)},w3=(t,e,n,r)=>{fi(t,(YM<<1)+(r?1:0),3),b3(t),yh(t,n),yh(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},a9=t=>{fi(t,o3<<1,3),Ds(t,A1,_o),e9(t)},l9=(t,e,n,r)=>{let i,s,o=0;t.level>0?(t.strm.data_type===WM&&(t.strm.data_type=s9(t)),Lg(t,t.l_desc),Lg(t,t.d_desc),o=r9(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?w3(t,e,n,r):t.strategy===$M||s===i?(fi(t,(o3<<1)+(r?1:0),3),C5(t,_o,Yu)):(fi(t,(GM<<1)+(r?1:0),3),i9(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),C5(t,t.dyn_ltree,t.dyn_dtree)),v3(t),r&&b3(t)},c9=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(gh[n]+Vh+1)*2]++,t.dyn_dtree[m3(e)*2]++),t.sym_next===t.sym_end);var u9=o9,h9=w3,d9=l9,f9=c9,p9=a9,m9={_tr_init:u9,_tr_stored_block:h9,_tr_flush_block:d9,_tr_tally:f9,_tr_align:p9};const g9=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var vh=g9;const y9=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},v9=new Uint32Array(y9()),b9=(t,e,n,r)=>{const i=v9,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var pr=b9,Bc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Bh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:w9,_tr_stored_block:jg,_tr_flush_block:_9,_tr_tally:Pa,_tr_align:x9}=m9,{Z_NO_FLUSH:Ca,Z_PARTIAL_FLUSH:A9,Z_FULL_FLUSH:T9,Z_FINISH:Zi,Z_BLOCK:j5,Z_OK:Tr,Z_STREAM_END:O5,Z_STREAM_ERROR:Zs,Z_DATA_ERROR:E9,Z_BUF_ERROR:dm,Z_DEFAULT_COMPRESSION:S9,Z_FILTERED:N9,Z_HUFFMAN_ONLY:wd,Z_RLE:I9,Z_FIXED:P9,Z_DEFAULT_STRATEGY:C9,Z_UNKNOWN:k9,Z_DEFLATED:up}=Bh,R9=9,L9=15,j9=8,O9=29,D9=256,Og=D9+1+O9,M9=30,F9=19,V9=2*Og+1,B9=15,Ut=3,ya=258,Qs=ya+Ut+1,U9=32,Uc=42,E1=57,Dg=69,Mg=73,Fg=91,Vg=103,yl=113,Lu=666,ti=1,Qc=2,Cl=3,eu=4,z9=3,vl=(t,e)=>(t.msg=Bc[e],e),D5=t=>t*2-(t>4?9:0),fa=t=>{let e=t.length;for(;--e>=0;)t[e]=0},q9=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let H9=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,ka=H9;const Li=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Oi=(t,e)=>{_9(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Li(t.strm)},Kt=(t,e)=>{t.pending_buf[t.pending++]=e},Iu=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Bg=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=vh(t.adler,e,i,n):t.state.wrap===2&&(t.adler=pr(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},_3=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-Qs?t.strstart-(t.w_size-Qs):0,c=t.window,u=t.w_mask,m=t.prev,y=t.strstart+ya;let f=c[r+o-1],A=c[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(c[i+o]!==A||c[i+o-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<y);if(s=ya-(y-r),r=y-ya,s>o){if(t.match_start=e,o=s,s>=a)break;f=c[r+o-1],A=c[r+o]}}while((e=m[e&u])>l&&--n!==0);return o<=t.lookahead?o:t.lookahead},zc=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Qs)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),q9(t),r+=e),t.strm.avail_in===0)break;if(n=Bg(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=Ut)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=ka(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=ka(t,t.ins_h,t.window[i+Ut-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Ut)););}while(t.lookahead<Qs&&t.strm.avail_in!==0)},x3=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,s,o=0,a=t.strm.avail_in;do{if(r=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&e!==Zi||e===Ca||r!==i+t.strm.avail_in)))break;o=e===Zi&&r===i+t.strm.avail_in?1:0,jg(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Li(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(Bg(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?eu:e!==Ca&&e!==Zi&&t.strm.avail_in===0&&t.strstart===t.block_start?Qc:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(Bg(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,n=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=n||(i||e===Zi)&&e!==Ca&&t.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===Zi&&t.strm.avail_in===0&&r===i?1:0,jg(t,t.block_start,r,o),t.block_start+=r,Li(t.strm)),o?Cl:ti)},fm=(t,e)=>{let n,r;for(;;){if(t.lookahead<Qs){if(zc(t),t.lookahead<Qs&&e===Ca)return ti;if(t.lookahead===0)break}if(n=0,t.lookahead>=Ut&&(t.ins_h=ka(t,t.ins_h,t.window[t.strstart+Ut-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Qs&&(t.match_length=_3(t,n)),t.match_length>=Ut)if(r=Pa(t,t.strstart-t.match_start,t.match_length-Ut),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Ut){t.match_length--;do t.strstart++,t.ins_h=ka(t,t.ins_h,t.window[t.strstart+Ut-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ka(t,t.ins_h,t.window[t.strstart+1]);else r=Pa(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Oi(t,!1),t.strm.avail_out===0))return ti}return t.insert=t.strstart<Ut-1?t.strstart:Ut-1,e===Zi?(Oi(t,!0),t.strm.avail_out===0?Cl:eu):t.sym_next&&(Oi(t,!1),t.strm.avail_out===0)?ti:Qc},tc=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Qs){if(zc(t),t.lookahead<Qs&&e===Ca)return ti;if(t.lookahead===0)break}if(n=0,t.lookahead>=Ut&&(t.ins_h=ka(t,t.ins_h,t.window[t.strstart+Ut-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Ut-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Qs&&(t.match_length=_3(t,n),t.match_length<=5&&(t.strategy===N9||t.match_length===Ut&&t.strstart-t.match_start>4096)&&(t.match_length=Ut-1)),t.prev_length>=Ut&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Ut,r=Pa(t,t.strstart-1-t.prev_match,t.prev_length-Ut),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=ka(t,t.ins_h,t.window[t.strstart+Ut-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Ut-1,t.strstart++,r&&(Oi(t,!1),t.strm.avail_out===0))return ti}else if(t.match_available){if(r=Pa(t,0,t.window[t.strstart-1]),r&&Oi(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return ti}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Pa(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Ut-1?t.strstart:Ut-1,e===Zi?(Oi(t,!0),t.strm.avail_out===0?Cl:eu):t.sym_next&&(Oi(t,!1),t.strm.avail_out===0)?ti:Qc},$9=(t,e)=>{let n,r,i,s;const o=t.window;for(;;){if(t.lookahead<=ya){if(zc(t),t.lookahead<=ya&&e===Ca)return ti;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Ut&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+ya;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=ya-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Ut?(n=Pa(t,1,t.match_length-Ut),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Pa(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Oi(t,!1),t.strm.avail_out===0))return ti}return t.insert=0,e===Zi?(Oi(t,!0),t.strm.avail_out===0?Cl:eu):t.sym_next&&(Oi(t,!1),t.strm.avail_out===0)?ti:Qc},W9=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(zc(t),t.lookahead===0)){if(e===Ca)return ti;break}if(t.match_length=0,n=Pa(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Oi(t,!1),t.strm.avail_out===0))return ti}return t.insert=0,e===Zi?(Oi(t,!0),t.strm.avail_out===0?Cl:eu):t.sym_next&&(Oi(t,!1),t.strm.avail_out===0)?ti:Qc};function ks(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const ju=[new ks(0,0,0,0,x3),new ks(4,4,8,4,fm),new ks(4,5,16,8,fm),new ks(4,6,32,32,fm),new ks(4,4,16,16,tc),new ks(8,16,32,32,tc),new ks(8,16,128,128,tc),new ks(8,32,128,256,tc),new ks(32,128,258,1024,tc),new ks(32,258,258,4096,tc)],Y9=t=>{t.window_size=2*t.w_size,fa(t.head),t.max_lazy_match=ju[t.level].max_lazy,t.good_match=ju[t.level].good_length,t.nice_match=ju[t.level].nice_length,t.max_chain_length=ju[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Ut-1,t.match_available=0,t.ins_h=0};function G9(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=up,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(V9*2),this.dyn_dtree=new Uint16Array((2*M9+1)*2),this.bl_tree=new Uint16Array((2*F9+1)*2),fa(this.dyn_ltree),fa(this.dyn_dtree),fa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(B9+1),this.heap=new Uint16Array(2*Og+1),fa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Og+1),fa(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Uh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Uc&&e.status!==E1&&e.status!==Dg&&e.status!==Mg&&e.status!==Fg&&e.status!==Vg&&e.status!==yl&&e.status!==Lu?1:0},A3=t=>{if(Uh(t))return vl(t,Zs);t.total_in=t.total_out=0,t.data_type=k9;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?E1:e.wrap?Uc:yl,t.adler=e.wrap===2?0:1,e.last_flush=-2,w9(e),Tr},T3=t=>{const e=A3(t);return e===Tr&&Y9(t.state),e},K9=(t,e)=>Uh(t)||t.state.wrap!==2?Zs:(t.state.gzhead=e,Tr),E3=(t,e,n,r,i,s)=>{if(!t)return Zs;let o=1;if(e===S9&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>R9||n!==up||r<8||r>15||e<0||e>9||s<0||s>P9||r===8&&o!==1)return vl(t,Zs);r===8&&(r=9);const a=new G9;return t.state=a,a.strm=t,a.status=Uc,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Ut-1)/Ut),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=n,T3(t)},X9=(t,e)=>E3(t,e,up,L9,j9,C9),J9=(t,e)=>{if(Uh(t)||e>j5||e<0)return t?vl(t,Zs):Zs;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Lu&&e!==Zi)return vl(t,t.avail_out===0?dm:Zs);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Li(t),t.avail_out===0)return n.last_flush=-1,Tr}else if(t.avail_in===0&&D5(e)<=D5(r)&&e!==Zi)return vl(t,dm);if(n.status===Lu&&t.avail_in!==0)return vl(t,dm);if(n.status===Uc&&n.wrap===0&&(n.status=yl),n.status===Uc){let i=up+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=wd||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=U9),i+=31-i%31,Iu(n,i),n.strstart!==0&&(Iu(n,t.adler>>>16),Iu(n,t.adler&65535)),t.adler=1,n.status=yl,Li(t),n.pending!==0)return n.last_flush=-1,Tr}if(n.status===E1){if(t.adler=0,Kt(n,31),Kt(n,139),Kt(n,8),n.gzhead)Kt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Kt(n,n.gzhead.time&255),Kt(n,n.gzhead.time>>8&255),Kt(n,n.gzhead.time>>16&255),Kt(n,n.gzhead.time>>24&255),Kt(n,n.level===9?2:n.strategy>=wd||n.level<2?4:0),Kt(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Kt(n,n.gzhead.extra.length&255),Kt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=pr(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Dg;else if(Kt(n,0),Kt(n,0),Kt(n,0),Kt(n,0),Kt(n,0),Kt(n,n.level===9?2:n.strategy>=wd||n.level<2?4:0),Kt(n,z9),n.status=yl,Li(t),n.pending!==0)return n.last_flush=-1,Tr}if(n.status===Dg){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=pr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,Li(t),n.pending!==0)return n.last_flush=-1,Tr;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(t.adler=pr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Mg}if(n.status===Mg){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=pr(t.adler,n.pending_buf,n.pending-i,i)),Li(t),n.pending!==0)return n.last_flush=-1,Tr;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Kt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=pr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Fg}if(n.status===Fg){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=pr(t.adler,n.pending_buf,n.pending-i,i)),Li(t),n.pending!==0)return n.last_flush=-1,Tr;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Kt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=pr(t.adler,n.pending_buf,n.pending-i,i))}n.status=Vg}if(n.status===Vg){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Li(t),n.pending!==0))return n.last_flush=-1,Tr;Kt(n,t.adler&255),Kt(n,t.adler>>8&255),t.adler=0}if(n.status=yl,Li(t),n.pending!==0)return n.last_flush=-1,Tr}if(t.avail_in!==0||n.lookahead!==0||e!==Ca&&n.status!==Lu){let i=n.level===0?x3(n,e):n.strategy===wd?W9(n,e):n.strategy===I9?$9(n,e):ju[n.level].func(n,e);if((i===Cl||i===eu)&&(n.status=Lu),i===ti||i===Cl)return t.avail_out===0&&(n.last_flush=-1),Tr;if(i===Qc&&(e===A9?x9(n):e!==j5&&(jg(n,0,0,!1),e===T9&&(fa(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Li(t),t.avail_out===0))return n.last_flush=-1,Tr}return e!==Zi?Tr:n.wrap<=0?O5:(n.wrap===2?(Kt(n,t.adler&255),Kt(n,t.adler>>8&255),Kt(n,t.adler>>16&255),Kt(n,t.adler>>24&255),Kt(n,t.total_in&255),Kt(n,t.total_in>>8&255),Kt(n,t.total_in>>16&255),Kt(n,t.total_in>>24&255)):(Iu(n,t.adler>>>16),Iu(n,t.adler&65535)),Li(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Tr:O5)},Z9=t=>{if(Uh(t))return Zs;const e=t.state.status;return t.state=null,e===yl?vl(t,E9):Tr},Q9=(t,e)=>{let n=e.length;if(Uh(t))return Zs;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==Uc||r.lookahead)return Zs;if(i===1&&(t.adler=vh(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(fa(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,zc(r);r.lookahead>=Ut;){let l=r.strstart,c=r.lookahead-(Ut-1);do r.ins_h=ka(r,r.ins_h,r.window[l+Ut-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=Ut-1,zc(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Ut-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,r.wrap=i,Tr};var eF=X9,tF=E3,nF=T3,rF=A3,iF=K9,sF=J9,oF=Z9,aF=Q9,lF="pako deflate (from Nodeca project)",Gu={deflateInit:eF,deflateInit2:tF,deflateReset:nF,deflateResetKeep:rF,deflateSetHeader:iF,deflate:sF,deflateEnd:oF,deflateSetDictionary:aF,deflateInfo:lF};const cF=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var uF=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)cF(n,r)&&(t[r]=n[r])}}return t},hF=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},hp={assign:uF,flattenChunks:hF};let S3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{S3=!1}const bh=new Uint8Array(256);for(let t=0;t<256;t++)bh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;bh[254]=bh[254]=1;var dF=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const fF=(t,e)=>{if(e<65534&&t.subarray&&S3)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var pF=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=bh[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return fF(s,i)},mF=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+bh[t[n]]>e?n:e},wh={string2buf:dF,buf2string:pF,utf8border:mF};function gF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var N3=gF;const I3=Object.prototype.toString,{Z_NO_FLUSH:yF,Z_SYNC_FLUSH:vF,Z_FULL_FLUSH:bF,Z_FINISH:wF,Z_OK:kf,Z_STREAM_END:_F,Z_DEFAULT_COMPRESSION:xF,Z_DEFAULT_STRATEGY:AF,Z_DEFLATED:TF}=Bh;function S1(t){this.options=hp.assign({level:xF,method:TF,chunkSize:16384,windowBits:15,memLevel:8,strategy:AF},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N3,this.strm.avail_out=0;let n=Gu.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==kf)throw new Error(Bc[n]);if(e.header&&Gu.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=wh.string2buf(e.dictionary):I3.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=Gu.deflateSetDictionary(this.strm,r),n!==kf)throw new Error(Bc[n]);this._dict_set=!0}}S1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?wF:yF,typeof t=="string"?n.input=wh.string2buf(t):I3.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===vF||s===bF)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Gu.deflate(n,s),i===_F)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Gu.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===kf;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};S1.prototype.onData=function(t){this.chunks.push(t)};S1.prototype.onEnd=function(t){t===kf&&(this.result=hp.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const _d=16209,EF=16191;var SF=function(e,n){let r,i,s,o,a,l,c,u,m,y,f,A,_,E,C,F,M,z,ee,ne,B,P,S,D;const T=e.state;r=e.next_in,S=e.input,i=r+(e.avail_in-5),s=e.next_out,D=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=T.dmax,c=T.wsize,u=T.whave,m=T.wnext,y=T.window,f=T.hold,A=T.bits,_=T.lencode,E=T.distcode,C=(1<<T.lenbits)-1,F=(1<<T.distbits)-1;e:do{A<15&&(f+=S[r++]<<A,A+=8,f+=S[r++]<<A,A+=8),M=_[f&C];t:for(;;){if(z=M>>>24,f>>>=z,A-=z,z=M>>>16&255,z===0)D[s++]=M&65535;else if(z&16){ee=M&65535,z&=15,z&&(A<z&&(f+=S[r++]<<A,A+=8),ee+=f&(1<<z)-1,f>>>=z,A-=z),A<15&&(f+=S[r++]<<A,A+=8,f+=S[r++]<<A,A+=8),M=E[f&F];n:for(;;){if(z=M>>>24,f>>>=z,A-=z,z=M>>>16&255,z&16){if(ne=M&65535,z&=15,A<z&&(f+=S[r++]<<A,A+=8,A<z&&(f+=S[r++]<<A,A+=8)),ne+=f&(1<<z)-1,ne>l){e.msg="invalid distance too far back",T.mode=_d;break e}if(f>>>=z,A-=z,z=s-o,ne>z){if(z=ne-z,z>u&&T.sane){e.msg="invalid distance too far back",T.mode=_d;break e}if(B=0,P=y,m===0){if(B+=c-z,z<ee){ee-=z;do D[s++]=y[B++];while(--z);B=s-ne,P=D}}else if(m<z){if(B+=c+m-z,z-=m,z<ee){ee-=z;do D[s++]=y[B++];while(--z);if(B=0,m<ee){z=m,ee-=z;do D[s++]=y[B++];while(--z);B=s-ne,P=D}}}else if(B+=m-z,z<ee){ee-=z;do D[s++]=y[B++];while(--z);B=s-ne,P=D}for(;ee>2;)D[s++]=P[B++],D[s++]=P[B++],D[s++]=P[B++],ee-=3;ee&&(D[s++]=P[B++],ee>1&&(D[s++]=P[B++]))}else{B=s-ne;do D[s++]=D[B++],D[s++]=D[B++],D[s++]=D[B++],ee-=3;while(ee>2);ee&&(D[s++]=D[B++],ee>1&&(D[s++]=D[B++]))}}else if(z&64){e.msg="invalid distance code",T.mode=_d;break e}else{M=E[(M&65535)+(f&(1<<z)-1)];continue n}break}}else if(z&64)if(z&32){T.mode=EF;break e}else{e.msg="invalid literal/length code",T.mode=_d;break e}else{M=_[(M&65535)+(f&(1<<z)-1)];continue t}break}}while(r<i&&s<a);ee=A>>3,r-=ee,A-=ee<<3,f&=(1<<A)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),T.hold=f,T.bits=A};const nc=15,M5=852,F5=592,V5=0,pm=1,B5=2,NF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),IF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),PF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),CF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kF=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let c=0,u=0,m=0,y=0,f=0,A=0,_=0,E=0,C=0,F=0,M,z,ee,ne,B,P=null,S;const D=new Uint16Array(nc+1),T=new Uint16Array(nc+1);let I=null,k,Y,ce;for(c=0;c<=nc;c++)D[c]=0;for(u=0;u<r;u++)D[e[n+u]]++;for(f=l,y=nc;y>=1&&D[y]===0;y--);if(f>y&&(f=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(m=1;m<y&&D[m]===0;m++);for(f<m&&(f=m),E=1,c=1;c<=nc;c++)if(E<<=1,E-=D[c],E<0)return-1;if(E>0&&(t===V5||y!==1))return-1;for(T[1]=0,c=1;c<nc;c++)T[c+1]=T[c]+D[c];for(u=0;u<r;u++)e[n+u]!==0&&(o[T[e[n+u]]++]=u);if(t===V5?(P=I=o,S=20):t===pm?(P=NF,I=IF,S=257):(P=PF,I=CF,S=0),F=0,u=0,c=m,B=s,A=f,_=0,ee=-1,C=1<<f,ne=C-1,t===pm&&C>M5||t===B5&&C>F5)return 1;for(;;){k=c-_,o[u]+1<S?(Y=0,ce=o[u]):o[u]>=S?(Y=I[o[u]-S],ce=P[o[u]-S]):(Y=32+64,ce=0),M=1<<c-_,z=1<<A,m=z;do z-=M,i[B+(F>>_)+z]=k<<24|Y<<16|ce|0;while(z!==0);for(M=1<<c-1;F&M;)M>>=1;if(M!==0?(F&=M-1,F+=M):F=0,u++,--D[c]===0){if(c===y)break;c=e[n+o[u]]}if(c>f&&(F&ne)!==ee){for(_===0&&(_=f),B+=m,A=c-_,E=1<<A;A+_<y&&(E-=D[A+_],!(E<=0));)A++,E<<=1;if(C+=1<<A,t===pm&&C>M5||t===B5&&C>F5)return 1;ee=F&ne,i[ee]=f<<24|A<<16|B-s|0}}return F!==0&&(i[B+F]=c-_<<24|64<<16|0),a.bits=f,0};var Ku=kF;const RF=0,P3=1,C3=2,{Z_FINISH:U5,Z_BLOCK:LF,Z_TREES:xd,Z_OK:kl,Z_STREAM_END:jF,Z_NEED_DICT:OF,Z_STREAM_ERROR:es,Z_DATA_ERROR:k3,Z_MEM_ERROR:R3,Z_BUF_ERROR:DF,Z_DEFLATED:z5}=Bh,dp=16180,q5=16181,H5=16182,$5=16183,W5=16184,Y5=16185,G5=16186,K5=16187,X5=16188,J5=16189,Rf=16190,wo=16191,mm=16192,Z5=16193,gm=16194,Q5=16195,eb=16196,tb=16197,nb=16198,Ad=16199,Td=16200,rb=16201,ib=16202,sb=16203,ob=16204,ab=16205,ym=16206,lb=16207,cb=16208,Nn=16209,L3=16210,j3=16211,MF=852,FF=592,VF=15,BF=VF,ub=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function UF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<dp||e.mode>j3?1:0},O3=t=>{if(zl(t))return es;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=dp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(MF),e.distcode=e.distdyn=new Int32Array(FF),e.sane=1,e.back=-1,kl},D3=t=>{if(zl(t))return es;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,O3(t)},M3=(t,e)=>{let n;if(zl(t))return es;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?es:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,D3(t))},F3=(t,e)=>{if(!t)return es;const n=new UF;t.state=n,n.strm=t,n.window=null,n.mode=dp;const r=M3(t,e);return r!==kl&&(t.state=null),r},zF=t=>F3(t,BF);let hb=!0,vm,bm;const qF=t=>{if(hb){vm=new Int32Array(512),bm=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ku(P3,t.lens,0,288,vm,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ku(C3,t.lens,0,32,bm,0,t.work,{bits:5}),hb=!1}t.lencode=vm,t.lenbits=9,t.distcode=bm,t.distbits=5},V3=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},HF=(t,e)=>{let n,r,i,s,o,a,l,c,u,m,y,f,A,_,E=0,C,F,M,z,ee,ne,B,P;const S=new Uint8Array(4);let D,T;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zl(t)||!t.output||!t.input&&t.avail_in!==0)return es;n=t.state,n.mode===wo&&(n.mode=mm),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,m=a,y=l,P=kl;e:for(;;)switch(n.mode){case dp:if(n.wrap===0){n.mode=mm;break}for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,S[0]=c&255,S[1]=c>>>8&255,n.check=pr(n.check,S,2,0),c=0,u=0,n.mode=q5;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=Nn;break}if((c&15)!==z5){t.msg="unknown compression method",n.mode=Nn;break}if(c>>>=4,u-=4,B=(c&15)+8,n.wbits===0&&(n.wbits=B),B>15||B>n.wbits){t.msg="invalid window size",n.mode=Nn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?J5:wo,c=0,u=0;break;case q5:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==z5){t.msg="unknown compression method",n.mode=Nn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Nn;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,n.check=pr(n.check,S,2,0)),c=0,u=0,n.mode=H5;case H5:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,n.check=pr(n.check,S,4,0)),c=0,u=0,n.mode=$5;case $5:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,n.check=pr(n.check,S,2,0)),c=0,u=0,n.mode=W5;case W5:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,n.check=pr(n.check,S,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=Y5;case Y5:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(B=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+f),B)),n.flags&512&&n.wrap&4&&(n.check=pr(n.check,r,f,s)),a-=f,s+=f,n.length-=f),n.length))break e;n.length=0,n.mode=G5;case G5:if(n.flags&2048){if(a===0)break e;f=0;do B=r[s+f++],n.head&&B&&n.length<65536&&(n.head.name+=String.fromCharCode(B));while(B&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=pr(n.check,r,f,s)),a-=f,s+=f,B)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=K5;case K5:if(n.flags&4096){if(a===0)break e;f=0;do B=r[s+f++],n.head&&B&&n.length<65536&&(n.head.comment+=String.fromCharCode(B));while(B&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=pr(n.check,r,f,s)),a-=f,s+=f,B)break e}else n.head&&(n.head.comment=null);n.mode=X5;case X5:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Nn;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=wo;break;case J5:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.adler=n.check=ub(c),c=0,u=0,n.mode=Rf;case Rf:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,OF;t.adler=n.check=1,n.mode=wo;case wo:if(e===LF||e===xd)break e;case mm:if(n.last){c>>>=u&7,u-=u&7,n.mode=ym;break}for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=Z5;break;case 1:if(qF(n),n.mode=Ad,e===xd){c>>>=2,u-=2;break e}break;case 2:n.mode=eb;break;case 3:t.msg="invalid block type",n.mode=Nn}c>>>=2,u-=2;break;case Z5:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Nn;break}if(n.length=c&65535,c=0,u=0,n.mode=gm,e===xd)break e;case gm:n.mode=Q5;case Q5:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(r.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,n.length-=f;break}n.mode=wo;break;case eb:for(;u<14;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Nn;break}n.have=0,n.mode=tb;case tb:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.lens[I[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},P=Ku(RF,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,P){t.msg="invalid code lengths set",n.mode=Nn;break}n.have=0,n.mode=nb;case nb:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[c&(1<<n.lenbits)-1],C=E>>>24,F=E>>>16&255,M=E&65535,!(C<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(M<16)c>>>=C,u-=C,n.lens[n.have++]=M;else{if(M===16){for(T=C+2;u<T;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(c>>>=C,u-=C,n.have===0){t.msg="invalid bit length repeat",n.mode=Nn;break}B=n.lens[n.have-1],f=3+(c&3),c>>>=2,u-=2}else if(M===17){for(T=C+3;u<T;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=C,u-=C,B=0,f=3+(c&7),c>>>=3,u-=3}else{for(T=C+7;u<T;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=C,u-=C,B=0,f=11+(c&127),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Nn;break}for(;f--;)n.lens[n.have++]=B}}if(n.mode===Nn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Nn;break}if(n.lenbits=9,D={bits:n.lenbits},P=Ku(P3,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,P){t.msg="invalid literal/lengths set",n.mode=Nn;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},P=Ku(C3,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,P){t.msg="invalid distances set",n.mode=Nn;break}if(n.mode=Ad,e===xd)break e;case Ad:n.mode=Td;case Td:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,SF(t,y),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,n.mode===wo&&(n.back=-1);break}for(n.back=0;E=n.lencode[c&(1<<n.lenbits)-1],C=E>>>24,F=E>>>16&255,M=E&65535,!(C<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(F&&!(F&240)){for(z=C,ee=F,ne=M;E=n.lencode[ne+((c&(1<<z+ee)-1)>>z)],C=E>>>24,F=E>>>16&255,M=E&65535,!(z+C<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=z,u-=z,n.back+=z}if(c>>>=C,u-=C,n.back+=C,n.length=M,F===0){n.mode=ab;break}if(F&32){n.back=-1,n.mode=wo;break}if(F&64){t.msg="invalid literal/length code",n.mode=Nn;break}n.extra=F&15,n.mode=rb;case rb:if(n.extra){for(T=n.extra;u<T;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ib;case ib:for(;E=n.distcode[c&(1<<n.distbits)-1],C=E>>>24,F=E>>>16&255,M=E&65535,!(C<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(!(F&240)){for(z=C,ee=F,ne=M;E=n.distcode[ne+((c&(1<<z+ee)-1)>>z)],C=E>>>24,F=E>>>16&255,M=E&65535,!(z+C<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=z,u-=z,n.back+=z}if(c>>>=C,u-=C,n.back+=C,F&64){t.msg="invalid distance code",n.mode=Nn;break}n.offset=M,n.extra=F&15,n.mode=sb;case sb:if(n.extra){for(T=n.extra;u<T;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Nn;break}n.mode=ob;case ob:if(l===0)break e;if(f=y-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Nn;break}f>n.wnext?(f-=n.wnext,A=n.wsize-f):A=n.wnext-f,f>n.length&&(f=n.length),_=n.window}else _=i,A=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[o++]=_[A++];while(--f);n.length===0&&(n.mode=Td);break;case ab:if(l===0)break e;i[o++]=n.length,l--,n.mode=Td;break;case ym:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[s++]<<u,u+=8}if(y-=l,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?pr(n.check,i,y,o-y):vh(n.check,i,y,o-y)),y=l,n.wrap&4&&(n.flags?c:ub(c))!==n.check){t.msg="incorrect data check",n.mode=Nn;break}c=0,u=0}n.mode=lb;case lb:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Nn;break}c=0,u=0}n.mode=cb;case cb:P=jF;break e;case Nn:P=k3;break e;case L3:return R3;case j3:default:return es}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,(n.wsize||y!==t.avail_out&&n.mode<Nn&&(n.mode<ym||e!==U5))&&V3(t,t.output,t.next_out,y-t.avail_out),m-=t.avail_in,y-=t.avail_out,t.total_in+=m,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?pr(n.check,i,y,t.next_out-y):vh(n.check,i,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(n.mode===wo?128:0)+(n.mode===Ad||n.mode===gm?256:0),(m===0&&y===0||e===U5)&&P===kl&&(P=DF),P},$F=t=>{if(zl(t))return es;let e=t.state;return e.window&&(e.window=null),t.state=null,kl},WF=(t,e)=>{if(zl(t))return es;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,kl):es},YF=(t,e)=>{const n=e.length;let r,i,s;return zl(t)||(r=t.state,r.wrap!==0&&r.mode!==Rf)?es:r.mode===Rf&&(i=1,i=vh(i,e,n,0),i!==r.check)?k3:(s=V3(t,e,n,n),s?(r.mode=L3,R3):(r.havedict=1,kl))};var GF=D3,KF=M3,XF=O3,JF=zF,ZF=F3,QF=HF,eV=$F,tV=WF,nV=YF,rV="pako inflate (from Nodeca project)",xo={inflateReset:GF,inflateReset2:KF,inflateResetKeep:XF,inflateInit:JF,inflateInit2:ZF,inflate:QF,inflateEnd:eV,inflateGetHeader:tV,inflateSetDictionary:nV,inflateInfo:rV};function iV(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var sV=iV;const B3=Object.prototype.toString,{Z_NO_FLUSH:oV,Z_FINISH:aV,Z_OK:_h,Z_STREAM_END:wm,Z_NEED_DICT:_m,Z_STREAM_ERROR:lV,Z_DATA_ERROR:db,Z_MEM_ERROR:cV}=Bh;function zh(t){this.options=hp.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N3,this.strm.avail_out=0;let n=xo.inflateInit2(this.strm,e.windowBits);if(n!==_h)throw new Error(Bc[n]);if(this.header=new sV,xo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=wh.string2buf(e.dictionary):B3.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=xo.inflateSetDictionary(this.strm,e.dictionary),n!==_h)))throw new Error(Bc[n])}zh.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?aV:oV,B3.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=xo.inflate(n,o),s===_m&&i&&(s=xo.inflateSetDictionary(n,i),s===_h?s=xo.inflate(n,o):s===db&&(s=_m));n.avail_in>0&&s===wm&&n.state.wrap>0&&t[n.next_in]!==0;)xo.inflateReset(n),s=xo.inflate(n,o);switch(s){case lV:case db:case _m:case cV:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===wm))if(this.options.to==="string"){let l=wh.utf8border(n.output,n.next_out),c=n.next_out-l,u=wh.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===_h&&a===0)){if(s===wm)return s=xo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};zh.prototype.onData=function(t){this.chunks.push(t)};zh.prototype.onEnd=function(t){t===_h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hp.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function N1(t,e){const n=new zh(e);if(n.push(t),n.err)throw n.msg||Bc[n.err];return n.result}function uV(t,e){return e=e||{},e.raw=!0,N1(t,e)}var hV=zh,dV=N1,fV=uV,pV=N1,mV=Bh,gV={Inflate:hV,inflate:dV,inflateRaw:fV,ungzip:pV,constants:mV};const{Inflate:yV,inflate:vV,inflateRaw:iU,ungzip:sU}=gV;var fb=yV,bV=vV;const U3=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;U3[t]=e}const pb=4294967295;function wV(t,e,n){let r=t;for(let i=0;i<n;i++)r=U3[(r^e[i])&255]^r>>>8;return r}function _V(t,e){return(wV(pb,t,e)^pb)>>>0}function mb(t,e,n){const r=t.readUint32(),i=_V(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function z3(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function q3(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function H3(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function $3(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function W3(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+xV(e[s-i],n[s],n[s-i])&255}}function xV(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function AV(t,e,n,r,i,s){switch(t){case 0:z3(e,n,i);break;case 1:q3(e,n,i,s);break;case 2:H3(e,n,r,i);break;case 3:$3(e,n,r,i,s);break;case 4:W3(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const TV=new Uint16Array([255]),EV=new Uint8Array(TV.buffer),SV=EV[0]===255;function NV(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let c=0;for(let u=0;u<7;u++){const m=o[u],y=Math.ceil((n-m.x)/m.xStep),f=Math.ceil((r-m.y)/m.yStep);if(y<=0||f<=0)continue;const A=y*a,_=new Uint8Array(A);for(let E=0;E<f;E++){const C=e[c++],F=e.subarray(c,c+A);c+=A;const M=new Uint8Array(A);AV(C,F,M,_,A,a),_.set(M);for(let z=0;z<y;z++){const ee=m.x+z*m.xStep,ne=m.y+E*m.yStep;if(!(ee>=n||ne>=r))for(let B=0;B<a;B++)l[(ne*n+ee)*a+B]=M[z*a+B]}}}if(s===16){const u=new Uint16Array(l.buffer);if(SV)for(let m=0;m<u.length;m++)u[m]=IV(u[m]);return u}else return l}function IV(t){return(t&255)<<8|t>>8&255}const PV=new Uint16Array([255]),CV=new Uint8Array(PV.buffer),kV=CV[0]===255,RV=new Uint8Array(0);function gb(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let c=RV,u=0,m,y;for(let f=0;f<r;f++){switch(m=e.subarray(u+1,u+1+a),y=l.subarray(f*a,(f+1)*a),e[u]){case 0:z3(m,y,a);break;case 1:q3(m,y,a,o);break;case 2:H3(m,y,c,a);break;case 3:$3(m,y,c,a,o);break;case 4:W3(m,y,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=y,u+=a+1}if(s===16){const f=new Uint16Array(l.buffer);if(kV)for(let A=0;A<f.length;A++)f[A]=LV(f[A]);return f}else return l}function LV(t){return(t&255)<<8|t>>8&255}const Hd=Uint8Array.of(137,80,78,71,13,10,26,10);function yb(t){if(!jV(t.readBytes(Hd.length)))throw new Error("wrong PNG signature")}function jV(t){if(t.length<Hd.length)return!1;for(let e=0;e<Hd.length;e++)if(t[e]!==Hd[e])return!1;return!0}const OV="tEXt",DV=0,Y3=new TextDecoder("latin1");function MV(t){if(VV(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const FV=/^[\u0000-\u00FF]*$/;function VV(t){if(!FV.test(t))throw new Error("invalid latin1 text")}function BV(t,e,n){const r=G3(e);t[r]=UV(e,n-r.length-1)}function G3(t){for(t.mark();t.readByte()!==DV;);const e=t.offset;t.reset();const n=Y3.decode(t.readBytes(e-t.offset-1));return t.skip(1),MV(n),n}function UV(t,e){return Y3.decode(t.readBytes(e))}const Ri={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},xm={UNKNOWN:-1,DEFLATE:0},vb={UNKNOWN:-1,ADAPTIVE:0},Am={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ed={NONE:0,BACKGROUND:1,PREVIOUS:2},Tm={SOURCE:0,OVER:1};class zV extends w1{constructor(n,r={}){super(n);nn(this,"_checkCrc");nn(this,"_inflator");nn(this,"_png");nn(this,"_apng");nn(this,"_end");nn(this,"_hasPalette");nn(this,"_palette");nn(this,"_hasTransparency");nn(this,"_transparency");nn(this,"_compressionMethod");nn(this,"_filterMethod");nn(this,"_interlaceMethod");nn(this,"_colorType");nn(this,"_isAnimated");nn(this,"_numberOfFrames");nn(this,"_numberOfPlays");nn(this,"_frames");nn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new fb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=xm.UNKNOWN,this._filterMethod=vb.UNKNOWN,this._interlaceMethod=Am.UNKNOWN,this._colorType=Ri.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(yb(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(yb(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case OV:BV(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?mb(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?mb(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=qV(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ri.GREYSCALE:i=1;break;case Ri.TRUECOLOUR:i=3;break;case Ri.INDEXED_COLOUR:i=1;break;case Ri.GREYSCALE_ALPHA:i=2;break;case Ri.TRUECOLOUR_ALPHA:i=4;break;case Ri.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==xm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ri.GREYSCALE:case Ri.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ri.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ri.UNKNOWN:case Ri.GREYSCALE_ALPHA:case Ri.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=G3(this),i=this.readUint8();if(i!==xm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:bV(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=gb({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Ed.NONE:break;case Ed.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case Ed.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,c=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case Tm.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case Tm.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++){const m=r.data[c+this._png.channels-1]/i,y=u%(this._png.channels-1)===0?1:r.data[c+u],f=Math.floor(m*y+(1-m)*n.data[l+u]);n.data[l+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==vb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Am.NO_INTERLACE)this._png.data=gb({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Am.ADAM7)this._png.data=NV({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ed.NONE,blendOp:Tm.SOURCE,data:n}),this._inflator=new fb,this._writingDataChunks=!1}}function qV(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var bb;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(bb||(bb={}));function HV(t,e){return new zV(t,e).decode()}var yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Em(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var fn={log:Em,warn:function(t){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):Em.call(null,arguments))},error:function(t){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):Em(t))}};function Sm(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){hl(r.response,e,n)},r.onerror=function(){fn.error("could not download file")},r.send()}function wb(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Sd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var hl=yt.saveAs||((typeof window>"u"?"undefined":rn(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=yt.URL||yt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?wb(i.href)?Sm(t,e,n):Sd(i,i.target="_blank"):Sd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Sd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(wb(t))Sm(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Sd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:rn(s)!=="object"&&(fn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Sm(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(yt.HTMLElement)||yt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":rn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=yt.URL||yt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function K3(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var $d=yt.atob.bind(yt),_b=yt.btoa.bind(yt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Nm(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Or(n,r,i,s,e[0],7,-680876936),s=Or(s,n,r,i,e[1],12,-389564586),i=Or(i,s,n,r,e[2],17,606105819),r=Or(r,i,s,n,e[3],22,-1044525330),n=Or(n,r,i,s,e[4],7,-176418897),s=Or(s,n,r,i,e[5],12,1200080426),i=Or(i,s,n,r,e[6],17,-1473231341),r=Or(r,i,s,n,e[7],22,-45705983),n=Or(n,r,i,s,e[8],7,1770035416),s=Or(s,n,r,i,e[9],12,-1958414417),i=Or(i,s,n,r,e[10],17,-42063),r=Or(r,i,s,n,e[11],22,-1990404162),n=Or(n,r,i,s,e[12],7,1804603682),s=Or(s,n,r,i,e[13],12,-40341101),i=Or(i,s,n,r,e[14],17,-1502002290),n=Dr(n,r=Or(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Dr(s,n,r,i,e[6],9,-1069501632),i=Dr(i,s,n,r,e[11],14,643717713),r=Dr(r,i,s,n,e[0],20,-373897302),n=Dr(n,r,i,s,e[5],5,-701558691),s=Dr(s,n,r,i,e[10],9,38016083),i=Dr(i,s,n,r,e[15],14,-660478335),r=Dr(r,i,s,n,e[4],20,-405537848),n=Dr(n,r,i,s,e[9],5,568446438),s=Dr(s,n,r,i,e[14],9,-1019803690),i=Dr(i,s,n,r,e[3],14,-187363961),r=Dr(r,i,s,n,e[8],20,1163531501),n=Dr(n,r,i,s,e[13],5,-1444681467),s=Dr(s,n,r,i,e[2],9,-51403784),i=Dr(i,s,n,r,e[7],14,1735328473),n=Mr(n,r=Dr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Mr(s,n,r,i,e[8],11,-2022574463),i=Mr(i,s,n,r,e[11],16,1839030562),r=Mr(r,i,s,n,e[14],23,-35309556),n=Mr(n,r,i,s,e[1],4,-1530992060),s=Mr(s,n,r,i,e[4],11,1272893353),i=Mr(i,s,n,r,e[7],16,-155497632),r=Mr(r,i,s,n,e[10],23,-1094730640),n=Mr(n,r,i,s,e[13],4,681279174),s=Mr(s,n,r,i,e[0],11,-358537222),i=Mr(i,s,n,r,e[3],16,-722521979),r=Mr(r,i,s,n,e[6],23,76029189),n=Mr(n,r,i,s,e[9],4,-640364487),s=Mr(s,n,r,i,e[12],11,-421815835),i=Mr(i,s,n,r,e[15],16,530742520),n=Fr(n,r=Mr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Fr(s,n,r,i,e[7],10,1126891415),i=Fr(i,s,n,r,e[14],15,-1416354905),r=Fr(r,i,s,n,e[5],21,-57434055),n=Fr(n,r,i,s,e[12],6,1700485571),s=Fr(s,n,r,i,e[3],10,-1894986606),i=Fr(i,s,n,r,e[10],15,-1051523),r=Fr(r,i,s,n,e[1],21,-2054922799),n=Fr(n,r,i,s,e[8],6,1873313359),s=Fr(s,n,r,i,e[15],10,-30611744),i=Fr(i,s,n,r,e[6],15,-1560198380),r=Fr(r,i,s,n,e[13],21,1309151649),n=Fr(n,r,i,s,e[4],6,-145523070),s=Fr(s,n,r,i,e[11],10,-1120210379),i=Fr(i,s,n,r,e[2],15,718787259),r=Fr(r,i,s,n,e[9],21,-343485551),t[0]=va(n,t[0]),t[1]=va(r,t[1]),t[2]=va(i,t[2]),t[3]=va(s,t[3])}function fp(t,e,n,r,i,s){return e=va(va(e,t),va(r,s)),va(e<<i|e>>>32-i,n)}function Or(t,e,n,r,i,s,o){return fp(e&n|~e&r,t,e,i,s,o)}function Dr(t,e,n,r,i,s,o){return fp(e&r|n&~r,t,e,i,s,o)}function Mr(t,e,n,r,i,s,o){return fp(e^n^r,t,e,i,s,o)}function Fr(t,e,n,r,i,s,o){return fp(n^(e|~r),t,e,i,s,o)}function X3(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Nm(r,$V(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Nm(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Nm(r,i),r}function $V(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var xb="0123456789abcdef".split("");function WV(t){for(var e="",n=0;n<4;n++)e+=xb[t>>8*n+4&15]+xb[t>>8*n&15];return e}function YV(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Ug(t){return X3(t).map(YV).join("")}var GV=function(t){for(var e=0;e<t.length;e++)t[e]=WV(t[e]);return t.join("")}(X3("hello"))!="5d41402abc4b2a76b9719d911017c592";function va(t,e){if(GV){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function zg(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var m=e.length,y=0,f=0,A="";for(l=0;l<m;l++)f=(f+(u=a[y=(y+1)%256]))%256,a[y]=a[f],a[f]=u,o=a[(a[y]+a[f])%256],A+=String.fromCharCode(e.charCodeAt(l)^o);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ab={print:4,modify:8,copy:16,"annot-forms":32};function uc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Ab.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Ab[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Ug(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=zg(this.encryptionKey,this.padding)}function hc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Tb(t){if(rn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){yt.console&&fn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Lf(t){if(!(this instanceof Lf))return new Lf(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function J3(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function dl(t,e,n,r,i){if(!(this instanceof dl))return new dl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,J3.call(this,r,i)}function yc(t,e,n,r,i){if(!(this instanceof yc))return new yc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,J3.call(this,r,i)}function Ze(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;rn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,y={},f={internal:{},__private__:{}};f.__private__.PubSub=Tb;var A="1.3",_=f.__private__.getPdfVersion=function(){return A};f.__private__.setPdfVersion=function(v){A=v};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return E};var C=f.__private__.getPageFormat=function(v){return E[v]};i=i||"a4";var F="compat",M="advanced",z=F;function ee(){this.saveGraphicsState(),W(new et(wt,0,0,-wt,0,os()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),c="n",z=M}function ne(){this.restoreGraphicsState(),c="S",z=F}var B=f.__private__.combineFontStyleAndFontWeight=function(v,R){if(v=="bold"&&R=="normal"||v=="bold"&&R==400||v=="normal"&&R=="italic"||v=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(v=R==400||R==="normal"?v==="italic"?"italic":"normal":R!=700&&R!=="bold"||v!=="normal"?(R==700?"bold":R)+""+v:"bold"),v};f.advancedAPI=function(v){var R=z===F;return R&&ee.call(this),typeof v!="function"||(v(this),R&&ne.call(this)),this},f.compatAPI=function(v){var R=z===M;return R&&ne.call(this),typeof v!="function"||(v(this),R&&ee.call(this)),this},f.isAdvancedAPI=function(){return z===M};var P,S=function(v){if(z!==M)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=f.roundToPrecision=f.__private__.roundToPrecision=function(v,R){var G=e||R;if(isNaN(v)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(G).replace(/0+$/,"")};P=f.hpf=f.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,16)};var T=f.f2=f.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return D(v,2)},I=f.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return D(v,3)},k=f.scale=f.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return z===F?v*wt:z===M?v:void 0},Y=function(v){return k(function(R){return z===F?os()-R:z===M?R:void 0}(v))};f.__private__.setPrecision=f.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var ce,de="00000000000000000000000000000000",me=f.__private__.getFileId=function(){return de},le=f.__private__.setFileId=function(v){return de=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(zn=new uc(u.userPermissions,u.userPassword,u.ownerPassword,de)),de};f.setFileId=function(v){return le(v),this},f.getFileId=function(){return me()};var ye=f.__private__.convertDateToPDFDate=function(v){var R=v.getTimezoneOffset(),G=R<0?"+":"-",Q=Math.floor(Math.abs(R/60)),ae=Math.abs(R%60),Ae=[G,J(Q),"'",J(ae),"'"].join("");return["D:",v.getFullYear(),J(v.getMonth()+1),J(v.getDate()),J(v.getHours()),J(v.getMinutes()),J(v.getSeconds()),Ae].join("")},Re=f.__private__.convertPDFDateToDate=function(v){var R=parseInt(v.substr(2,4),10),G=parseInt(v.substr(6,2),10)-1,Q=parseInt(v.substr(8,2),10),ae=parseInt(v.substr(10,2),10),Ae=parseInt(v.substr(12,2),10),Ie=parseInt(v.substr(14,2),10);return new Date(R,G,Q,ae,Ae,Ie,0)},ve=f.__private__.setCreationDate=function(v){var R;if(v===void 0&&(v=new Date),v instanceof Date)R=ye(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=v}return ce=R},j=f.__private__.getCreationDate=function(v){var R=ce;return v==="jsDate"&&(R=Re(ce)),R};f.setCreationDate=function(v){return ve(v),this},f.getCreationDate=function(v){return j(v)};var $,J=f.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},te=f.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ie=0,he=[],be=[],we=0,xe=[],Ce=[],Me=!1,Fe=be;f.__private__.setCustomOutputDestination=function(v){Me=!0,Fe=v};var Xe=function(v){Me||(Fe=v)};f.__private__.resetCustomOutputDestination=function(){Me=!1,Fe=be};var W=f.__private__.out=function(v){return v=v.toString(),we+=v.length+1,Fe.push(v),Fe},De=f.__private__.write=function(v){return W(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},St=f.__private__.getArrayBuffer=function(v){for(var R=v.length,G=new ArrayBuffer(R),Q=new Uint8Array(G);R--;)Q[R]=v.charCodeAt(R);return G},ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ot};var ke=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(v){return ke=z===M?v/wt:v,this};var it,Ue=f.__private__.getFontSize=f.getFontSize=function(){return z===F?ke:ke*wt},tt=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(v){return tt=v,this},f.__private__.getR2L=f.getR2L=function(){return tt};var Qe,zt=f.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))it=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');it=v}else it=parseInt(v,10)};f.__private__.getZoomMode=function(){return it};var Lt,mt=f.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Qe=v};f.__private__.getPageMode=function(){return Qe};var lt=f.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Lt=v};f.__private__.getLayoutMode=function(){return Lt},f.__private__.setDisplayMode=f.setDisplayMode=function(v,R,G){return zt(v),lt(R),mt(G),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(v){if(Object.keys(ct).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[v]},f.__private__.getDocumentProperties=function(){return ct},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(v){for(var R in ct)ct.hasOwnProperty(R)&&v[R]&&(ct[R]=v[R]);return this},f.__private__.setDocumentProperty=function(v,R){if(Object.keys(ct).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[v]=R};var He,wt,Ke,Cn,jt,Pt={},Ct={},sn=[],nt={},on={},at={},bt={},un=null,At=0,st=[],qt=new Tb(f),qr=t.hotfixes||[],sr={},ri={},gi=[],et=function v(R,G,Q,ae,Ae,Ie){if(!(this instanceof v))return new v(R,G,Q,ae,Ae,Ie);isNaN(R)&&(R=1),isNaN(G)&&(G=0),isNaN(Q)&&(Q=0),isNaN(ae)&&(ae=1),isNaN(Ae)&&(Ae=0),isNaN(Ie)&&(Ie=0),this._matrix=[R,G,Q,ae,Ae,Ie]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(v)},et.prototype.multiply=function(v){var R=v.sx*this.sx+v.shy*this.shx,G=v.sx*this.shy+v.shy*this.sy,Q=v.shx*this.sx+v.sy*this.shx,ae=v.shx*this.shy+v.sy*this.sy,Ae=v.tx*this.sx+v.ty*this.shx+this.tx,Ie=v.tx*this.shy+v.ty*this.sy+this.ty;return new et(R,G,Q,ae,Ae,Ie)},et.prototype.decompose=function(){var v=this.sx,R=this.shy,G=this.shx,Q=this.sy,ae=this.tx,Ae=this.ty,Ie=Math.sqrt(v*v+R*R),ze=(v/=Ie)*G+(R/=Ie)*Q;G-=v*ze,Q-=R*ze;var We=Math.sqrt(G*G+Q*Q);return ze/=We,v*(Q/=We)<R*(G/=We)&&(v=-v,R=-R,ze=-ze,Ie=-Ie),{scale:new et(Ie,0,0,We,0,0),translate:new et(1,0,0,1,ae,Ae),rotate:new et(v,R,-R,v,0,0),skew:new et(1,0,ze,1,0,0)}},et.prototype.toString=function(v){return this.join(" ")},et.prototype.inversed=function(){var v=this.sx,R=this.shy,G=this.shx,Q=this.sy,ae=this.tx,Ae=this.ty,Ie=1/(v*Q-R*G),ze=Q*Ie,We=-R*Ie,ut=-G*Ie,gt=v*Ie;return new et(ze,We,ut,gt,-ze*ae-ut*Ae,-We*ae-gt*Ae)},et.prototype.applyToPoint=function(v){var R=v.x*this.sx+v.y*this.shx+this.tx,G=v.x*this.shy+v.y*this.sy+this.ty;return new is(R,G)},et.prototype.applyToRectangle=function(v){var R=this.applyToPoint(v),G=this.applyToPoint(new is(v.x+v.w,v.y+v.h));return new Bo(R.x,R.y,G.x-R.x,G.y-R.y)},et.prototype.clone=function(){var v=this.sx,R=this.shy,G=this.shx,Q=this.sy,ae=this.tx,Ae=this.ty;return new et(v,R,G,Q,ae,Ae)},f.Matrix=et;var Mi=f.matrixMult=function(v,R){return R.multiply(v)},bn=new et(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=bn;var Hr=function(v,R){if(!on[v]){var G=(R instanceof dl?"Sh":"P")+(Object.keys(nt).length+1).toString(10);R.id=G,on[v]=G,nt[G]=R,qt.publish("addPattern",R)}};f.ShadingPattern=dl,f.TilingPattern=yc,f.addShadingPattern=function(v,R){return S("addShadingPattern()"),Hr(v,R),this},f.beginTilingPattern=function(v){S("beginTilingPattern()"),Uo(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},f.endTilingPattern=function(v,R){S("endTilingPattern()"),R.stream=Ce[$].join(`
`),Hr(v,R),qt.publish("endTilingPattern",R),gi.pop().restore()};var dr,an=f.__private__.newObject=function(){var v=Jn();return or(v,!0),v},Jn=f.__private__.newObjectDeferred=function(){return ie++,he[ie]=function(){return we},ie},or=function(v,R){return R=typeof R=="boolean"&&R,he[v]=we,R&&W(v+" 0 obj"),v},ii=f.__private__.newAdditionalObject=function(){var v={objId:Jn(),content:""};return xe.push(v),v},ws=Jn(),yi=Jn(),$r=f.__private__.decodeColorString=function(v){var R=v.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var G=parseFloat(R[0]);R=[G,G,G,"r"]}for(var Q="#",ae=0;ae<3;ae++)Q+=("0"+Math.floor(255*parseFloat(R[ae])).toString(16)).slice(-2);return Q},si=f.__private__.encodeColorString=function(v){var R;typeof v=="string"&&(v={ch1:v});var G=v.ch1,Q=v.ch2,ae=v.ch3,Ae=v.ch4,Ie=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var ze=new K3(G);if(ze.ok)G=ze.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var We=parseInt(G.substr(1),16);G=We>>16&255,Q=We>>8&255,ae=255&We}if(Q===void 0||Ae===void 0&&G===Q&&Q===ae)R=typeof G=="string"?G+" "+Ie[0]:v.precision===2?T(G/255)+" "+Ie[0]:I(G/255)+" "+Ie[0];else if(Ae===void 0||rn(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",Ie[1]].join(" ");R=typeof G=="string"?[G,Q,ae,Ie[1]].join(" "):v.precision===2?[T(G/255),T(Q/255),T(ae/255),Ie[1]].join(" "):[I(G/255),I(Q/255),I(ae/255),Ie[1]].join(" ")}else R=typeof G=="string"?[G,Q,ae,Ae,Ie[2]].join(" "):v.precision===2?[T(G),T(Q),T(ae),T(Ae),Ie[2]].join(" "):[I(G),I(Q),I(ae),I(Ae),Ie[2]].join(" ");return R},Wr=f.__private__.getFilters=function(){return o},br=f.__private__.putStream=function(v){var R=(v=v||{}).data||"",G=v.filters||Wr(),Q=v.alreadyAppliedFilters||[],ae=v.addLength1||!1,Ae=R.length,Ie=v.objectId,ze=function(Mn){return Mn};if(u!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ze=zn.encryptor(Ie,0));var We={};G===!0&&(G=["FlateEncode"]);var ut=v.additionalKeyValues||[],gt=(We=Ze.API.processDataByFilters!==void 0?Ze.API.processDataByFilters(R,G):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(Q)?Q.join(" "):Q.toString());if(We.data.length!==0&&(ut.push({key:"Length",value:We.data.length}),ae===!0&&ut.push({key:"Length1",value:Ae})),gt.length!=0)if(gt.split("/").length-1==1)ut.push({key:"Filter",value:gt});else{ut.push({key:"Filter",value:"["+gt+"]"});for(var Dt=0;Dt<ut.length;Dt+=1)if(ut[Dt].key==="DecodeParms"){for(var pn=[],cn=0;cn<We.reverseChain.split("/").length-1;cn+=1)pn.push("null");pn.push(ut[Dt].value),ut[Dt].value="["+pn.join(" ")+"]"}}W("<<");for(var Qt=0;Qt<ut.length;Qt++)W("/"+ut[Qt].key+" "+ut[Qt].value);W(">>"),We.data.length!==0&&(W("stream"),W(ze(We.data)),W("endstream"))},Cr=f.__private__.putPage=function(v){var R=v.number,G=v.data,Q=v.objId,ae=v.contentsObjId;or(Q,!0),W("<</Type /Page"),W("/Parent "+v.rootDictionaryObjId+" 0 R"),W("/Resources "+v.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(P(v.mediaBox.bottomLeftX))+" "+parseFloat(P(v.mediaBox.bottomLeftY))+" "+P(v.mediaBox.topRightX)+" "+P(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&W("/CropBox ["+P(v.cropBox.bottomLeftX)+" "+P(v.cropBox.bottomLeftY)+" "+P(v.cropBox.topRightX)+" "+P(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&W("/BleedBox ["+P(v.bleedBox.bottomLeftX)+" "+P(v.bleedBox.bottomLeftY)+" "+P(v.bleedBox.topRightX)+" "+P(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&W("/TrimBox ["+P(v.trimBox.bottomLeftX)+" "+P(v.trimBox.bottomLeftY)+" "+P(v.trimBox.topRightX)+" "+P(v.trimBox.topRightY)+"]"),v.artBox!==null&&W("/ArtBox ["+P(v.artBox.bottomLeftX)+" "+P(v.artBox.bottomLeftY)+" "+P(v.artBox.topRightX)+" "+P(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&W("/UserUnit "+v.userUnit),qt.publish("putPage",{objId:Q,pageContext:st[R],pageNumber:R,page:G}),W("/Contents "+ae+" 0 R"),W(">>"),W("endobj");var Ae=G.join(`
`);return z===M&&(Ae+=`
Q`),or(ae,!0),br({data:Ae,filters:Wr(),objectId:ae}),W("endobj"),Q},vi=f.__private__.putPages=function(){var v,R,G=[];for(v=1;v<=At;v++)st[v].objId=Jn(),st[v].contentsObjId=Jn();for(v=1;v<=At;v++)G.push(Cr({number:v,data:Ce[v],objId:st[v].objId,contentsObjId:st[v].contentsObjId,mediaBox:st[v].mediaBox,cropBox:st[v].cropBox,bleedBox:st[v].bleedBox,trimBox:st[v].trimBox,artBox:st[v].artBox,userUnit:st[v].userUnit,rootDictionaryObjId:ws,resourceDictionaryObjId:yi}));or(ws,!0),W("<</Type /Pages");var Q="/Kids [";for(R=0;R<At;R++)Q+=G[R]+" 0 R ";W(Q+"]"),W("/Count "+At),W(">>"),W("endobj"),qt.publish("postPutPages")},_s=function(v){qt.publish("putFont",{font:v,out:W,newObject:an,putStream:br}),v.isAlreadyPutted!==!0&&(v.objectNumber=an(),W("<<"),W("/Type /Font"),W("/BaseFont /"+hc(v.postScriptName)),W("/Subtype /Type1"),typeof v.encoding=="string"&&W("/Encoding /"+v.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},xs=function(v){v.objectNumber=an();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[P(v.x),P(v.y),P(v.x+v.width),P(v.y+v.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var G=v.pages[1].join(`
`);br({data:G,additionalKeyValues:R,objectId:v.objectNumber}),W("endobj")},As=function(v,R){R||(R=21);var G=an(),Q=function(Ie,ze){var We,ut=[],gt=1/(ze-1);for(We=0;We<1;We+=gt)ut.push(We);if(ut.push(1),Ie[0].offset!=0){var Dt={offset:0,color:Ie[0].color};Ie.unshift(Dt)}if(Ie[Ie.length-1].offset!=1){var pn={offset:1,color:Ie[Ie.length-1].color};Ie.push(pn)}for(var cn="",Qt=0,Mn=0;Mn<ut.length;Mn++){for(We=ut[Mn];We>Ie[Qt+1].offset;)Qt++;var Rn=Ie[Qt].offset,Zn=(We-Rn)/(Ie[Qt+1].offset-Rn),li=Ie[Qt].color,wn=Ie[Qt+1].color;cn+=te(Math.round((1-Zn)*li[0]+Zn*wn[0]).toString(16))+te(Math.round((1-Zn)*li[1]+Zn*wn[1]).toString(16))+te(Math.round((1-Zn)*li[2]+Zn*wn[2]).toString(16))}return cn.trim()}(v.colors,R),ae=[];ae.push({key:"FunctionType",value:"0"}),ae.push({key:"Domain",value:"[0.0 1.0]"}),ae.push({key:"Size",value:"["+R+"]"}),ae.push({key:"BitsPerSample",value:"8"}),ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),br({data:Q,additionalKeyValues:ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),W("endobj"),v.objectNumber=an(),W("<< /ShadingType "+v.type),W("/ColorSpace /DeviceRGB");var Ae="/Coords ["+P(parseFloat(v.coords[0]))+" "+P(parseFloat(v.coords[1]))+" ";v.type===2?Ae+=P(parseFloat(v.coords[2]))+" "+P(parseFloat(v.coords[3])):Ae+=P(parseFloat(v.coords[2]))+" "+P(parseFloat(v.coords[3]))+" "+P(parseFloat(v.coords[4]))+" "+P(parseFloat(v.coords[5])),W(Ae+="]"),v.matrix&&W("/Matrix ["+v.matrix.toString()+"]"),W("/Function "+G+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},no=function(v,R){var G=Jn(),Q=an();R.push({resourcesOid:G,objectOid:Q}),v.objectNumber=Q;var ae=[];ae.push({key:"Type",value:"/Pattern"}),ae.push({key:"PatternType",value:"1"}),ae.push({key:"PaintType",value:"1"}),ae.push({key:"TilingType",value:"1"}),ae.push({key:"BBox",value:"["+v.boundingBox.map(P).join(" ")+"]"}),ae.push({key:"XStep",value:P(v.xStep)}),ae.push({key:"YStep",value:P(v.yStep)}),ae.push({key:"Resources",value:G+" 0 R"}),v.matrix&&ae.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),br({data:v.stream,additionalKeyValues:ae,objectId:v.objectNumber}),W("endobj")},Hl=function(v){for(var R in v.objectNumber=an(),W("<<"),v)switch(R){case"opacity":W("/ca "+T(v[R]));break;case"stroke-opacity":W("/CA "+T(v[R]))}W(">>"),W("endobj")},Wa=function(v){or(v.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in W("/Font <<"),Pt)Pt.hasOwnProperty(R)&&(m===!1||m===!0&&y.hasOwnProperty(R))&&W("/"+R+" "+Pt[R].objectNumber+" 0 R");W(">>")}(),function(){if(Object.keys(nt).length>0){for(var R in W("/Shading <<"),nt)nt.hasOwnProperty(R)&&nt[R]instanceof dl&&nt[R].objectNumber>=0&&W("/"+R+" "+nt[R].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),W(">>")}}(),function(R){if(Object.keys(nt).length>0){for(var G in W("/Pattern <<"),nt)nt.hasOwnProperty(G)&&nt[G]instanceof f.TilingPattern&&nt[G].objectNumber>=0&&nt[G].objectNumber<R&&W("/"+G+" "+nt[G].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),W(">>")}}(v.objectOid),function(){if(Object.keys(at).length>0){var R;for(R in W("/ExtGState <<"),at)at.hasOwnProperty(R)&&at[R].objectNumber>=0&&W("/"+R+" "+at[R].objectNumber+" 0 R");qt.publish("putGStateDict"),W(">>")}}(),function(){for(var R in W("/XObject <<"),sr)sr.hasOwnProperty(R)&&sr[R].objectNumber>=0&&W("/"+R+" "+sr[R].objectNumber+" 0 R");qt.publish("putXobjectDict"),W(">>")}(),W(">>"),W("endobj")},ro=function(v){Ct[v.fontName]=Ct[v.fontName]||{},Ct[v.fontName][v.fontStyle]=v.id},Ya=function(v,R,G,Q,ae){var Ae={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:v,fontName:R,fontStyle:G,encoding:Q,isStandardFont:ae||!1,metadata:{}};return qt.publish("addFont",{font:Ae,instance:this}),Pt[Ae.id]=Ae,ro(Ae),Ae.id},kr=f.__private__.pdfEscape=f.pdfEscape=function(v,R){return function(G,Q){var ae,Ae,Ie,ze,We,ut,gt,Dt,pn;if(Ie=(Q=Q||{}).sourceEncoding||"Unicode",We=Q.outputEncoding,(Q.autoencode||We)&&Pt[He].metadata&&Pt[He].metadata[Ie]&&Pt[He].metadata[Ie].encoding&&(ze=Pt[He].metadata[Ie].encoding,!We&&Pt[He].encoding&&(We=Pt[He].encoding),!We&&ze.codePages&&(We=ze.codePages[0]),typeof We=="string"&&(We=ze[We]),We)){for(gt=!1,ut=[],ae=0,Ae=G.length;ae<Ae;ae++)(Dt=We[G.charCodeAt(ae)])?ut.push(String.fromCharCode(Dt)):ut.push(G[ae]),ut[ae].charCodeAt(0)>>8&&(gt=!0);G=ut.join("")}for(ae=G.length;gt===void 0&&ae!==0;)G.charCodeAt(ae-1)>>8&&(gt=!0),ae--;if(!gt)return G;for(ut=Q.noBOM?[]:[254,255],ae=0,Ae=G.length;ae<Ae;ae++){if((pn=(Dt=G.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ut.push(pn),ut.push(Dt-(pn<<8))}return String.fromCharCode.apply(void 0,ut)}(v,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ts=f.__private__.beginPage=function(v){Ce[++At]=[],st[At]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},$l(At),Xe(Ce[$])},Fi=function(v,R){var G,Q,ae;switch(n=R||n,typeof v=="string"&&(G=C(v.toLowerCase()),Array.isArray(G)&&(Q=G[0],ae=G[1])),Array.isArray(v)&&(Q=v[0]*wt,ae=v[1]*wt),isNaN(Q)&&(Q=i[0],ae=i[1]),(Q>14400||ae>14400)&&(fn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Q=Math.min(14400,Q),ae=Math.min(14400,ae)),i=[Q,ae],n.substr(0,1)){case"l":ae>Q&&(i=[ae,Q]);break;case"p":Q>ae&&(i=[ae,Q])}ts(i),ft(Vo),W(rs),lo!==0&&W(lo+" J"),ln!==0&&W(ln+" j"),qt.publish("addPage",{pageNumber:At})},io=function(v){v>0&&v<=At&&(Ce.splice(v,1),st.splice(v,1),At--,$>At&&($=At),this.setPage($))},$l=function(v){v>0&&v<=At&&($=v)},Ga=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ce.length-1},Ka=function(v,R,G){var Q,ae=void 0;return G=G||{},v=v!==void 0?v:Pt[He].fontName,R=R!==void 0?R:Pt[He].fontStyle,Q=v.toLowerCase(),Ct[Q]!==void 0&&Ct[Q][R]!==void 0?ae=Ct[Q][R]:Ct[v]!==void 0&&Ct[v][R]!==void 0?ae=Ct[v][R]:G.disableWarning===!1&&fn.warn("Unable to look up font label for font '"+v+"', '"+R+"'. Refer to getFontList() for available fonts."),ae||G.noFallback||(ae=Ct.times[R])==null&&(ae=Ct.times.normal),ae},bi=f.__private__.putInfo=function(){var v=an(),R=function(Q){return Q};for(var G in u!==null&&(R=zn.encryptor(v,0)),W("<<"),W("/Producer ("+kr(R("jsPDF "+Ze.version))+")"),ct)ct.hasOwnProperty(G)&&ct[G]&&W("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+kr(R(ct[G]))+")");W("/CreationDate ("+kr(R(ce))+")"),W(">>"),W("endobj")},Ts=f.__private__.putCatalog=function(v){var R=(v=v||{}).rootDictionaryObjId||ws;switch(an(),W("<<"),W("/Type /Catalog"),W("/Pages "+R+" 0 R"),it||(it="fullwidth"),it){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+it;G.substr(G.length-1)==="%"&&(it=parseInt(it)/100),typeof it=="number"&&W("/OpenAction [3 0 R /XYZ null null "+T(it)+"]")}switch(Lt||(Lt="continuous"),Lt){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}Qe&&W("/PageMode /"+Qe),qt.publish("putCatalog"),W(">>"),W("endobj")},Xa=f.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(ie+1)),W("/Root "+ie+" 0 R"),W("/Info "+(ie-1)+" 0 R"),u!==null&&W("/Encrypt "+zn.oid+" 0 R"),W("/ID [ <"+de+"> <"+de+"> ]"),W(">>")},kn=f.__private__.putHeader=function(){W("%PDF-"+A),W("%")},Ja=f.__private__.putXRef=function(){var v="0000000000";W("xref"),W("0 "+(ie+1)),W("0000000000 65535 f ");for(var R=1;R<=ie;R++)typeof he[R]=="function"?W((v+he[R]()).slice(-10)+" 00000 n "):he[R]!==void 0?W((v+he[R]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},Vi=f.__private__.buildDocument=function(){var v;ie=0,we=0,be=[],he=[],xe=[],ws=Jn(),yi=Jn(),Xe(be),qt.publish("buildDocument"),kn(),vi(),function(){qt.publish("putAdditionalObjects");for(var G=0;G<xe.length;G++){var Q=xe[G];or(Q.objId,!0),W(Q.content),W("endobj")}qt.publish("postPutAdditionalObjects")}(),v=[],function(){for(var G in Pt)Pt.hasOwnProperty(G)&&(m===!1||m===!0&&y.hasOwnProperty(G))&&_s(Pt[G])}(),function(){var G;for(G in at)at.hasOwnProperty(G)&&Hl(at[G])}(),function(){for(var G in sr)sr.hasOwnProperty(G)&&xs(sr[G])}(),function(G){var Q;for(Q in nt)nt.hasOwnProperty(Q)&&(nt[Q]instanceof dl?As(nt[Q]):nt[Q]instanceof yc&&no(nt[Q],G))}(v),qt.publish("putResources"),v.forEach(Wa),Wa({resourcesOid:yi,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),u!==null&&(zn.oid=an(),W("<<"),W("/Filter /Standard"),W("/V "+zn.v),W("/R "+zn.r),W("/U <"+zn.toHexString(zn.U)+">"),W("/O <"+zn.toHexString(zn.O)+">"),W("/P "+zn.P),W(">>"),W("endobj")),bi(),Ts();var R=we;return Ja(),Xa(),W("startxref"),W(""+R),W("%%EOF"),Xe(Ce[$]),be.join(`
`)},Do=f.__private__.getBlob=function(v){return new Blob([St(v)],{type:"application/pdf"})},Za=f.output=f.__private__.output=(dr=function(v,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",v){case void 0:return Vi();case"save":f.save(R.filename);break;case"arraybuffer":return St(Vi());case"blob":return Do(Vi());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(Do(Vi()))||void 0;fn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",Q=Vi();try{G=_b(Q)}catch{G=_b(unescape(encodeURIComponent(Q)))}return"data:application/pdf;filename="+R.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(ae=R.pdfObjectUrl,Ae="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ae+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",ze=yt.open();return ze!==null&&ze.document.write(Ie),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',ut=yt.open();if(ut!==null){ut.document.write(We);var gt=this;ut.document.documentElement.querySelector("#pdfViewer").onload=function(){ut.document.title=R.filename,ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',pn=yt.open();if(pn!==null&&(pn.document.write(Dt),pn.document.title=R.filename),pn||typeof safari>"u")return pn;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",R);default:return null}},dr.foo=function(){try{return dr.apply(this,arguments)}catch(G){var v=G.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var R="Error in function "+v.split(`
`)[0].split("<")[0]+": "+G.message;if(!yt.console)throw new Error(R);yt.console.error(R,G),yt.alert&&alert(R)}},dr.foo.bar=dr,dr.foo),Yr=function(v){return Array.isArray(qr)===!0&&qr.indexOf(v)>-1};switch(r){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=Yr("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);wt=r}var zn=null;ve(),le();var wr=f.__private__.getPageInfo=f.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[v].objId,pageNumber:v,pageContext:st[v]}},oi=f.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in st)if(st[R].objId===v)break;return wr(R)},Mo=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:st[$].objId,pageNumber:$,pageContext:st[$]}};f.addPage=function(){return Fi.apply(this,arguments),this},f.setPage=function(){return $l.apply(this,arguments),Xe.call(this,Ce[$]),this},f.insertPage=function(v){return this.addPage(),this.movePage($,v),this},f.movePage=function(v,R){var G,Q;if(v>R){G=Ce[v],Q=st[v];for(var ae=v;ae>R;ae--)Ce[ae]=Ce[ae-1],st[ae]=st[ae-1];Ce[R]=G,st[R]=Q,this.setPage(R)}else if(v<R){G=Ce[v],Q=st[v];for(var Ae=v;Ae<R;Ae++)Ce[Ae]=Ce[Ae+1],st[Ae]=st[Ae+1];Ce[R]=G,st[R]=Q,this.setPage(R)}return this},f.deletePage=function(){return io.apply(this,arguments),this},f.__private__.text=f.text=function(v,R,G,Q,ae){var Ae,Ie,ze,We,ut,gt,Dt,pn,cn,Qt=(Q=Q||{}).scope||this;if(typeof v=="number"&&typeof R=="number"&&(typeof G=="string"||Array.isArray(G))){var Mn=G;G=R,R=v,v=Mn}if(arguments[3]instanceof et==0?(ze=arguments[4],We=arguments[5],rn(Dt=arguments[3])==="object"&&Dt!==null||(typeof ze=="string"&&(We=ze,ze=null),typeof Dt=="string"&&(We=Dt,Dt=null),typeof Dt=="number"&&(ze=Dt,Dt=null),Q={flags:Dt,angle:ze,align:We})):(S("The transform parameter of text() with a Matrix value"),cn=ae),isNaN(R)||isNaN(G)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Qt;var Rn,Zn="",li=typeof Q.lineHeightFactor=="number"?Q.lineHeightFactor:Rr,wn=Qt.internal.scaleFactor;function zi(Jt){return Jt=Jt.split("	").join(Array(Q.TabLen||9).join(" ")),kr(Jt,Dt)}function qo(Jt){for(var hn,Hn=Jt.concat(),ar=[],po=Hn.length;po--;)typeof(hn=Hn.shift())=="string"?ar.push(hn):Array.isArray(Jt)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?ar.push(hn[0]):ar.push([hn[0],hn[1],hn[2]]);return ar}function Ai(Jt,hn){var Hn;if(typeof Jt=="string")Hn=hn(Jt)[0];else if(Array.isArray(Jt)){for(var ar,po,fu=Jt.concat(),Zl=[],Hh=fu.length;Hh--;)typeof(ar=fu.shift())=="string"?Zl.push(hn(ar)[0]):Array.isArray(ar)&&typeof ar[0]=="string"&&(po=hn(ar[0],ar[1],ar[2]),Zl.push([po[0],po[1],po[2]]));Hn=Zl}return Hn}var d=!1,w=!0;if(typeof v=="string")d=!0;else if(Array.isArray(v)){var N=v.concat();Ie=[];for(var U,oe=N.length;oe--;)(typeof(U=N.shift())!="string"||Array.isArray(U)&&typeof U[0]!="string")&&(w=!1);d=w}if(d===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var ge=ke/Qt.internal.scaleFactor,je=ge*(li-1);switch(Q.baseline){case"bottom":G-=je;break;case"top":G+=ge-je;break;case"hanging":G+=ge-2*je;break;case"middle":G+=ge/2-je}if((gt=Q.maxWidth||0)>0&&(typeof v=="string"?v=Qt.splitTextToSize(v,gt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Jt,hn){return Jt.concat(Qt.splitTextToSize(hn,gt))},[]))),Ae={text:v,x:R,y:G,options:Q,mutex:{pdfEscape:kr,activeFontKey:He,fonts:Pt,activeFontSize:ke}},qt.publish("preProcessText",Ae),v=Ae.text,ze=(Q=Ae.options).angle,cn instanceof et==0&&ze&&typeof ze=="number"){ze*=Math.PI/180,Q.rotationDirection===0&&(ze=-ze),z===M&&(ze=-ze);var Wt=Math.cos(ze),Ln=Math.sin(ze);cn=new et(Wt,Ln,-Ln,Wt,0,0)}else ze&&ze instanceof et&&(cn=ze);z!==M||cn||(cn=bn),(ut=Q.charSpace||Gr)!==void 0&&(Zn+=P(k(ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pn=Q.horizontalScale)!==void 0&&(Zn+=P(100*pn)+` Tz
`),Q.lang;var pt=-1,mn=Q.renderingMode!==void 0?Q.renderingMode:Q.stroke,jn=Qt.internal.getCurrentPageInfo().pageContext;switch(mn){case 0:case!1:case"fill":pt=0;break;case 1:case!0:case"stroke":pt=1;break;case 2:case"fillThenStroke":pt=2;break;case 3:case"invisible":pt=3;break;case 4:case"fillAndAddForClipping":pt=4;break;case 5:case"strokeAndAddPathForClipping":pt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pt=6;break;case 7:case"addToPathForClipping":pt=7}var as=jn.usedRenderingMode!==void 0?jn.usedRenderingMode:-1;pt!==-1?Zn+=pt+` Tr
`:as!==-1&&(Zn+=`0 Tr
`),pt!==-1&&(jn.usedRenderingMode=pt),We=Q.align||"left";var En,qi=ke*li,ho=Qt.internal.pageSize.getWidth(),au=Pt[He];ut=Q.charSpace||Gr,gt=Q.maxWidth||0,Dt=Object.assign({autoencode:!0,noBOM:!0},Q.flags);var Ho=[],nl=function(Jt){return Qt.getStringUnitWidth(Jt,{font:au,charSpace:ut,fontSize:ke,doKerning:!1})*ke/wn};if(Object.prototype.toString.call(v)==="[object Array]"){var Ti;Ie=qo(v),We!=="left"&&(En=Ie.map(nl));var Ei,$o=0;if(We==="right"){R-=En[0],v=[],oe=Ie.length;for(var fo=0;fo<oe;fo++)fo===0?(Ei=ns(R),Ti=fr(G)):(Ei=k($o-En[fo]),Ti=-qi),v.push([Ie[fo],Ei,Ti]),$o=En[fo]}else if(We==="center"){R-=En[0]/2,v=[],oe=Ie.length;for(var Wo=0;Wo<oe;Wo++)Wo===0?(Ei=ns(R),Ti=fr(G)):(Ei=k(($o-En[Wo])/2),Ti=-qi),v.push([Ie[Wo],Ei,Ti]),$o=En[Wo]}else if(We==="left"){v=[],oe=Ie.length;for(var lu=0;lu<oe;lu++)v.push(Ie[lu])}else if(We==="justify"&&au.encoding==="Identity-H"){v=[],oe=Ie.length,gt=gt!==0?gt:ho;for(var Jl=0,qn=0;qn<oe;qn++)if(Ti=qn===0?fr(G):-qi,Ei=qn===0?ns(R):Jl,qn<oe-1){var qh=k((gt-En[qn])/(Ie[qn].split(" ").length-1)),Is=Ie[qn].split(" ");v.push([Is[0]+" ",Ei,Ti]),Jl=0;for(var Ps=1;Ps<Is.length;Ps++){var cu=(nl(Is[Ps-1]+" "+Is[Ps])-nl(Is[Ps]))*wn+qh;Ps==Is.length-1?v.push([Is[Ps],cu,0]):v.push([Is[Ps]+" ",cu,0]),Jl-=cu}}else v.push([Ie[qn],Ei,Ti]);v.push(["",Jl,0])}else{if(We!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],oe=Ie.length,gt=gt!==0?gt:ho,qn=0;qn<oe;qn++){Ti=qn===0?fr(G):-qi,Ei=qn===0?ns(R):0;var uu=Ie[qn].split(" ").length-1,hu=uu>0?(gt-En[qn])/uu:0;qn<oe-1?Ho.push(P(k(hu))):Ho.push(0),v.push([Ie[qn],Ei,Ti])}}}(typeof Q.R2L=="boolean"?Q.R2L:tt)===!0&&(v=Ai(v,function(Jt,hn,Hn){return[Jt.split("").reverse().join(""),hn,Hn]})),Ae={text:v,x:R,y:G,options:Q,mutex:{pdfEscape:kr,activeFontKey:He,fonts:Pt,activeFontSize:ke}},qt.publish("postProcessText",Ae),v=Ae.text,Rn=Ae.mutex.isHex||!1;var du=Pt[He].encoding;du!=="WinAnsiEncoding"&&du!=="StandardEncoding"||(v=Ai(v,function(Jt,hn,Hn){return[zi(Jt),hn,Hn]})),Ie=qo(v),v=[];for(var Yo,Go,Ko,rl=Array.isArray(Ie[0])?1:0,Xo="",il=function(Jt,hn,Hn){var ar="";return Hn instanceof et?(Hn=typeof Q.angle=="number"?Mi(Hn,new et(1,0,0,1,Jt,hn)):Mi(new et(1,0,0,1,Jt,hn),Hn),z===M&&(Hn=Mi(new et(1,0,0,-1,0,0),Hn)),ar=Hn.join(" ")+` Tm
`):ar=P(Jt)+" "+P(hn)+` Td
`,ar},Hi=0;Hi<Ie.length;Hi++){switch(Xo="",rl){case 1:Ko=(Rn?"<":"(")+Ie[Hi][0]+(Rn?">":")"),Yo=parseFloat(Ie[Hi][1]),Go=parseFloat(Ie[Hi][2]);break;case 0:Ko=(Rn?"<":"(")+Ie[Hi]+(Rn?">":")"),Yo=ns(R),Go=fr(G)}Ho!==void 0&&Ho[Hi]!==void 0&&(Xo=Ho[Hi]+` Tw
`),Hi===0?v.push(Xo+il(Yo,Go,cn)+Ko):rl===0?v.push(Xo+Ko):rl===1&&v.push(Xo+il(Yo,Go,cn)+Ko)}v=rl===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Cs=`BT
/`;return Cs+=He+" "+ke+` Tf
`,Cs+=P(ke*li)+` TL
`,Cs+=Ns+`
`,Cs+=Zn,Cs+=v,W(Cs+="ET"),y[He]=!0,Qt};var Fo=f.__private__.clip=f.clip=function(v){return W(v==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Fo("evenodd")},f.__private__.discardPath=f.discardPath=function(){return W("n"),this};var wi=f.__private__.isValidStyle=function(v){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(R=!0),R};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(v){return wi(v)&&(c=v),this};var Xt=f.__private__.getStyle=f.getStyle=function(v){var R=c;switch(v){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=v}return R},so=f.close=function(){return W("h"),this};f.stroke=function(){return W("S"),this},f.fill=function(v){return Bi("f",v),this},f.fillEvenOdd=function(v){return Bi("f*",v),this},f.fillStroke=function(v){return Bi("B",v),this},f.fillStrokeEvenOdd=function(v){return Bi("B*",v),this};var Bi=function(v,R){rn(R)==="object"?Wl(R,v):W(v)},_i=function(v){v===null||z===M&&v===void 0||(v=Xt(v),W(v))};function tu(v,R,G,Q,ae){var Ae=new yc(R||this.boundingBox,G||this.xStep,Q||this.yStep,this.gState,ae||this.matrix);Ae.stream=this.stream;var Ie=v+"$$"+this.cloneIndex+++"$$";return Hr(Ie,Ae),Ae}var Wl=function(v,R){var G=on[v.key],Q=nt[G];if(Q instanceof dl)W("q"),W(nu(R)),Q.gState&&f.setGState(Q.gState),W(v.matrix.toString()+" cm"),W("/"+G+" sh"),W("Q");else if(Q instanceof yc){var ae=new et(1,0,0,-1,0,os());v.matrix&&(ae=ae.multiply(v.matrix||bn),G=tu.call(Q,v.key,v.boundingBox,v.xStep,v.yStep,ae).id),W("q"),W("/Pattern cs"),W("/"+G+" scn"),Q.gState&&f.setGState(Q.gState),W(R),W("Q")}},nu=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Qa=f.moveTo=function(v,R){return W(P(k(v))+" "+P(Y(R))+" m"),this},Yl=f.lineTo=function(v,R){return W(P(k(v))+" "+P(Y(R))+" l"),this},xi=f.curveTo=function(v,R,G,Q,ae,Ae){return W([P(k(v)),P(Y(R)),P(k(G)),P(Y(Q)),P(k(ae)),P(Y(Ae)),"c"].join(" ")),this};f.__private__.line=f.line=function(v,R,G,Q,ae){if(isNaN(v)||isNaN(R)||isNaN(G)||isNaN(Q)||!wi(ae))throw new Error("Invalid arguments passed to jsPDF.line");return z===F?this.lines([[G-v,Q-R]],v,R,[1,1],ae||"S"):this.lines([[G-v,Q-R]],v,R,[1,1]).stroke()},f.__private__.lines=f.lines=function(v,R,G,Q,ae,Ae){var Ie,ze,We,ut,gt,Dt,pn,cn,Qt,Mn,Rn,Zn;if(typeof v=="number"&&(Zn=G,G=R,R=v,v=Zn),Q=Q||[1,1],Ae=Ae||!1,isNaN(R)||isNaN(G)||!Array.isArray(v)||!Array.isArray(Q)||!wi(ae)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qa(R,G),Ie=Q[0],ze=Q[1],ut=v.length,Mn=R,Rn=G,We=0;We<ut;We++)(gt=v[We]).length===2?(Mn=gt[0]*Ie+Mn,Rn=gt[1]*ze+Rn,Yl(Mn,Rn)):(Dt=gt[0]*Ie+Mn,pn=gt[1]*ze+Rn,cn=gt[2]*Ie+Mn,Qt=gt[3]*ze+Rn,Mn=gt[4]*Ie+Mn,Rn=gt[5]*ze+Rn,xi(Dt,pn,cn,Qt,Mn,Rn));return Ae&&so(),_i(ae),this},f.path=function(v){for(var R=0;R<v.length;R++){var G=v[R],Q=G.c;switch(G.op){case"m":Qa(Q[0],Q[1]);break;case"l":Yl(Q[0],Q[1]);break;case"c":xi.apply(this,Q);break;case"h":so()}}return this},f.__private__.rect=f.rect=function(v,R,G,Q,ae){if(isNaN(v)||isNaN(R)||isNaN(G)||isNaN(Q)||!wi(ae))throw new Error("Invalid arguments passed to jsPDF.rect");return z===F&&(Q=-Q),W([P(k(v)),P(Y(R)),P(k(G)),P(k(Q)),"re"].join(" ")),_i(ae),this},f.__private__.triangle=f.triangle=function(v,R,G,Q,ae,Ae,Ie){if(isNaN(v)||isNaN(R)||isNaN(G)||isNaN(Q)||isNaN(ae)||isNaN(Ae)||!wi(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-v,Q-R],[ae-G,Ae-Q],[v-ae,R-Ae]],v,R,[1,1],Ie,!0),this},f.__private__.roundedRect=f.roundedRect=function(v,R,G,Q,ae,Ae,Ie){if(isNaN(v)||isNaN(R)||isNaN(G)||isNaN(Q)||isNaN(ae)||isNaN(Ae)||!wi(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ze=4/3*(Math.SQRT2-1);return ae=Math.min(ae,.5*G),Ae=Math.min(Ae,.5*Q),this.lines([[G-2*ae,0],[ae*ze,0,ae,Ae-Ae*ze,ae,Ae],[0,Q-2*Ae],[0,Ae*ze,-ae*ze,Ae,-ae,Ae],[2*ae-G,0],[-ae*ze,0,-ae,-Ae*ze,-ae,-Ae],[0,2*Ae-Q],[0,-Ae*ze,ae*ze,-Ae,ae,-Ae]],v+ae,R,[1,1],Ie,!0),this},f.__private__.ellipse=f.ellipse=function(v,R,G,Q,ae){if(isNaN(v)||isNaN(R)||isNaN(G)||isNaN(Q)||!wi(ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*G,Ie=4/3*(Math.SQRT2-1)*Q;return Qa(v+G,R),xi(v+G,R-Ie,v+Ae,R-Q,v,R-Q),xi(v-Ae,R-Q,v-G,R-Ie,v-G,R),xi(v-G,R+Ie,v-Ae,R+Q,v,R+Q),xi(v+Ae,R+Q,v+G,R+Ie,v+G,R),_i(ae),this},f.__private__.circle=f.circle=function(v,R,G,Q){if(isNaN(v)||isNaN(R)||isNaN(G)||!wi(Q))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,R,G,G,Q)},f.setFont=function(v,R,G){return G&&(R=B(R,G)),He=Ka(v,R,{disableWarning:!1}),this};var oo=f.__private__.getFont=f.getFont=function(){return Pt[Ka.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var v,R,G={};for(v in Ct)if(Ct.hasOwnProperty(v))for(R in G[v]=[],Ct[v])Ct[v].hasOwnProperty(R)&&G[v].push(R);return G},f.addFont=function(v,R,G,Q,ae){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?ae=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(G=B(G,Q)),Ya.call(this,v,R,G,ae=ae||"Identity-H")};var Rr,Vo=t.lineWidth||.200025,Gl=f.__private__.getLineWidth=f.getLineWidth=function(){return Vo},ft=f.__private__.setLineWidth=f.setLineWidth=function(v){return Vo=v,W(P(k(v))+" w"),this};f.__private__.setLineDash=Ze.API.setLineDash=Ze.API.setLineDashPattern=function(v,R){if(v=v||[],R=R||0,isNaN(R)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(G){return P(k(G))}).join(" "),R=P(k(R)),W("["+v+"] "+R+" d"),this};var Es=f.__private__.getLineHeight=f.getLineHeight=function(){return ke*Rr};f.__private__.getLineHeight=f.getLineHeight=function(){return ke*Rr};var ru=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Rr=v),this},iu=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Rr};ru(t.lineHeight);var ns=f.__private__.getHorizontalCoordinate=function(v){return k(v)},fr=f.__private__.getVerticalCoordinate=function(v){return z===M?v:st[$].mediaBox.topRightY-st[$].mediaBox.bottomLeftY-k(v)},su=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(v){return P(ns(v))},ou=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(v){return P(fr(v))},rs=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return $r(rs)},f.__private__.setStrokeColor=f.setDrawColor=function(v,R,G,Q){return rs=si({ch1:v,ch2:R,ch3:G,ch4:Q,pdfColorType:"draw",precision:2}),W(rs),this};var Ss=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return $r(Ss)},f.__private__.setFillColor=f.setFillColor=function(v,R,G,Q){return Ss=si({ch1:v,ch2:R,ch3:G,ch4:Q,pdfColorType:"fill",precision:2}),W(Ss),this};var Ns=t.textColor||"0 g",ao=f.__private__.getTextColor=f.getTextColor=function(){return $r(Ns)};f.__private__.setTextColor=f.setTextColor=function(v,R,G,Q){return Ns=si({ch1:v,ch2:R,ch3:G,ch4:Q,pdfColorType:"text",precision:3}),this};var Gr=t.charSpace,Kl=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Gr||0)};f.__private__.setCharSpace=f.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Gr=v,this};var lo=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(v){var R=f.CapJoinStyles[v];if(R===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lo=R,W(R+" J"),this};var ln=0;f.__private__.setLineJoin=f.setLineJoin=function(v){var R=f.CapJoinStyles[v];if(R===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ln=R,W(R+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(P(k(v))+" M"),this},f.GState=Lf,f.setGState=function(v){(v=typeof v=="string"?at[bt[v]]:Xl(null,v)).equals(un)||(W("/"+v.id+" gs"),un=v)};var Xl=function(v,R){if(!v||!bt[v]){var G=!1;for(var Q in at)if(at.hasOwnProperty(Q)&&at[Q].equals(R)){G=!0;break}if(G)R=at[Q];else{var ae="GS"+(Object.keys(at).length+1).toString(10);at[ae]=R,R.id=ae}return v&&(bt[v]=R.id),qt.publish("addGState",R),R}};f.addGState=function(v,R){return Xl(v,R),this},f.saveGraphicsState=function(){return W("q"),sn.push({key:He,size:ke,color:Ns}),this},f.restoreGraphicsState=function(){W("Q");var v=sn.pop();return He=v.key,ke=v.size,Ns=v.color,un=null,this},f.setCurrentTransformationMatrix=function(v){return W(v.toString()+" cm"),this},f.comment=function(v){return W("#"+v),this};var is=function(v,R){var G=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(Ae){isNaN(Ae)||(G=parseFloat(Ae))}});var Q=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Q},set:function(Ae){isNaN(Ae)||(Q=parseFloat(Ae))}});var ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ae},set:function(Ae){ae=Ae.toString()}}),this},Bo=function(v,R,G,Q){is.call(this,v,R),this.type="rect";var ae=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ae},set:function(Ie){isNaN(Ie)||(ae=parseFloat(Ie))}});var Ae=Q||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Ie){isNaN(Ie)||(Ae=parseFloat(Ie))}}),this},co=function(){this.page=At,this.currentPage=$,this.pages=Ce.slice(0),this.pagesContext=st.slice(0),this.x=Ke,this.y=Cn,this.matrix=jt,this.width=zo($),this.height=el($),this.outputDestination=Fe,this.id="",this.objectNumber=-1};co.prototype.restore=function(){At=this.page,$=this.currentPage,st=this.pagesContext,Ce=this.pages,Ke=this.x,Cn=this.y,jt=this.matrix,ai($,this.width),ss($,this.height),Fe=this.outputDestination};var Uo=function(v,R,G,Q,ae){gi.push(new co),At=$=0,Ce=[],Ke=v,Cn=R,jt=ae,ts([G,Q])};for(var Ui in f.beginFormObject=function(v,R,G,Q,ae){return Uo(v,R,G,Q,ae),this},f.endFormObject=function(v){return function(R){if(ri[R])gi.pop().restore();else{var G=new co,Q="Xo"+(Object.keys(sr).length+1).toString(10);G.id=Q,ri[R]=Q,sr[Q]=G,qt.publish("addFormObject",G),gi.pop().restore()}}(v),this},f.doFormObject=function(v,R){var G=sr[ri[v]];return W("q"),W(R.toString()+" cm"),W("/"+G.id+" Do"),W("Q"),this},f.getFormObject=function(v){var R=sr[ri[v]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},f.save=function(v,R){return v=v||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(hl(Do(Vi()),v),typeof hl.unload=="function"&&yt.setTimeout&&setTimeout(hl.unload,911),this):new Promise(function(G,Q){try{var ae=hl(Do(Vi()),v);typeof hl.unload=="function"&&yt.setTimeout&&setTimeout(hl.unload,911),G(ae)}catch(Ae){Q(Ae.message)}})},Ze.API)Ze.API.hasOwnProperty(Ui)&&(Ui==="events"&&Ze.API.events.length?function(v,R){var G,Q,ae;for(ae=R.length-1;ae!==-1;ae--)G=R[ae][0],Q=R[ae][1],v.subscribe.apply(v,[G].concat(typeof Q=="function"?[Q]:Q))}(qt,Ze.API.events):f[Ui]=Ze.API[Ui]);function zo(v){return st[v].mediaBox.topRightX-st[v].mediaBox.bottomLeftX}function ai(v,R){st[v].mediaBox.topRightX=R+st[v].mediaBox.bottomLeftX}function el(v){return st[v].mediaBox.topRightY-st[v].mediaBox.bottomLeftY}function ss(v,R){st[v].mediaBox.topRightY=R+st[v].mediaBox.bottomLeftY}var Kr=f.getPageWidth=function(v){return zo(v=v||$)/wt},tl=f.setPageWidth=function(v,R){ai(v,R*wt)},os=f.getPageHeight=function(v){return el(v=v||$)/wt},uo=f.setPageHeight=function(v,R){ss(v,R*wt)};return f.internal={pdfEscape:kr,getStyle:Xt,getFont:oo,getFontSize:Ue,getCharSpace:Kl,getTextColor:ao,getLineHeight:Es,getLineHeightFactor:iu,getLineWidth:Gl,write:De,getHorizontalCoordinate:ns,getVerticalCoordinate:fr,getCoordinateString:su,getVerticalCoordinateString:ou,collections:{},newObject:an,newAdditionalObject:ii,newObjectDeferred:Jn,newObjectDeferredBegin:or,getFilters:Wr,putStream:br,events:qt,scaleFactor:wt,pageSize:{getWidth:function(){return Kr($)},setWidth:function(v){tl($,v)},getHeight:function(){return os($)},setHeight:function(v){uo($,v)}},encryptionOptions:u,encryption:zn,getEncryptor:function(v){return u!==null?zn.encryptor(v,0):function(R){return R}},output:Za,getNumberOfPages:Ga,get pages(){return Ce},out:W,f2:T,f3:I,getPageInfo:wr,getPageInfoByObjId:oi,getCurrentPageInfo:Mo,getPDFVersion:_,Point:is,Rectangle:Bo,Matrix:et,hasHotfix:Yr},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Kr($)},set:function(v){tl($,v)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return os($)},set:function(v){uo($,v)},enumerable:!0,configurable:!0}),(function(v){for(var R=0,G=ot.length;R<G;R++){var Q=Ya.call(this,v[R][0],v[R][1],v[R][2],ot[R][3],!0);m===!1&&(y[Q]=!0);var ae=v[R][0].split("-");ro({id:Q,fontName:ae[0],fontStyle:ae[1]||""})}qt.publish("addFonts",{fonts:Pt,dictionary:Ct})}).call(f,ot),He="F1",Fi(i,n),qt.publish("initialized"),f}uc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},uc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},uc.prototype.processOwnerPassword=function(t,e){return zg(Ug(e).substr(0,5),t)},uc.prototype.encryptor=function(t,e){var n=Ug(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return zg(n,r)}},Lf.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||rn(t)!==rn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Ze.API={events:[]},Ze.version="4.0.0";var Bn=Ze.API,I1=1,ql=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tt=function(t){return t.toFixed(2)},oa=function(t){return t.toFixed(5)};Bn.__acroform__={};var mi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Eb=function(t){return t*I1},Rs=function(t){var e=new Q3,n=$e.internal.getHeight(t)||0,r=$e.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Tt(r)),Number(Tt(n))],e},KV=Bn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},XV=Bn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},JV=Bn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Gn=Bn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return JV(t,e-1)},Kn=Bn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return KV(t,e-1)},Xn=Bn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XV(t,e-1)},ZV=Bn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Tt(l.lowerLeft_X)),Number(Tt(l.lowerLeft_Y)),Number(Tt(l.upperRight_X)),Number(Tt(l.upperRight_Y))]},QV=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=qg(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Tt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Rs(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},qg=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=n,o=$e.internal.getHeight(t)||0;o=o<0?-o:o;var a=$e.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(T,I,k){if(T+1<i.length){var Y=I+" "+i[T+1][0];return Nd(Y,t,k).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,m=Nd("3",t,s).height,y=t.multiline?o-s:(o-m)/2,f=y+=2,A=0,_=0,E=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Nd(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var C="",F=0,M=0;M<i.length;M++)if(i.hasOwnProperty(M)){var z=!1;if(i[M].length!==1&&E!==i[M].length-1){if((m+2)*(F+2)+2>o)continue e;C+=i[M][E],z=!0,_=M,M--}else{C=(C+=i[M][E]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var ee=parseInt(M),ne=l(ee,C,s),B=M>=i.length-1;if(ne&&!B){C+=" ",E=0;continue}if(ne||B){if(B)_=ee;else if(t.multiline&&(m+2)*(F+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(F+2)+2>o)continue e;_=ee}}for(var P="",S=A;S<=_;S++){var D=i[S];if(t.multiline){if(S===_){P+=D[E]+" ",E=(E+1)%D.length;continue}if(S===A){P+=D[D.length-1]+" ";continue}}P+=D[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,u=Nd(P,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=Tt(c)+" "+Tt(f)+` Td
`,e+="("+ql(P)+`) Tj
`,e+=-Tt(c)+` 0 Td
`,f=-(s+2),u=0,A=z?_:_+1,F++,C=""}break}return r.text=e,r.fontSize=s,r},Nd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},eB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tB=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},nB=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(vs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(eB)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");I1=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new eT,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&tB(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=ZV(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=$e.createDefaultAppearanceStream(a),rn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=QV(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var m="";for(var y in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(y)){var f=a.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var A=f[o];typeof A=="function"&&(A=A.call(i,a)),m+="/"+o+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else typeof(A=f)=="function"&&(A=A.call(i,a)),m+="/"+o+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(_,E){for(var C in _)if(_.hasOwnProperty(C)){var F=C,M=_[C];E.internal.newObjectDeferredBegin(M.objId,!0),rn(M)==="object"&&typeof M.putStream=="function"&&M.putStream(),delete _[F]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Z3=Bn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),rn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+ql(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Im=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+ql(r(t))+")"},Ms=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ms.prototype.toString=function(){return this.objId+" 0 R"},Ms.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ms.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Z3(i,this.objId,this.scope)}):i instanceof Ms?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Q3=function(){Ms.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};mi(Q3,Ms);var eT=function(){Ms.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ql(n(t))+")"}},set:function(n){t=n}})};mi(eT,Ms);var vs=function t(){Ms.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Gn(e,3)},set:function(C){C?this.F=Kn(e,3):this.F=Xn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');n=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof jf)return;s="FieldObject"+t.FieldNum++}var C=function(F){return F};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+ql(C(s))+")"},set:function(C){s=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(C){s=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(C){a=C}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/I1:c},set:function(C){c=C}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof jf||this instanceof _l))return Im(m,this.objId,this.scope)},set:function(C){C=C.toString(),m=C}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof yr==0?Im(y,this.objId,this.scope):y},set:function(C){C=C.toString(),y=this instanceof yr==0?C.substr(0,1)==="("?rc(C.substr(1,C.length-2)):rc(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yr==1?rc(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof yr==1?"/"+C:C}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof yr==0?Im(f,this.objId,this.scope):f},set:function(C){C=C.toString(),f=this instanceof yr==0?C.substr(0,1)==="("?rc(C.substr(1,C.length-2)):rc(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yr==1?rc(f.substr(1,f.length-1)):f},set:function(C){C=C.toString(),f=this instanceof yr==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(C){C=!!C,_=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(C){A=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,1)},set:function(C){C?this.Ff=Kn(this.Ff,1):this.Ff=Xn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,2)},set:function(C){C?this.Ff=Kn(this.Ff,2):this.Ff=Xn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,3)},set:function(C){C?this.Ff=Kn(this.Ff,3):this.Ff=Xn(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');E=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(E){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};mi(vs,Ms);var Sc=function(){vs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Z3(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,18)},set:function(n){n?this.Ff=Kn(this.Ff,18):this.Ff=Xn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Kn(this.Ff,19):this.Ff=Xn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,20)},set:function(n){n?(this.Ff=Kn(this.Ff,20),e.sort()):this.Ff=Xn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,22)},set:function(n){n?this.Ff=Kn(this.Ff,22):this.Ff=Xn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,23)},set:function(n){n?this.Ff=Kn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,27)},set:function(n){n?this.Ff=Kn(this.Ff,27):this.Ff=Xn(this.Ff,27)}}),this.hasAppearanceStream=!1};mi(Sc,vs);var Nc=function(){Sc.call(this),this.fontName="helvetica",this.combo=!1};mi(Nc,Sc);var Ic=function(){Nc.call(this),this.combo=!0};mi(Ic,Nc);var Wd=function(){Ic.call(this),this.edit=!0};mi(Wd,Ic);var yr=function(){vs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,15)},set:function(n){n?this.Ff=Kn(this.Ff,15):this.Ff=Xn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,16)},set:function(n){n?this.Ff=Kn(this.Ff,16):this.Ff=Xn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,17)},set:function(n){n?this.Ff=Kn(this.Ff,17):this.Ff=Xn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,26)},set:function(n){n?this.Ff=Kn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+ql(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){rn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};mi(yr,vs);var Yd=function(){yr.call(this),this.pushButton=!0};mi(Yd,yr);var Pc=function(){yr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};mi(Pc,yr);var jf=function(){var t,e;vs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+ql(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){rn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$e.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};mi(jf,vs),Pc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Pc.prototype.createOption=function(t){var e=new jf;return e.Parent=this,e.optionName=t,this.Kids.push(e),rB.call(this.scope,e),e};var Gd=function(){yr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$e.CheckBox.createAppearanceStream()};mi(Gd,yr);var _l=function(){vs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,13)},set:function(e){e?this.Ff=Kn(this.Ff,13):this.Ff=Xn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,21)},set:function(e){e?this.Ff=Kn(this.Ff,21):this.Ff=Xn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,23)},set:function(e){e?this.Ff=Kn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,24)},set:function(e){e?this.Ff=Kn(this.Ff,24):this.Ff=Xn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,25)},set:function(e){e?this.Ff=Kn(this.Ff,25):this.Ff=Xn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,26)},set:function(e){e?this.Ff=Kn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};mi(_l,vs);var Kd=function(){_l.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,14)},set:function(t){t?this.Ff=Kn(this.Ff,14):this.Ff=Xn(this.Ff,14)}}),this.password=!0};mi(Kd,_l);var $e={CheckBox:{createAppearanceStream:function(){return{N:{On:$e.CheckBox.YesNormal},D:{On:$e.CheckBox.YesPushDown,Off:$e.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Rs(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=qg(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Tt($e.internal.getWidth(t))+" "+Tt($e.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Tt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Rs(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=$e.internal.getHeight(t),o=$e.internal.getWidth(t),a=qg(t,t.caption);return i.push("1 g"),i.push("0 0 "+Tt(o)+" "+Tt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Tt(o-1)+" "+Tt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Tt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Rs(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt($e.internal.getWidth(t))+" "+Tt($e.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:$e.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=$e.RadioButton.Circle.YesNormal,e.D[t]=$e.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Rs(t);e.scope=t.scope;var n=[],r=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=$e.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+oa($e.internal.getWidth(t)/2)+" "+oa($e.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Rs(t);e.scope=t.scope;var n=[],r=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5)),o=Number((r*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+oa($e.internal.getWidth(t)/2)+" "+oa($e.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+oa($e.internal.getWidth(t)/2)+" "+oa($e.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Rs(t);e.scope=t.scope;var n=[],r=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+oa($e.internal.getWidth(t)/2)+" "+oa($e.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:$e.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=$e.RadioButton.Cross.YesNormal,e.D[t]=$e.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Rs(t);e.scope=t.scope;var n=[],r=$e.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Tt($e.internal.getWidth(t)-2)+" "+Tt($e.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Tt(r.x1.x)+" "+Tt(r.x1.y)+" m"),n.push(Tt(r.x2.x)+" "+Tt(r.x2.y)+" l"),n.push(Tt(r.x4.x)+" "+Tt(r.x4.y)+" m"),n.push(Tt(r.x3.x)+" "+Tt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Rs(t);e.scope=t.scope;var n=$e.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt($e.internal.getWidth(t))+" "+Tt($e.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Tt($e.internal.getWidth(t)-2)+" "+Tt($e.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Tt(n.x1.x)+" "+Tt(n.x1.y)+" m"),r.push(Tt(n.x2.x)+" "+Tt(n.x2.y)+" l"),r.push(Tt(n.x4.x)+" "+Tt(n.x4.y)+" m"),r.push(Tt(n.x3.x)+" "+Tt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Rs(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt($e.internal.getWidth(t))+" "+Tt($e.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};$e.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=$e.internal.getWidth(t),n=$e.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},$e.internal.getWidth=function(t){var e=0;return rn(t)==="object"&&(e=Eb(t.Rect[2])),e},$e.internal.getHeight=function(t){var e=0;return rn(t)==="object"&&(e=Eb(t.Rect[3])),e};var rB=Bn.addField=function(t){if(nB(this,t),!(t instanceof vs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=Sc,Bn.AcroFormListBox=Nc,Bn.AcroFormComboBox=Ic,Bn.AcroFormEditBox=Wd,Bn.AcroFormButton=yr,Bn.AcroFormPushButton=Yd,Bn.AcroFormRadioButton=Pc,Bn.AcroFormCheckBox=Gd,Bn.AcroFormTextField=_l,Bn.AcroFormPasswordField=Kd,Bn.AcroFormAppearance=$e,Bn.AcroForm={ChoiceField:Sc,ListBox:Nc,ComboBox:Ic,EditBox:Wd,Button:yr,PushButton:Yd,RadioButton:Pc,CheckBox:Gd,TextField:_l,PasswordField:Kd,Appearance:$e},Ze.AcroForm={ChoiceField:Sc,ListBox:Nc,ComboBox:Ic,EditBox:Wd,Button:yr,PushButton:Yd,RadioButton:Pc,CheckBox:Gd,TextField:_l,PasswordField:Kd,Appearance:$e};function tT(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,I){var k,Y,ce,de,me,le=n;if((I=I||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(ne(T))for(me in r)for(ce=r[me],k=0;k<ce.length;k+=1){for(de=!0,Y=0;Y<ce[k].length;Y+=1)if(ce[k][Y]!==void 0&&ce[k][Y]!==T[Y]){de=!1;break}if(de===!0){le=me;break}}else for(me in r)for(ce=r[me],k=0;k<ce.length;k+=1){for(de=!0,Y=0;Y<ce[k].length;Y+=1)if(ce[k][Y]!==void 0&&ce[k][Y]!==T.charCodeAt(Y)){de=!1;break}if(de===!0){le=me;break}}return le===n&&I!==n&&(le=I),le},s=function T(I){for(var k=this.internal.write,Y=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:I.width}),de.push({key:"Height",value:I.height}),I.colorSpace===C.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===C.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var me="",le=0,ye=I.transparency.length;le<ye;le++)me+=I.transparency[le]+" "+I.transparency[le]+" ";de.push({key:"Mask",value:"["+me+"]"})}I.sMask!==void 0&&de.push({key:"SMask",value:I.objectId+1+" 0 R"});var Re=I.filter!==void 0?["/"+I.filter]:void 0;if(Y({data:I.data,additionalKeyValues:de,alreadyAppliedFilters:Re,objectId:I.objectId}),k("endobj"),"sMask"in I&&I.sMask!==void 0){var ve,j=(ve=I.sMaskBitsPerComponent)!==null&&ve!==void 0?ve:I.bitsPerComponent,$={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:I.sMask};"filter"in I&&($.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(I.width),$.filter=I.filter),T.call(this,$)}if(I.colorSpace===C.INDEXED){var J=this.internal.newObject();Y({data:P(new Uint8Array(I.palette)),objectId:J}),k("endobj")}},o=function(){var T=this.internal.collections[e+"images"];for(var I in T)s.call(this,T[I])},a=function(){var T,I=this.internal.collections[e+"images"],k=this.internal.write;for(var Y in I)k("/I"+(T=I[Y]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(T){return typeof t["process"+T.toUpperCase()]=="function"},y=function(T){return rn(T)==="object"&&T.nodeType===1},f=function(T,I){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var k=""+T.getAttribute("src");if(k.indexOf("data:image/")===0)return $d(unescape(k).split("base64,").pop());var Y=t.loadFile(k,!0);if(Y!==void 0)return Y}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ce;switch(I){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return $d(T.toDataURL(ce,1).split("base64,").pop())}},A=function(T){var I=this.internal.collections[e+"images"];if(I){for(var k in I)if(T===I[k].alias)return I[k]}},_=function(T,I,k){return T||I||(T=-96,I=-96),T<0&&(T=-1*k.width*72/T/this.internal.scaleFactor),I<0&&(I=-1*k.height*72/I/this.internal.scaleFactor),T===0&&(T=I*k.width/k.height),I===0&&(I=T*k.height/k.width),[T,I]},E=function(T,I,k,Y,ce,de){var me=_.call(this,k,Y,ce),le=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,Re=c.call(this);if(k=me[0],Y=me[1],Re[ce.index]=ce,de){de*=Math.PI/180;var ve=Math.cos(de),j=Math.sin(de),$=function(te){return te.toFixed(4)},J=[$(ve),$(j),$(-1*j),$(ve),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,le(T),ye(I+Y),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([le(k),"0","0",le(Y),"0","0","cm"].join(" "))):this.internal.write([le(k),"0","0",le(Y),le(T),ye(I+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=t.__addimage__.sHashCode=function(T){var I,k,Y=0;if(typeof T=="string")for(k=T.length,I=0;I<k;I++)Y=(Y<<5)-Y+T.charCodeAt(I),Y|=0;else if(ne(T))for(k=T.byteLength/2,I=0;I<k;I++)Y=(Y<<5)-Y+T[I],Y|=0;return Y},z=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var I=!0;return T.length===0&&(I=!1),T.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(I=!1),I},ee=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var I=T.indexOf(",");return I<0?null:T.substring(0,I).trim().endsWith("base64")?T.substring(I+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var ne=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},B=t.__addimage__.binaryStringToUint8Array=function(T){for(var I=T.length,k=new Uint8Array(I),Y=0;Y<I;Y++)k[Y]=T.charCodeAt(Y);return k},P=t.__addimage__.arrayBufferToBinaryString=function(T){for(var I="",k=ne(T)?T:new Uint8Array(T),Y=0;Y<k.length;Y+=8192)I+=String.fromCharCode.apply(null,k.subarray(Y,Y+8192));return I};t.addImage=function(){var T,I,k,Y,ce,de,me,le,ye;if(typeof arguments[1]=="number"?(I=n,k=arguments[1],Y=arguments[2],ce=arguments[3],de=arguments[4],me=arguments[5],le=arguments[6],ye=arguments[7]):(I=arguments[1],k=arguments[2],Y=arguments[3],ce=arguments[4],de=arguments[5],me=arguments[6],le=arguments[7],ye=arguments[8]),rn(T=arguments[0])==="object"&&!y(T)&&"imageData"in T){var Re=T;T=Re.imageData,I=Re.format||I||n,k=Re.x||k||0,Y=Re.y||Y||0,ce=Re.w||Re.width||ce,de=Re.h||Re.height||de,me=Re.alias||me,le=Re.compression||le,ye=Re.rotation||Re.angle||ye}var ve=this.internal.getFilters();if(le===void 0&&ve.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(k)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var j=S.call(this,T,I,me,le);return E.call(this,k,Y,ce,de,j,ye),this};var S=function(T,I,k,Y){var ce,de,me;if(typeof T=="string"&&i(T)===n){T=unescape(T);var le=D(T,!1);(le!==""||(le=t.loadFile(T,!0))!==void 0)&&(T=le)}if(y(T)&&(T=f(T,I)),I=i(T,I),!m(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((me=k)==null||me.length===0)&&(k=function(ye){return typeof ye=="string"||ne(ye)?M(ye):ne(ye.data)?M(ye.data):null}(T)),(ce=A.call(this,k))||(T instanceof Uint8Array||I==="RGBA"||(de=T,T=B(T)),ce=this["process"+I.toUpperCase()](T,u.call(this),k,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in t.image_compression?ye:F.NONE}(Y),de)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},D=t.__addimage__.convertBase64ToBinaryString=function(T,I){I=typeof I!="boolean"||I;var k,Y="";if(typeof T=="string"){var ce;k=(ce=ee(T))!==null&&ce!==void 0?ce:T;try{Y=$d(k)}catch(de){if(I)throw z(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};t.getImageProperties=function(T){var I,k,Y="";if(y(T)&&(T=f(T)),typeof T=="string"&&i(T)===n&&((Y=D(T,!1))===""&&(Y=t.loadFile(T)||""),T=Y),k=i(T),!m(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(T instanceof Uint8Array||(T=B(T)),!(I=this["process"+k.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=k,I}})(Ze.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ze.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,m=0;m<c.length&&!u;m++)switch((r=c[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var y=0;y<c.length;y++){r=c[y];var f=this.internal.pdfEscape,A=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(_.objId),F=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(C(r.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(C(F))+") >>",_.content=s;var M=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+M,r.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(_.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var z=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(A(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ee=this.annotations._nameMap[r.options.name];r.options.pageNumber=ee.page,r.options.top=ee.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var ne=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ne+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ze.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=t.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&i.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(_){var E=0,C=n,F="",M=0;for(E=0;E<_.length;E+=1)C[_.charCodeAt(E)]!==void 0?(M++,typeof(C=C[_.charCodeAt(E)])=="number"&&(F+=String.fromCharCode(C),C=n,M=0),E===_.length-1&&(C=n,F+=_.charAt(E-(M-1)),E-=M-1,M=0)):(C=n,F+=_.charAt(E-M),E-=M,M=0);return F};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(_,E,C){return o(_)?s(_)===!1?-1:!c(_)||!o(E)&&!o(C)||!o(C)&&a(E)||a(_)&&!o(E)||a(_)&&l(E)||a(_)&&a(E)?0:u(_)&&o(E)&&!a(E)&&o(C)&&c(C)?3:a(_)||!o(C)?1:2:-1},f=function(_){var E=0,C=0,F=0,M="",z="",ee="",ne=(_=_||"").split("\\s+"),B=[];for(E=0;E<ne.length;E+=1){for(B.push(""),C=0;C<ne[E].length;C+=1)M=ne[E][C],z=ne[E][C-1],ee=ne[E][C+1],o(M)?(F=y(M,z,ee),B[E]+=F!==-1?String.fromCharCode(e[M.charCodeAt(0)][F]):M):B[E]+=M;B[E]=m(B[E])}return B.join(" ")},A=t.__arabicParser__.processArabic=t.processArabic=function(){var _,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(E)){var F=0;for(C=[],F=0;F<E.length;F+=1)Array.isArray(E[F])?C.push([f(E[F][0]),E[F][1],E[F][2]]):C.push([f(E[F])]);_=C}else _=f(E);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",A])}(Ze.API),Ze.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ze.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(_){A=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),m=c.font||this.getFont(),y=c.scaleFactor||this.internal.scaleFactor,f=0,A=0,_=0,E=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var C=c.maxWidth;C>0?typeof l=="string"?l=this.splitTextToSize(l,C):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(M,z){return M.concat(E.splitTextToSize(z,C))},[])):l=Array.isArray(l)?l:[l];for(var F=0;F<l.length;F++)f<(_=this.getStringUnitWidth(l[F],{font:m})*u)&&(f=_);return f!==0&&(A=l.length),{w:f/=y,h:Math.max((A*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,f&&y&&(this.printHeaderRow(l.lineNumber,!0),l.y+=y[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,m,y){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,A,_,E,C=[],F=[],M=[],z={},ee={},ne=[],B=[],P=(y=y||{}).autoSize||!1,S=y.printHeaders!==!1,D=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,T=y.margins||Object.assign({width:this.getPageWidth()},e),I=typeof y.padding=="number"?y.padding:3,k=y.headerBackgroundColor||"#c8c8c8",Y=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=Y,this.setFontSize(D),m==null)F=C=Object.keys(u[0]),M=C.map(function(){return"left"});else if(Array.isArray(m)&&rn(m[0])==="object")for(C=m.map(function(Re){return Re.name}),F=m.map(function(Re){return Re.prompt||Re.name||""}),M=m.map(function(Re){return Re.align||"left"}),f=0;f<m.length;f+=1)ee[m[f].name]=.7499990551181103*m[f].width;else Array.isArray(m)&&typeof m[0]=="string"&&(F=C=m,M=C.map(function(){return"left"}));if(P||Array.isArray(m)&&typeof m[0]=="string")for(f=0;f<C.length;f+=1){for(z[E=C[f]]=u.map(function(Re){return Re[E]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(F[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=z[E],this.setFont(void 0,"normal"),_=0;_<A.length;_+=1)ne.push(this.getTextDimensions(A[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[E]=Math.max.apply(null,ne)+I+I,ne=[]}if(S){var ce={};for(f=0;f<C.length;f+=1)ce[C[f]]={},ce[C[f]].text=F[f],ce[C[f]].align=M[f];var de=a.call(this,ce,ee);B=C.map(function(Re){return new s(l,c,ee[Re],de,ce[Re].text,void 0,ce[Re].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var me=m.reduce(function(Re,ve){return Re[ve.name]=ve.align,Re},{});for(f=0;f<u.length;f+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:f,data:u[f]},this);var le=a.call(this,u[f],ee);for(_=0;_<C.length;_+=1){var ye=u[f][C[_]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:f,col:_,data:ye},this),o.call(this,new s(l,c,ee[C[_]],le,ye,f+2,me[C[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(l).map(function(f){var A=l[f];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*m/y+u+u},this).reduce(function(f,A){return Math.max(f,A)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,y.push(u)),u.lineNumber=l;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(A)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(Ze.API);var nT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Hg=tT(rT),iT=[100,200,300,400,500,600,700,800,900],iB=tT(iT);function Pm(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return nT[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof Hg[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Sb(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var sB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Nb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ib(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Pb(t){return t.trimLeft()}function oB(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function aB(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Id,Cb,kb,ic,Pd,Rb,Lb,jb,Cm=["times"];function Ob(t,e,n,r,i){var s=4,o=Mb;switch(i){case Ze.API.image_compression.FAST:s=1,o=Db;break;case Ze.API.image_compression.MEDIUM:s=6,o=Fb;break;case Ze.API.image_compression.SLOW:s=9,o=Vb}t=function(l,c,u,m){for(var y,f=l.length/c,A=new Uint8Array(l.length+f),_=[lB,Db,Mb,Fb,Vb],E=0;E<f;E+=1){var C=E*c,F=l.subarray(C,C+c);if(m)A.set(m(F,u,y),C+E);else{for(var M=_.length,z=[],ee=0;ee<M;ee+=1)z[ee]=_[ee](F,u,y);var ne=uB(z.concat());A.set(z[ne],C+E)}y=F}return A}(t,e,Math.ceil(n*r/8),o);var a=kg(t,{level:s});return Ze.API.__addimage__.arrayBufferToBinaryString(a)}function lB(t){var e=Array.apply([],t);return e.unshift(0),e}function Db(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function Mb(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function Fb(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function Vb(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=cB(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function cB(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function uB(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function km(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return sT(t,i)>>s&o}function Bb(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(c,u,m){if(u+1<c.byteLength)c.setUint16(u,m,!1);else{var y=m>>8&255;c.setUint8(u,y)}})(t,s,sT(t,s)&~(a<<o)&65535|l)}function sT(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function hB(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],m=0,y=null,f=0,A=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,A=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];m=t[e++]|t[e++]<<8,y=t[e++],1&_||(y=null),f=_>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,z=t[e++],ee=z>>6&1,ne=1<<1+(7&z),B=a,P=l,S=!1;z>>7&&(S=!0,B=e,P=ne,e+=3*ne);var D=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}u.push({x:E,y:C,width:F,height:M,has_local_palette:S,palette_offset:B,palette_size:P,data_offset:D,data_length:e-D,transparent_index:y,interlaced:!!ee,delay:m,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return A},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,k){var Y=this.frameInfo(I),ce=Y.width*Y.height,de=new Uint8Array(ce);Ub(t,Y.data_offset,de,ce);var me=Y.palette_offset,le=Y.transparent_index;le===null&&(le=256);var ye=Y.width,Re=n-ye,ve=ye,j=4*(Y.y*n+Y.x),$=4*((Y.y+Y.height)*n+Y.x),J=j,te=4*Re;Y.interlaced===!0&&(te+=4*n*7);for(var ie=8,he=0,be=de.length;he<be;++he){var we=de[he];if(ve===0&&(ve=ye,(J+=te)>=$&&(te=4*Re+4*n*(ie-1),J=j+(ye+Re)*(ie<<1),ie>>=1)),we===le)J+=4;else{var xe=t[me+3*we],Ce=t[me+3*we+1],Me=t[me+3*we+2];k[J++]=Me,k[J++]=Ce,k[J++]=xe,k[J++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(I,k){var Y=this.frameInfo(I),ce=Y.width*Y.height,de=new Uint8Array(ce);Ub(t,Y.data_offset,de,ce);var me=Y.palette_offset,le=Y.transparent_index;le===null&&(le=256);var ye=Y.width,Re=n-ye,ve=ye,j=4*(Y.y*n+Y.x),$=4*((Y.y+Y.height)*n+Y.x),J=j,te=4*Re;Y.interlaced===!0&&(te+=4*n*7);for(var ie=8,he=0,be=de.length;he<be;++he){var we=de[he];if(ve===0&&(ve=ye,(J+=te)>=$&&(te=4*Re+4*n*(ie-1),J=j+(ye+Re)*(ie<<1),ie>>=1)),we===le)J+=4;else{var xe=t[me+3*we],Ce=t[me+3*we+1],Me=t[me+3*we+2];k[J++]=xe,k[J++]=Ce,k[J++]=Me,k[J++]=255}--ve}}}function Ub(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,m=0,y=0,f=t[e++],A=new Int32Array(4096),_=null;;){for(;u<16&&f!==0;)m|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var E=m&c;if(m>>=l,u-=l,E!==s){if(E===o)break;for(var C=E<a?E:_,F=0,M=C;M>s;)M=A[M]>>8,++F;var z=M;if(y+F+(C!==E?1:0)>r)return void fn.log("Warning, gif stream longer than expected.");n[y++]=z;var ee=y+=F;for(C!==E&&(n[y++]=z),M=C;F--;)M=A[M],n[--ee]=255&M,M>>=8;_!==null&&a<4096&&(A[a++]=_<<8|z,a>=c+1&&l<12&&(++l,c=c<<1|1)),_=E}else a=o+1,c=(1<<(l=i+1))-1,_=null}return y!==r&&fn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Rm(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),m=new Array(65535),y=new Array(65535),f=new Array(64),A=new Array(64),_=[],E=0,C=7,F=new Array(64),M=new Array(64),z=new Array(64),ee=new Array(256),ne=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(j,$){for(var J=0,te=0,ie=new Array,he=1;he<=16;he++){for(var be=1;be<=j[he];be++)ie[$[te]]=[],ie[$[te]][0]=J,ie[$[te]][1]=he,te++,J++;J*=2}return ie}function me(j){for(var $=j[0],J=j[1]-1;J>=0;)$&1<<J&&(E|=1<<C),J--,--C<0&&(E==255?(le(255),le(0)):le(E),C=7,E=0)}function le(j){_.push(j)}function ye(j){le(j>>8&255),le(255&j)}function Re(j,$,J,te,ie){for(var he,be=ie[0],we=ie[240],xe=function(ke,it){var Ue,tt,Qe,zt,Lt,mt,lt,ct,He,wt,Ke=0;for(He=0;He<8;++He){Ue=ke[Ke],tt=ke[Ke+1],Qe=ke[Ke+2],zt=ke[Ke+3],Lt=ke[Ke+4],mt=ke[Ke+5],lt=ke[Ke+6];var Cn=Ue+(ct=ke[Ke+7]),jt=Ue-ct,Pt=tt+lt,Ct=tt-lt,sn=Qe+mt,nt=Qe-mt,on=zt+Lt,at=zt-Lt,bt=Cn+on,un=Cn-on,At=Pt+sn,st=Pt-sn;ke[Ke]=bt+At,ke[Ke+4]=bt-At;var qt=.707106781*(st+un);ke[Ke+2]=un+qt,ke[Ke+6]=un-qt;var qr=.382683433*((bt=at+nt)-(st=Ct+jt)),sr=.5411961*bt+qr,ri=1.306562965*st+qr,gi=.707106781*(At=nt+Ct),et=jt+gi,Mi=jt-gi;ke[Ke+5]=Mi+sr,ke[Ke+3]=Mi-sr,ke[Ke+1]=et+ri,ke[Ke+7]=et-ri,Ke+=8}for(Ke=0,He=0;He<8;++He){Ue=ke[Ke],tt=ke[Ke+8],Qe=ke[Ke+16],zt=ke[Ke+24],Lt=ke[Ke+32],mt=ke[Ke+40],lt=ke[Ke+48];var bn=Ue+(ct=ke[Ke+56]),Hr=Ue-ct,dr=tt+lt,an=tt-lt,Jn=Qe+mt,or=Qe-mt,ii=zt+Lt,ws=zt-Lt,yi=bn+ii,$r=bn-ii,si=dr+Jn,Wr=dr-Jn;ke[Ke]=yi+si,ke[Ke+32]=yi-si;var br=.707106781*(Wr+$r);ke[Ke+16]=$r+br,ke[Ke+48]=$r-br;var Cr=.382683433*((yi=ws+or)-(Wr=an+Hr)),vi=.5411961*yi+Cr,_s=1.306562965*Wr+Cr,xs=.707106781*(si=or+an),As=Hr+xs,no=Hr-xs;ke[Ke+40]=no+vi,ke[Ke+24]=no-vi,ke[Ke+8]=As+_s,ke[Ke+56]=As-_s,Ke++}for(He=0;He<64;++He)wt=ke[He]*it[He],f[He]=wt>0?wt+.5|0:wt-.5|0;return f}(j,$),Ce=0;Ce<64;++Ce)A[B[Ce]]=xe[Ce];var Me=A[0]-J;J=A[0],Me==0?me(te[0]):(me(te[y[he=32767+Me]]),me(m[he]));for(var Fe=63;Fe>0&&A[Fe]==0;)Fe--;if(Fe==0)return me(be),J;for(var Xe,W=1;W<=Fe;){for(var De=W;A[W]==0&&W<=Fe;)++W;var St=W-De;if(St>=16){Xe=St>>4;for(var ot=1;ot<=Xe;++ot)me(we);St&=15}he=32767+A[W],me(ie[(St<<4)+y[he]]),me(m[he]),W++}return Fe!=63&&me(be),J}function ve(j){j=Math.min(Math.max(j,1),100),s!=j&&(function($){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ie=o((J[te]*$+50)/100);ie=Math.min(Math.max(ie,1),255),a[B[te]]=ie}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var we=o((he[be]*$+50)/100);we=Math.min(Math.max(we,1),255),l[B[be]]=we}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Me=0;Me<8;Me++)for(var Fe=0;Fe<8;Fe++)c[Ce]=1/(a[B[Ce]]*xe[Me]*xe[Fe]*8),u[Ce]=1/(l[B[Ce]]*xe[Me]*xe[Fe]*8),Ce++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,$){$&&ve($),_=new Array,E=0,C=7,ye(65496),ye(65504),ye(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),ye(1),ye(1),le(0),le(0),function(){ye(65499),ye(132),le(0);for(var tt=0;tt<64;tt++)le(a[tt]);le(1);for(var Qe=0;Qe<64;Qe++)le(l[Qe])}(),function(tt,Qe){ye(65472),ye(17),le(8),ye(Qe),ye(tt),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)}(j.width,j.height),function(){ye(65476),ye(418),le(0);for(var tt=0;tt<16;tt++)le(P[tt+1]);for(var Qe=0;Qe<=11;Qe++)le(S[Qe]);le(16);for(var zt=0;zt<16;zt++)le(D[zt+1]);for(var Lt=0;Lt<=161;Lt++)le(T[Lt]);le(1);for(var mt=0;mt<16;mt++)le(I[mt+1]);for(var lt=0;lt<=11;lt++)le(k[lt]);le(17);for(var ct=0;ct<16;ct++)le(Y[ct+1]);for(var He=0;He<=161;He++)le(ce[He])}(),ye(65498),ye(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var J=0,te=0,ie=0;E=0,C=7,this.encode.displayName="_encode_";for(var he,be,we,xe,Ce,Me,Fe,Xe,W,De=j.data,St=j.width,ot=j.height,ke=4*St,it=0;it<ot;){for(he=0;he<ke;){for(Ce=ke*it+he,Fe=-1,Xe=0,W=0;W<64;W++)Me=Ce+(Xe=W>>3)*ke+(Fe=4*(7&W)),it+Xe>=ot&&(Me-=ke*(it+1+Xe-ot)),he+Fe>=ke&&(Me-=he+Fe-ke+4),be=De[Me++],we=De[Me++],xe=De[Me++],F[W]=(ne[be]+ne[we+256|0]+ne[xe+512|0]>>16)-128,M[W]=(ne[be+768|0]+ne[we+1024|0]+ne[xe+1280|0]>>16)-128,z[W]=(ne[be+1280|0]+ne[we+1536|0]+ne[xe+1792|0]>>16)-128;J=Re(F,c,J,e,r),te=Re(M,u,te,n,i),ie=Re(z,u,ie,n,i),he+=32}it+=8}if(C>=0){var Ue=[];Ue[1]=C+1,Ue[0]=(1<<C+1)-1,me(Ue)}return ye(65497),new Uint8Array(_)},t=t||50,function(){for(var j=String.fromCharCode,$=0;$<256;$++)ee[$]=j($)}(),e=de(P,S),n=de(I,k),r=de(D,T),i=de(Y,ce),function(){for(var j=1,$=2,J=1;J<=15;J++){for(var te=j;te<$;te++)y[32767+te]=J,m[32767+te]=[],m[32767+te][1]=J,m[32767+te][0]=te;for(var ie=-($-1);ie<=-j;ie++)y[32767+ie]=J,m[32767+ie]=[],m[32767+ie][1]=J,m[32767+ie][0]=$-1+ie;j<<=1,$<<=1}}(),function(){for(var j=0;j<256;j++)ne[j]=19595*j,ne[j+256|0]=38470*j,ne[j+512|0]=7471*j+32768,ne[j+768|0]=-11059*j,ne[j+1024|0]=-21709*j,ne[j+1280|0]=32768*j+8421375,ne[j+1536|0]=-27439*j,ne[j+1792|0]=-5329*j}(),ve(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ds(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zb(t){function e(S){if(!S)throw Error("assert :P")}function n(S,D,T){for(var I=0;4>I;I++)if(S[D+I]!=T.charCodeAt(I))return!0;return!1}function r(S,D,T,I,k){for(var Y=0;Y<k;Y++)S[D+Y]=T[I+Y]}function i(S,D,T,I){for(var k=0;k<I;k++)S[D+k]=T}function s(S){return new Int32Array(S)}function o(S,D){for(var T=[],I=0;I<S;I++)T.push(new D);return T}function a(S,D){var T=[];return function I(k,Y,ce){for(var de=ce[Y],me=0;me<de&&(k.push(ce.length>Y+1?[]:new D),!(ce.length<Y+1));me++)I(k[me],Y+1,ce)}(T,0,S),T}var l=function(){var S=this;function D(h,p){for(var b=1<<p-1>>>0;h&b;)b>>>=1;return b?(h&b-1)+b:h}function T(h,p,b,x,L){e(!(x%b));do h[p+(x-=b)]=L;while(0<x)}function I(h,p,b,x,L){if(e(2328>=L),512>=L)var O=s(512);else if((O=s(L))==null)return 0;return function(V,q,H,K,re,pe){var X,se,ue=q,_e=1<<H,fe=s(16),Te=s(16);for(e(re!=0),e(K!=null),e(V!=null),e(0<H),se=0;se<re;++se){if(15<K[se])return 0;++fe[K[se]]}if(fe[0]==re)return 0;for(Te[1]=0,X=1;15>X;++X){if(fe[X]>1<<X)return 0;Te[X+1]=Te[X]+fe[X]}for(se=0;se<re;++se)X=K[se],0<K[se]&&(pe[Te[X]++]=se);if(Te[15]==1)return(K=new k).g=0,K.value=pe[0],T(V,ue,1,_e,K),_e;var Ee,Le=-1,Pe=_e-1,Je=0,qe=1,kt=1,Ye=1<<H;for(se=0,X=1,re=2;X<=H;++X,re<<=1){if(qe+=kt<<=1,0>(kt-=fe[X]))return 0;for(;0<fe[X];--fe[X])(K=new k).g=X,K.value=pe[se++],T(V,ue+Je,re,Ye,K),Je=D(Je,X)}for(X=H+1,re=2;15>=X;++X,re<<=1){if(qe+=kt<<=1,0>(kt-=fe[X]))return 0;for(;0<fe[X];--fe[X]){if(K=new k,(Je&Pe)!=Le){for(ue+=Ye,Ee=1<<(Le=X)-H;15>Le&&!(0>=(Ee-=fe[Le]));)++Le,Ee<<=1;_e+=Ye=1<<(Ee=Le-H),V[q+(Le=Je&Pe)].g=Ee+H,V[q+Le].value=ue-q-Le}K.g=X-H,K.value=pe[se++],T(V,ue+(Je>>H),re,Ye,K),Je=D(Je,X)}}return qe!=2*Te[15]-1?0:_e}(h,p,b,x,L,O)}function k(){this.value=this.g=0}function Y(){this.value=this.g=0}function ce(){this.G=o(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(nl,Y)}function de(h,p,b,x){e(h!=null),e(p!=null),e(2147483648>x),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=p,h.pa=b,h.Jd=p,h.Yc=b+x,h.Zc=4<=x?b+x-4+1:b,be(h)}function me(h,p){for(var b=0;0<p--;)b|=xe(h,128)<<p;return b}function le(h,p){var b=me(h,p);return we(h)?-b:b}function ye(h,p,b,x){var L,O=0;for(e(h!=null),e(p!=null),e(4294967288>x),h.Sb=x,h.Ra=0,h.u=0,h.h=0,4<x&&(x=4),L=0;L<x;++L)O+=p[b+L]<<8*L;h.Ra=O,h.bb=x,h.oa=p,h.pa=b}function Re(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<$o-8>>>0,++h.bb,h.u-=8;te(h)&&(h.h=1,h.u=0)}function ve(h,p){if(e(0<=p),!h.h&&p<=Ei){var b=J(h)&Ti[p];return h.u+=p,Re(h),b}return h.h=1,h.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(h){return h.Ra>>>(h.u&$o-1)>>>0}function te(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>$o}function ie(h,p){h.u=p,h.h=te(h)}function he(h){h.u>=fo&&(e(h.u>=fo),Re(h))}function be(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function we(h){return me(h,1)}function xe(h,p){var b=h.Ca;0>h.b&&be(h);var x=h.b,L=b*p>>>8,O=(h.I>>>x>L)+0;for(O?(b-=L,h.I-=L+1<<x>>>0):b=L+1,x=b,L=0;256<=x;)L+=8,x>>=8;return x=7^L+Wo[x],h.b-=x,h.Ca=(b<<x)-1,O}function Ce(h,p,b){h[p+0]=b>>24&255,h[p+1]=b>>16&255,h[p+2]=b>>8&255,h[p+3]=255&b}function Me(h,p){return h[p+0]|h[p+1]<<8}function Fe(h,p){return Me(h,p)|h[p+2]<<16}function Xe(h,p){return Me(h,p)|Me(h,p+2)<<16}function W(h,p){var b=1<<p;return e(h!=null),e(0<p),h.X=s(b),h.X==null?0:(h.Mb=32-p,h.Xa=p,1)}function De(h,p){e(h!=null),e(p!=null),e(h.Xa==p.Xa),r(p.X,0,h.X,0,1<<p.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function ot(h,p,b,x){e(b!=null),e(x!=null);var L=b[0],O=x[0];return L==0&&(L=(h*O+p/2)/p),O==0&&(O=(p*L+h/2)/h),0>=L||0>=O?0:(b[0]=L,x[0]=O,1)}function ke(h,p){return h+(1<<p)-1>>>p}function it(h,p){return((4278255360&h)+(4278255360&p)>>>0&4278255360)+((16711935&h)+(16711935&p)>>>0&16711935)>>>0}function Ue(h,p){S[p]=function(b,x,L,O,V,q,H){var K;for(K=0;K<V;++K){var re=S[h](q[H+K-1],L,O+K);q[H+K]=it(b[x+K],re)}}}function tt(){this.ud=this.hd=this.jd=0}function Qe(h,p){return((4278124286&(h^p))>>>1)+(h&p)>>>0}function zt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Lt(h,p){return zt(h+(h-p+.5>>1))}function mt(h,p,b){return Math.abs(p-b)-Math.abs(h-b)}function lt(h,p,b,x,L,O,V){for(x=O[V-1],b=0;b<L;++b)O[V+b]=x=it(h[p+b],x)}function ct(h,p,b,x,L){var O;for(O=0;O<b;++O){var V=h[p+O],q=V>>8&255,H=16711935&(H=(H=16711935&V)+((q<<16)+q));x[L+O]=(4278255360&V)+H>>>0}}function He(h,p){p.jd=255&h,p.hd=h>>8&255,p.ud=h>>16&255}function wt(h,p,b,x,L,O){var V;for(V=0;V<x;++V){var q=p[b+V],H=q>>>8,K=q,re=255&(re=(re=q>>>16)+((h.jd<<24>>24)*(H<<24>>24)>>>5));K=255&(K=(K+=(h.hd<<24>>24)*(H<<24>>24)>>>5)+((h.ud<<24>>24)*(re<<24>>24)>>>5)),L[O+V]=(4278255360&q)+(re<<16)+K}}function Ke(h,p,b,x,L){S[p]=function(O,V,q,H,K,re,pe,X,se){for(H=pe;H<X;++H)for(pe=0;pe<se;++pe)K[re++]=L(q[x(O[V++])])},S[h]=function(O,V,q,H,K,re,pe){var X=8>>O.b,se=O.Ea,ue=O.K[0],_e=O.w;if(8>X)for(O=(1<<O.b)-1,_e=(1<<X)-1;V<q;++V){var fe,Te=0;for(fe=0;fe<se;++fe)fe&O||(Te=x(H[K++])),re[pe++]=L(ue[Te&_e]),Te>>=X}else S["VP8LMapColor"+b](H,K,ue,_e,re,pe,V,q,se)}}function Cn(h,p,b,x,L){for(b=p+b;p<b;){var O=h[p++];x[L++]=O>>16&255,x[L++]=O>>8&255,x[L++]=255&O}}function jt(h,p,b,x,L){for(b=p+b;p<b;){var O=h[p++];x[L++]=O>>16&255,x[L++]=O>>8&255,x[L++]=255&O,x[L++]=O>>24&255}}function Pt(h,p,b,x,L){for(b=p+b;p<b;){var O=(V=h[p++])>>16&240|V>>12&15,V=240&V|V>>28&15;x[L++]=O,x[L++]=V}}function Ct(h,p,b,x,L){for(b=p+b;p<b;){var O=(V=h[p++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;x[L++]=O,x[L++]=V}}function sn(h,p,b,x,L){for(b=p+b;p<b;){var O=h[p++];x[L++]=255&O,x[L++]=O>>8&255,x[L++]=O>>16&255}}function nt(h,p,b,x,L,O){if(O==0)for(b=p+b;p<b;)Ce(x,((O=h[p++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),L+=32;else r(x,L,h,p,b)}function on(h,p){S[p][0]=S[h+"0"],S[p][1]=S[h+"1"],S[p][2]=S[h+"2"],S[p][3]=S[h+"3"],S[p][4]=S[h+"4"],S[p][5]=S[h+"5"],S[p][6]=S[h+"6"],S[p][7]=S[h+"7"],S[p][8]=S[h+"8"],S[p][9]=S[h+"9"],S[p][10]=S[h+"10"],S[p][11]=S[h+"11"],S[p][12]=S[h+"12"],S[p][13]=S[h+"13"],S[p][14]=S[h+"0"],S[p][15]=S[h+"0"]}function at(h){return h==gp||h==yp||h==Xh||h==vp}function bt(){this.eb=[],this.size=this.A=this.fb=0}function un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function At(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bt,this.f.kb=new un,this.sd=null}function st(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qr(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function sr(h,p){var b=h.T,x=p.ba.f.RGBA,L=x.eb,O=x.fb+h.ka*x.A,V=Wi[p.ba.S],q=h.y,H=h.O,K=h.f,re=h.N,pe=h.ea,X=h.W,se=p.cc,ue=p.dc,_e=p.Mc,fe=p.Nc,Te=h.ka,Ee=h.ka+h.T,Le=h.U,Pe=Le+1>>1;for(Te==0?V(q,H,null,null,K,re,pe,X,K,re,pe,X,L,O,null,null,Le):(V(p.ec,p.fc,q,H,se,ue,_e,fe,K,re,pe,X,L,O-x.A,L,O,Le),++b);Te+2<Ee;Te+=2)se=K,ue=re,_e=pe,fe=X,re+=h.Rc,X+=h.Rc,O+=2*x.A,V(q,(H+=2*h.fa)-h.fa,q,H,se,ue,_e,fe,K,re,pe,X,L,O-x.A,L,O,Le);return H+=h.fa,h.j+Ee<h.o?(r(p.ec,p.fc,q,H,Le),r(p.cc,p.dc,K,re,Pe),r(p.Mc,p.Nc,pe,X,Pe),b--):1&Ee||V(q,H,null,null,K,re,pe,X,K,re,pe,X,L,O+x.A,null,null,Le),b}function ri(h,p,b){var x=h.F,L=[h.J];if(x!=null){var O=h.U,V=p.ba.S,q=V==Kh||V==Xh;p=p.ba.f.RGBA;var H=[0],K=h.ka;H[0]=h.T,h.Kb&&(K==0?--H[0]:(--K,L[0]-=h.width),h.j+h.ka+h.T==h.o&&(H[0]=h.o-h.j-K));var re=p.eb;K=p.fb+K*p.A,h=D1(x,L[0],h.width,O,H,re,K+(q?0:3),p.A),e(b==H),h&&at(V)&&pu(re,K,q,O,H,p.A)}return 0}function gi(h){var p=h.ma,b=p.ba.S,x=11>b,L=b==Yh||b==Gh||b==Kh||b==mp||b==12||at(b);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!ho(p.Oa,h,L?11:12))return 0;if(L&&at(b)&&qo(),h.da)alert("todo:use_scaling");else{if(x){if(p.Ib=qr,h.Kb){if(b=h.U+1>>1,p.memory=s(h.U+2*b),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+h.U,p.Mc=p.cc,p.Nc=p.dc+b,p.Ib=sr,qo()}}else alert("todo:EmitYUV");L&&(p.Jb=ri,x&&wn())}if(x&&!Q1){for(h=0;256>h;++h)NT[h]=89858*(h-128)+Zh>>Jh,CT[h]=-22014*(h-128)+Zh,PT[h]=-45773*(h-128),IT[h]=113618*(h-128)+Zh>>Jh;for(h=gu;h<_p;++h)p=76283*(h-16)+Zh>>Jh,kT[h-gu]=bi(p,255),RT[h-gu]=bi(p+8>>4,15);Q1=1}return 1}function et(h){var p=h.ma,b=h.U,x=h.T;return e(!(1&h.ka)),0>=b||0>=x?0:(b=p.Ib(h,p),p.Jb!=null&&p.Jb(h,p,b),p.Dc+=b,1)}function Mi(h){h.ma.memory=null}function bn(h,p,b,x){return ve(h,8)!=47?0:(p[0]=ve(h,14)+1,b[0]=ve(h,14)+1,x[0]=ve(h,1),ve(h,3)!=0?0:!h.h)}function Hr(h,p){if(4>h)return h+1;var b=h-2>>1;return(2+(1&h)<<b)+ve(p,b)+1}function dr(h,p){return 120<p?p-120:1<=(b=((b=fT[p-1])>>4)*h+(8-(15&b)))?b:1;var b}function an(h,p,b){var x=J(b),L=h[p+=255&x].g-8;return 0<L&&(ie(b,b.u+8),x=J(b),p+=h[p].value,p+=x&(1<<L)-1),ie(b,b.u+h[p].g),h[p].value}function Jn(h,p,b){return b.g+=h.g,b.value+=h.value<<p>>>0,e(8>=b.g),h.g}function or(h,p,b){var x=h.xc;return e((p=x==0?0:h.vc[h.md*(b>>x)+(p>>x)])<h.Wb),h.Ya[p]}function ii(h,p,b,x){var L=h.ab,O=h.c*p,V=h.C;p=V+p;var q=b,H=x;for(x=h.Ta,b=h.Ua;0<L--;){var K=h.gc[L],re=V,pe=p,X=q,se=H,ue=(H=x,q=b,K.Ea);switch(e(re<pe),e(pe<=K.nc),K.hc){case 2:qn(X,se,(pe-re)*ue,H,q);break;case 0:var _e=re,fe=pe,Te=H,Ee=q,Le=(Ye=K).Ea;_e==0&&(lu(X,se,null,null,1,Te,Ee),lt(X,se+1,0,0,Le-1,Te,Ee+1),se+=Le,Ee+=Le,++_e);for(var Pe=1<<Ye.b,Je=Pe-1,qe=ke(Le,Ye.b),kt=Ye.K,Ye=Ye.w+(_e>>Ye.b)*qe;_e<fe;){var Bt=kt,lr=Ye,Rt=1;for(Jl(X,se,Te,Ee-Le,1,Te,Ee);Rt<Le;){var Ge=(Rt&~Je)+Pe;Ge>Le&&(Ge=Le),(0,uu[Bt[lr++]>>8&15])(X,se+ +Rt,Te,Ee+Rt-Le,Ge-Rt,Te,Ee+Rt),Rt=Ge}se+=Le,Ee+=Le,++_e&Je||(Ye+=qe)}pe!=K.nc&&r(H,q-ue,H,q+(pe-re-1)*ue,ue);break;case 1:for(ue=X,fe=se,Le=(X=K.Ea)-(Ee=X&~(Te=(se=1<<K.b)-1)),_e=ke(X,K.b),Pe=K.K,K=K.w+(re>>K.b)*_e;re<pe;){for(Je=Pe,qe=K,kt=new tt,Ye=fe+Ee,Bt=fe+X;fe<Ye;)He(Je[qe++],kt),hu(kt,ue,fe,se,H,q),fe+=se,q+=se;fe<Bt&&(He(Je[qe++],kt),hu(kt,ue,fe,Le,H,q),fe+=Le,q+=Le),++re&Te||(K+=_e)}break;case 3:if(X==H&&se==q&&0<K.b){for(fe=H,X=ue=q+(pe-re)*ue-(Ee=(pe-re)*ke(K.Ea,K.b)),se=H,Te=q,_e=[],Ee=(Le=Ee)-1;0<=Ee;--Ee)_e[Ee]=se[Te+Ee];for(Ee=Le-1;0<=Ee;--Ee)fe[X+Ee]=_e[Ee];qh(K,re,pe,H,ue,H,q)}else qh(K,re,pe,X,se,H,q)}q=x,H=b}H!=b&&r(x,b,q,H,O)}function ws(h,p){var b=h.V,x=h.Ba+h.c*h.C,L=p-h.C;if(e(p<=h.l.o),e(16>=L),0<L){var O=h.l,V=h.Ta,q=h.Ua,H=O.width;if(ii(h,L,b,x),L=q=[q],e((b=h.C)<(x=p)),e(O.v<O.va),x>O.o&&(x=O.o),b<O.j){var K=O.j-b;b=O.j,L[0]+=K*H}if(b>=x?b=0:(L[0]+=4*O.v,O.ka=b-O.j,O.U=O.va-O.v,O.T=x-b,b=1),b){if(q=q[0],11>(b=h.ca).S){var re=b.f.RGBA,pe=(x=b.S,L=O.U,O=O.T,K=re.eb,re.A),X=O;for(re=re.fb+h.Ma*re.A;0<X--;){var se=V,ue=q,_e=L,fe=K,Te=re;switch(x){case Wh:du(se,ue,_e,fe,Te);break;case Yh:Yo(se,ue,_e,fe,Te);break;case gp:Yo(se,ue,_e,fe,Te),pu(fe,Te,0,_e,1,0);break;case q1:rl(se,ue,_e,fe,Te);break;case Gh:nt(se,ue,_e,fe,Te,1);break;case yp:nt(se,ue,_e,fe,Te,1),pu(fe,Te,0,_e,1,0);break;case Kh:nt(se,ue,_e,fe,Te,0);break;case Xh:nt(se,ue,_e,fe,Te,0),pu(fe,Te,1,_e,1,0);break;case mp:Go(se,ue,_e,fe,Te);break;case vp:Go(se,ue,_e,fe,Te),O1(fe,Te,_e,1,0);break;case H1:Ko(se,ue,_e,fe,Te);break;default:e(0)}q+=H,re+=pe}h.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=b.height)}}h.C=p,e(h.C<=h.i)}function yi(h){var p;if(0<h.ua)return 0;for(p=0;p<h.Wb;++p){var b=h.Ya[p].G,x=h.Ya[p].H;if(0<b[1][x[1]+0].g||0<b[2][x[2]+0].g||0<b[3][x[3]+0].g)return 0}return 1}function $r(h,p,b,x,L,O){if(h.Z!=0){var V=h.qd,q=h.rd;for(e(Zo[h.Z]!=null);p<b;++p)Zo[h.Z](V,q,x,L,x,L,O),V=x,q=L,L+=O;h.qd=V,h.rd=q}}function si(h,p){var b=h.l.ma,x=b.Z==0||b.Z==1?h.l.j:h.C;if(x=h.C<x?x:h.C,e(p<=h.l.o),p>x){var L=h.l.width,O=b.ca,V=b.tb+L*x,q=h.V,H=h.Ba+h.c*x,K=h.gc;e(h.ab==1),e(K[0].hc==3),Ps(K[0],x,p,q,H,O,V),$r(b,x,p,O,V,L)}h.C=h.Ma=p}function Wr(h,p,b,x,L,O,V){var q=h.$/x,H=h.$%x,K=h.m,re=h.s,pe=b+h.$,X=pe;L=b+x*L;var se=b+x*O,ue=280+re.ua,_e=h.Pb?q:16777216,fe=0<re.ua?re.Wa:null,Te=re.wc,Ee=pe<se?or(re,H,q):null;e(h.C<O),e(se<=L);var Le=!1;e:for(;;){for(;Le||pe<se;){var Pe=0;if(q>=_e){var Je=pe-b;e((_e=h).Pb),_e.wd=_e.m,_e.xd=Je,0<_e.s.ua&&De(_e.s.Wa,_e.s.vb),_e=q+mT}if(H&Te||(Ee=or(re,H,q)),e(Ee!=null),Ee.Qb&&(p[pe]=Ee.qb,Le=!0),!Le)if(he(K),Ee.jc){Pe=K,Je=p;var qe=pe,kt=Ee.pd[J(Pe)&nl-1];e(Ee.jc),256>kt.g?(ie(Pe,Pe.u+kt.g),Je[qe]=kt.value,Pe=0):(ie(Pe,Pe.u+kt.g-256),e(256<=kt.value),Pe=kt.value),Pe==0&&(Le=!0)}else Pe=an(Ee.G[0],Ee.H[0],K);if(K.h)break;if(Le||256>Pe){if(!Le)if(Ee.nd)p[pe]=(Ee.qb|Pe<<8)>>>0;else{if(he(K),Le=an(Ee.G[1],Ee.H[1],K),he(K),Je=an(Ee.G[2],Ee.H[2],K),qe=an(Ee.G[3],Ee.H[3],K),K.h)break;p[pe]=(qe<<24|Le<<16|Pe<<8|Je)>>>0}if(Le=!1,++pe,++H>=x&&(H=0,++q,V!=null&&q<=O&&!(q%16)&&V(h,q),fe!=null))for(;X<pe;)Pe=p[X++],fe.X[(506832829*Pe&4294967295)>>>fe.Mb]=Pe}else if(280>Pe){if(Pe=Hr(Pe-256,K),Je=an(Ee.G[4],Ee.H[4],K),he(K),Je=dr(x,Je=Hr(Je,K)),K.h)break;if(pe-b<Je||L-pe<Pe)break e;for(qe=0;qe<Pe;++qe)p[pe+qe]=p[pe+qe-Je];for(pe+=Pe,H+=Pe;H>=x;)H-=x,++q,V!=null&&q<=O&&!(q%16)&&V(h,q);if(e(pe<=L),H&Te&&(Ee=or(re,H,q)),fe!=null)for(;X<pe;)Pe=p[X++],fe.X[(506832829*Pe&4294967295)>>>fe.Mb]=Pe}else{if(!(Pe<ue))break e;for(Le=Pe-280,e(fe!=null);X<pe;)Pe=p[X++],fe.X[(506832829*Pe&4294967295)>>>fe.Mb]=Pe;Pe=pe,e(!(Le>>>(Je=fe).Xa)),p[Pe]=Je.X[Le],Le=!0}Le||e(K.h==te(K))}if(h.Pb&&K.h&&pe<L)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&De(h.s.vb,h.s.Wa);else{if(K.h)break e;V!=null&&V(h,q>O?O:q),h.a=0,h.$=pe-b}return 1}return h.a=3,0}function br(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var p=h.Wa;p!=null&&(p.X=null),h.vb=null,e(h!=null)}function Cr(){var h=new ut;return h==null?null:(h.a=0,h.xb=Y1,on("Predictor","VP8LPredictors"),on("Predictor","VP8LPredictors_C"),on("PredictorAdd","VP8LPredictorsAdd"),on("PredictorAdd","VP8LPredictorsAdd_C"),qn=ct,hu=wt,du=Cn,Yo=jt,Go=Pt,Ko=Ct,rl=sn,S.VP8LMapColor32b=Is,S.VP8LMapColor8b=cu,h)}function vi(h,p,b,x,L){var O=1,V=[h],q=[p],H=x.m,K=x.s,re=null,pe=0;e:for(;;){if(b)for(;O&&ve(H,1);){var X=V,se=q,ue=x,_e=1,fe=ue.m,Te=ue.gc[ue.ab],Ee=ve(fe,2);if(ue.Oc&1<<Ee)O=0;else{switch(ue.Oc|=1<<Ee,Te.hc=Ee,Te.Ea=X[0],Te.nc=se[0],Te.K=[null],++ue.ab,e(4>=ue.ab),Ee){case 0:case 1:Te.b=ve(fe,3)+2,_e=vi(ke(Te.Ea,Te.b),ke(Te.nc,Te.b),0,ue,Te.K),Te.K=Te.K[0];break;case 3:var Le,Pe=ve(fe,8)+1,Je=16<Pe?0:4<Pe?1:2<Pe?2:3;if(X[0]=ke(Te.Ea,Je),Te.b=Je,Le=_e=vi(Pe,1,0,ue,Te.K)){var qe,kt=Pe,Ye=Te,Bt=1<<(8>>Ye.b),lr=s(Bt);if(lr==null)Le=0;else{var Rt=Ye.K[0],Ge=Ye.w;for(lr[0]=Ye.K[0][0],qe=1;qe<1*kt;++qe)lr[qe]=it(Rt[Ge+qe],lr[qe-1]);for(;qe<4*Bt;++qe)lr[qe]=0;Ye.K[0]=null,Ye.K[0]=lr,Le=1}}_e=Le;break;case 2:break;default:e(0)}O=_e}}if(V=V[0],q=q[0],O&&ve(H,1)&&!(O=1<=(pe=ve(H,4))&&11>=pe)){x.a=3;break e}var Oe;if(Oe=O)t:{var $n,Nt,Ht,_n=x,_r=V,Xr=q,Fn=pe,Lr=b,Jr=_n.m,cr=_n.s,Yt=[null],en=1,Vn=0,tn=pT[Fn];n:for(;;){if(Lr&&ve(Jr,1)){var xr=ve(Jr,3)+2,cs=ke(_r,xr),Wn=ke(Xr,xr),ci=cs*Wn;if(!vi(cs,Wn,0,_n,Yt))break n;for(Yt=Yt[0],cr.xc=xr,$n=0;$n<ci;++$n){var dn=Yt[$n]>>8&65535;Yt[$n]=dn,dn>=en&&(en=dn+1)}}if(Jr.h)break n;for(Nt=0;5>Nt;++Nt){var ur=$1[Nt];!Nt&&0<Fn&&(ur+=1<<Fn),Vn<ur&&(Vn=ur)}var Ni=o(en*tn,k),Zr=en,Ii=o(Zr,ce);if(Ii==null)var Pi=null;else e(65536>=Zr),Pi=Ii;var ui=s(Vn);if(Pi==null||ui==null||Ni==null){_n.a=1;break n}var Ci=Ni;for($n=Ht=0;$n<en;++$n){var gn=Pi[$n],ki=gn.G,us=gn.H,sl=0,go=1,Ar=0;for(Nt=0;5>Nt;++Nt){ur=$1[Nt],ki[Nt]=Ci,us[Nt]=Ht,!Nt&&0<Fn&&(ur+=1<<Fn);i:{var ed,xp=ur,td=_n,yu=ui,OT=Ci,DT=Ht,Ap=0,Qo=td.m,MT=ve(Qo,1);if(i(yu,0,0,xp),MT){var FT=ve(Qo,1)+1,VT=ve(Qo,1),ny=ve(Qo,VT==0?1:8);yu[ny]=1,FT==2&&(yu[ny=ve(Qo,8)]=1);var nd=1}else{var ry=s(19),iy=ve(Qo,4)+4;if(19<iy){td.a=3;var rd=0;break i}for(ed=0;ed<iy;++ed)ry[dT[ed]]=ve(Qo,3);var Tp=void 0,vu=void 0,sy=td,BT=ry,id=xp,oy=yu,Ep=0,ea=sy.m,ay=8,ly=o(128,k);r:for(;I(ly,0,7,BT,19);){if(ve(ea,1)){var UT=2+2*ve(ea,3);if((Tp=2+ve(ea,UT))>id)break r}else Tp=id;for(vu=0;vu<id&&Tp--;){he(ea);var cy=ly[0+(127&J(ea))];ie(ea,ea.u+cy.g);var Ql=cy.value;if(16>Ql)oy[vu++]=Ql,Ql!=0&&(ay=Ql);else{var zT=Ql==16,uy=Ql-16,qT=uT[uy],hy=ve(ea,cT[uy])+qT;if(vu+hy>id)break r;for(var HT=zT?ay:0;0<hy--;)oy[vu++]=HT}}Ep=1;break r}Ep||(sy.a=3),nd=Ep}(nd=nd&&!Qo.h)&&(Ap=I(OT,DT,8,yu,xp)),nd&&Ap!=0?rd=Ap:(td.a=3,rd=0)}if(rd==0)break n;if(go&&hT[Nt]==1&&(go=Ci[Ht].g==0),sl+=Ci[Ht].g,Ht+=rd,3>=Nt){var bu,Sp=ui[0];for(bu=1;bu<ur;++bu)ui[bu]>Sp&&(Sp=ui[bu]);Ar+=Sp}}if(gn.nd=go,gn.Qb=0,go&&(gn.qb=(ki[3][us[3]+0].value<<24|ki[1][us[1]+0].value<<16|ki[2][us[2]+0].value)>>>0,sl==0&&256>ki[0][us[0]+0].value&&(gn.Qb=1,gn.qb+=ki[0][us[0]+0].value<<8)),gn.jc=!gn.Qb&&6>Ar,gn.jc){var sd,yo=gn;for(sd=0;sd<nl;++sd){var ta=sd,na=yo.pd[ta],od=yo.G[0][yo.H[0]+ta];256<=od.value?(na.g=od.g+256,na.value=od.value):(na.g=0,na.value=0,ta>>=Jn(od,8,na),ta>>=Jn(yo.G[1][yo.H[1]+ta],16,na),ta>>=Jn(yo.G[2][yo.H[2]+ta],0,na),Jn(yo.G[3][yo.H[3]+ta],24,na))}}}cr.vc=Yt,cr.Wb=en,cr.Ya=Pi,cr.yc=Ni,Oe=1;break t}Oe=0}if(!(O=Oe)){x.a=3;break e}if(0<pe){if(K.ua=1<<pe,!W(K.Wa,pe)){x.a=1,O=0;break e}}else K.ua=0;var Np=x,dy=V,$T=q,Ip=Np.s,Pp=Ip.xc;if(Np.c=dy,Np.i=$T,Ip.md=ke(dy,Pp),Ip.wc=Pp==0?-1:(1<<Pp)-1,b){x.xb=xT;break e}if((re=s(V*q))==null){x.a=1,O=0;break e}O=(O=Wr(x,re,0,V,q,q,null))&&!H.h;break e}return O?(L!=null?L[0]=re:(e(re==null),e(b)),x.$=0,b||br(K)):br(K),O}function _s(h,p){var b=h.c*h.i,x=b+p+16*p;return e(h.c<=p),h.V=s(x),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+b+p,1)}function xs(h,p){var b=h.C,x=p-b,L=h.V,O=h.Ba+h.c*b;for(e(p<=h.l.o);0<x;){var V=16<x?16:x,q=h.l.ma,H=h.l.width,K=H*V,re=q.ca,pe=q.tb+H*b,X=h.Ta,se=h.Ua;ii(h,V,L,O),M1(X,se,re,pe,K),$r(q,b,b+V,re,pe,H),x-=V,L+=V*h.c,b+=V}e(b==p),h.C=h.Ma=p}function As(){this.ub=this.yd=this.td=this.Rb=0}function no(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Hl(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Wa(){this.Yb=function(){var h=[];return function p(b,x,L){for(var O=L[x],V=0;V<O&&(b.push(L.length>x+1?[]:0),!(L.length<x+1));V++)p(b[V],x+1,L)}(h,0,[3,11]),h}()}function ro(){this.jb=s(3),this.Wc=a([4,8],Wa),this.Xc=a([4,17],Wa)}function Ya(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function kr(){this.ld=this.La=this.dd=this.tc=0}function ts(){this.Na=this.la=0}function Fi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function io(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $l(){this.uc=this.M=this.Nb=0,this.wa=Array(new kr),this.Y=0,this.ya=Array(new io),this.aa=0,this.l=new Ts}function Ga(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ka(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new As,this.Kc=new no,this.ed=new Ya,this.Qa=new Hl,this.Ic=this.$c=this.Aa=0,this.D=new $l,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,j),this.ia=0,this.pb=o(4,Fi),this.Pa=new ro,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ga),this.Hd=0,this.rb=Array(new ts),this.sb=0,this.wa=Array(new kr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new io),this.L=this.aa=0,this.gd=a([4,2],kr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bi(h,p){return 0>h?0:h>p?p:h}function Ts(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xa(){var h=new Ka;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,mu||(mu=Do)),h}function kn(h,p,b){return h.a==0&&(h.a=p,h.sc=b,h.cb=0),0}function Ja(h,p,b){return 3<=b&&h[p+0]==157&&h[p+1]==1&&h[p+2]==42}function Vi(h,p){if(h==null)return 0;if(h.a=0,h.sc="OK",p==null)return kn(h,2,"null VP8Io passed to VP8GetHeaders()");var b=p.data,x=p.w,L=p.ha;if(4>L)return kn(h,7,"Truncated header.");var O=b[x+0]|b[x+1]<<8|b[x+2]<<16,V=h.Od;if(V.Rb=!(1&O),V.td=O>>1&7,V.yd=O>>4&1,V.ub=O>>5,3<V.td)return kn(h,3,"Incorrect keyframe parameters.");if(!V.yd)return kn(h,4,"Frame not displayable.");x+=3,L-=3;var q=h.Kc;if(V.Rb){if(7>L)return kn(h,7,"cannot parse picture header");if(!Ja(b,x,L))return kn(h,3,"Bad code word");q.c=16383&(b[x+4]<<8|b[x+3]),q.Td=b[x+4]>>6,q.i=16383&(b[x+6]<<8|b[x+5]),q.Ud=b[x+6]>>6,x+=7,L-=7,h.za=q.c+15>>4,h.Ub=q.i+15>>4,p.width=q.c,p.height=q.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((O=h.Pa).jb,0,255,O.jb.length),e((O=h.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,i(O.Zb,0,0,O.Zb.length),i(O.Lb,0,0,O.Lb)}if(V.ub>L)return kn(h,7,"bad partition length");de(O=h.m,b,x,V.ub),x+=V.ub,L-=V.ub,V.Rb&&(q.Ld=we(O),q.Kd=we(O)),q=h.Qa;var H,K=h.Pa;if(e(O!=null),e(q!=null),q.Cb=we(O),q.Cb){if(q.Bb=we(O),we(O)){for(q.Fb=we(O),H=0;4>H;++H)q.Zb[H]=we(O)?le(O,7):0;for(H=0;4>H;++H)q.Lb[H]=we(O)?le(O,6):0}if(q.Bb)for(H=0;3>H;++H)K.jb[H]=we(O)?me(O,8):255}else q.Bb=0;if(O.Ka)return kn(h,3,"cannot parse segment header");if((q=h.ed).zd=we(O),q.Tb=me(O,6),q.wb=me(O,3),q.Pc=we(O),q.Pc&&we(O)){for(K=0;4>K;++K)we(O)&&(q.vd[K]=le(O,6));for(K=0;4>K;++K)we(O)&&(q.od[K]=le(O,6))}if(h.L=q.Tb==0?0:q.zd?1:2,O.Ka)return kn(h,3,"cannot parse filter header");var re=L;if(L=H=x,x=H+re,q=re,h.Xb=(1<<me(h.m,2))-1,re<3*(K=h.Xb))b=7;else{for(H+=3*K,q-=3*K,re=0;re<K;++re){var pe=b[L+0]|b[L+1]<<8|b[L+2]<<16;pe>q&&(pe=q),de(h.Jc[+re],b,H,pe),H+=pe,q-=pe,L+=3}de(h.Jc[+K],b,H,q),b=H<x?0:5}if(b!=0)return kn(h,b,"cannot parse partitions");for(b=me(H=h.m,7),L=we(H)?le(H,4):0,x=we(H)?le(H,4):0,q=we(H)?le(H,4):0,K=we(H)?le(H,4):0,H=we(H)?le(H,4):0,re=h.Qa,pe=0;4>pe;++pe){if(re.Cb){var X=re.Zb[pe];re.Fb||(X+=b)}else{if(0<pe){h.pb[pe]=h.pb[0];continue}X=b}var se=h.pb[pe];se.Sc[0]=bp[bi(X+L,127)],se.Sc[1]=wp[bi(X+0,127)],se.Eb[0]=2*bp[bi(X+x,127)],se.Eb[1]=101581*wp[bi(X+q,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=bp[bi(X+K,117)],se.Qc[1]=wp[bi(X+H,127)],se.lc=X+H}if(!V.Rb)return kn(h,4,"Not a key frame.");for(we(O),V=h.Pa,b=0;4>b;++b){for(L=0;8>L;++L)for(x=0;3>x;++x)for(q=0;11>q;++q)K=xe(O,wT[b][L][x][q])?me(O,8):vT[b][L][x][q],V.Wc[b][L].Yb[x][q]=K;for(L=0;17>L;++L)V.Xc[b][L]=V.Wc[b][_T[L]]}return h.kc=we(O),h.kc&&(h.Bd=me(O,8)),h.cb=1}function Do(h,p,b,x,L,O,V){var q=p[L].Yb[b];for(b=0;16>L;++L){if(!xe(h,q[b+0]))return L;for(;!xe(h,q[b+1]);)if(q=p[++L].Yb[0],b=0,L==16)return 16;var H=p[L+1].Yb;if(xe(h,q[b+2])){var K=h,re=0;if(xe(K,(X=q)[(pe=b)+3]))if(xe(K,X[pe+6])){for(q=0,pe=2*(re=xe(K,X[pe+8]))+(X=xe(K,X[pe+9+re])),re=0,X=gT[pe];X[q];++q)re+=re+xe(K,X[q]);re+=3+(8<<pe)}else xe(K,X[pe+7])?(re=7+2*xe(K,165),re+=xe(K,145)):re=5+xe(K,159);else re=xe(K,X[pe+4])?3+xe(K,X[pe+5]):2;q=H[2]}else re=1,q=H[1];H=V+yT[L],0>(K=h).b&&be(K);var pe,X=K.b,se=(pe=K.Ca>>1)-(K.I>>X)>>31;--K.b,K.Ca+=se,K.Ca|=1,K.I-=(pe+1&se)<<X,O[H]=((re^se)-se)*x[(0<L)+0]}return 16}function Za(h){var p=h.rb[h.sb-1];p.la=0,p.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function Yr(h,p,b,x,L){L=h[p+b+32*x]+(L>>3),h[p+b+32*x]=-256&L?0>L?0:255:L}function zn(h,p,b,x,L,O){Yr(h,p,0,b,x+L),Yr(h,p,1,b,x+O),Yr(h,p,2,b,x-O),Yr(h,p,3,b,x-L)}function wr(h){return(20091*h>>16)+h}function oi(h,p,b,x){var L,O=0,V=s(16);for(L=0;4>L;++L){var q=h[p+0]+h[p+8],H=h[p+0]-h[p+8],K=(35468*h[p+4]>>16)-wr(h[p+12]),re=wr(h[p+4])+(35468*h[p+12]>>16);V[O+0]=q+re,V[O+1]=H+K,V[O+2]=H-K,V[O+3]=q-re,O+=4,p++}for(L=O=0;4>L;++L)q=(h=V[O+0]+4)+V[O+8],H=h-V[O+8],K=(35468*V[O+4]>>16)-wr(V[O+12]),Yr(b,x,0,0,q+(re=wr(V[O+4])+(35468*V[O+12]>>16))),Yr(b,x,1,0,H+K),Yr(b,x,2,0,H-K),Yr(b,x,3,0,q-re),O++,x+=32}function Mo(h,p,b,x){var L=h[p+0]+4,O=35468*h[p+4]>>16,V=wr(h[p+4]),q=35468*h[p+1]>>16;zn(b,x,0,L+V,h=wr(h[p+1]),q),zn(b,x,1,L+O,h,q),zn(b,x,2,L-O,h,q),zn(b,x,3,L-V,h,q)}function Fo(h,p,b,x,L){oi(h,p,b,x),L&&oi(h,p+16,b,x+4)}function wi(h,p,b,x){il(h,p+0,b,x,1),il(h,p+32,b,x+128,1)}function Xt(h,p,b,x){var L;for(h=h[p+0]+4,L=0;4>L;++L)for(p=0;4>p;++p)Yr(b,x,p,L,h)}function so(h,p,b,x){h[p+0]&&Jt(h,p+0,b,x),h[p+16]&&Jt(h,p+16,b,x+4),h[p+32]&&Jt(h,p+32,b,x+128),h[p+48]&&Jt(h,p+48,b,x+128+4)}function Bi(h,p,b,x){var L,O=s(16);for(L=0;4>L;++L){var V=h[p+0+L]+h[p+12+L],q=h[p+4+L]+h[p+8+L],H=h[p+4+L]-h[p+8+L],K=h[p+0+L]-h[p+12+L];O[0+L]=V+q,O[8+L]=V-q,O[4+L]=K+H,O[12+L]=K-H}for(L=0;4>L;++L)V=(h=O[0+4*L]+3)+O[3+4*L],q=O[1+4*L]+O[2+4*L],H=O[1+4*L]-O[2+4*L],K=h-O[3+4*L],b[x+0]=V+q>>3,b[x+16]=K+H>>3,b[x+32]=V-q>>3,b[x+48]=K-H>>3,x+=64}function _i(h,p,b){var x,L=p-32,O=Si,V=255-h[L-1];for(x=0;x<b;++x){var q,H=O,K=V+h[p-1];for(q=0;q<b;++q)h[p+q]=H[K+h[L+q]];p+=32}}function tu(h,p){_i(h,p,4)}function Wl(h,p){_i(h,p,8)}function nu(h,p){_i(h,p,16)}function Qa(h,p){var b;for(b=0;16>b;++b)r(h,p+32*b,h,p-32,16)}function Yl(h,p){var b;for(b=16;0<b;--b)i(h,p,h[p-1],16),p+=32}function xi(h,p,b){var x;for(x=0;16>x;++x)i(p,b+32*x,h,16)}function oo(h,p){var b,x=16;for(b=0;16>b;++b)x+=h[p-1+32*b]+h[p+b-32];xi(x>>5,h,p)}function Rr(h,p){var b,x=8;for(b=0;16>b;++b)x+=h[p-1+32*b];xi(x>>4,h,p)}function Vo(h,p){var b,x=8;for(b=0;16>b;++b)x+=h[p+b-32];xi(x>>4,h,p)}function Gl(h,p){xi(128,h,p)}function ft(h,p,b){return h+2*p+b+2>>2}function Es(h,p){var b,x=p-32;for(x=new Uint8Array([ft(h[x-1],h[x+0],h[x+1]),ft(h[x+0],h[x+1],h[x+2]),ft(h[x+1],h[x+2],h[x+3]),ft(h[x+2],h[x+3],h[x+4])]),b=0;4>b;++b)r(h,p+32*b,x,0,x.length)}function ru(h,p){var b=h[p-1],x=h[p-1+32],L=h[p-1+64],O=h[p-1+96];Ce(h,p+0,16843009*ft(h[p-1-32],b,x)),Ce(h,p+32,16843009*ft(b,x,L)),Ce(h,p+64,16843009*ft(x,L,O)),Ce(h,p+96,16843009*ft(L,O,O))}function iu(h,p){var b,x=4;for(b=0;4>b;++b)x+=h[p+b-32]+h[p-1+32*b];for(x>>=3,b=0;4>b;++b)i(h,p+32*b,x,4)}function ns(h,p){var b=h[p-1+0],x=h[p-1+32],L=h[p-1+64],O=h[p-1-32],V=h[p+0-32],q=h[p+1-32],H=h[p+2-32],K=h[p+3-32];h[p+0+96]=ft(x,L,h[p-1+96]),h[p+1+96]=h[p+0+64]=ft(b,x,L),h[p+2+96]=h[p+1+64]=h[p+0+32]=ft(O,b,x),h[p+3+96]=h[p+2+64]=h[p+1+32]=h[p+0+0]=ft(V,O,b),h[p+3+64]=h[p+2+32]=h[p+1+0]=ft(q,V,O),h[p+3+32]=h[p+2+0]=ft(H,q,V),h[p+3+0]=ft(K,H,q)}function fr(h,p){var b=h[p+1-32],x=h[p+2-32],L=h[p+3-32],O=h[p+4-32],V=h[p+5-32],q=h[p+6-32],H=h[p+7-32];h[p+0+0]=ft(h[p+0-32],b,x),h[p+1+0]=h[p+0+32]=ft(b,x,L),h[p+2+0]=h[p+1+32]=h[p+0+64]=ft(x,L,O),h[p+3+0]=h[p+2+32]=h[p+1+64]=h[p+0+96]=ft(L,O,V),h[p+3+32]=h[p+2+64]=h[p+1+96]=ft(O,V,q),h[p+3+64]=h[p+2+96]=ft(V,q,H),h[p+3+96]=ft(q,H,H)}function su(h,p){var b=h[p-1+0],x=h[p-1+32],L=h[p-1+64],O=h[p-1-32],V=h[p+0-32],q=h[p+1-32],H=h[p+2-32],K=h[p+3-32];h[p+0+0]=h[p+1+64]=O+V+1>>1,h[p+1+0]=h[p+2+64]=V+q+1>>1,h[p+2+0]=h[p+3+64]=q+H+1>>1,h[p+3+0]=H+K+1>>1,h[p+0+96]=ft(L,x,b),h[p+0+64]=ft(x,b,O),h[p+0+32]=h[p+1+96]=ft(b,O,V),h[p+1+32]=h[p+2+96]=ft(O,V,q),h[p+2+32]=h[p+3+96]=ft(V,q,H),h[p+3+32]=ft(q,H,K)}function ou(h,p){var b=h[p+0-32],x=h[p+1-32],L=h[p+2-32],O=h[p+3-32],V=h[p+4-32],q=h[p+5-32],H=h[p+6-32],K=h[p+7-32];h[p+0+0]=b+x+1>>1,h[p+1+0]=h[p+0+64]=x+L+1>>1,h[p+2+0]=h[p+1+64]=L+O+1>>1,h[p+3+0]=h[p+2+64]=O+V+1>>1,h[p+0+32]=ft(b,x,L),h[p+1+32]=h[p+0+96]=ft(x,L,O),h[p+2+32]=h[p+1+96]=ft(L,O,V),h[p+3+32]=h[p+2+96]=ft(O,V,q),h[p+3+64]=ft(V,q,H),h[p+3+96]=ft(q,H,K)}function rs(h,p){var b=h[p-1+0],x=h[p-1+32],L=h[p-1+64],O=h[p-1+96];h[p+0+0]=b+x+1>>1,h[p+2+0]=h[p+0+32]=x+L+1>>1,h[p+2+32]=h[p+0+64]=L+O+1>>1,h[p+1+0]=ft(b,x,L),h[p+3+0]=h[p+1+32]=ft(x,L,O),h[p+3+32]=h[p+1+64]=ft(L,O,O),h[p+3+64]=h[p+2+64]=h[p+0+96]=h[p+1+96]=h[p+2+96]=h[p+3+96]=O}function Ss(h,p){var b=h[p-1+0],x=h[p-1+32],L=h[p-1+64],O=h[p-1+96],V=h[p-1-32],q=h[p+0-32],H=h[p+1-32],K=h[p+2-32];h[p+0+0]=h[p+2+32]=b+V+1>>1,h[p+0+32]=h[p+2+64]=x+b+1>>1,h[p+0+64]=h[p+2+96]=L+x+1>>1,h[p+0+96]=O+L+1>>1,h[p+3+0]=ft(q,H,K),h[p+2+0]=ft(V,q,H),h[p+1+0]=h[p+3+32]=ft(b,V,q),h[p+1+32]=h[p+3+64]=ft(x,b,V),h[p+1+64]=h[p+3+96]=ft(L,x,b),h[p+1+96]=ft(O,L,x)}function Ns(h,p){var b;for(b=0;8>b;++b)r(h,p+32*b,h,p-32,8)}function ao(h,p){var b;for(b=0;8>b;++b)i(h,p,h[p-1],8),p+=32}function Gr(h,p,b){var x;for(x=0;8>x;++x)i(p,b+32*x,h,8)}function Kl(h,p){var b,x=8;for(b=0;8>b;++b)x+=h[p+b-32]+h[p-1+32*b];Gr(x>>4,h,p)}function lo(h,p){var b,x=4;for(b=0;8>b;++b)x+=h[p+b-32];Gr(x>>3,h,p)}function ln(h,p){var b,x=4;for(b=0;8>b;++b)x+=h[p-1+32*b];Gr(x>>3,h,p)}function Xl(h,p){Gr(128,h,p)}function is(h,p,b){var x=h[p-b],L=h[p+0],O=3*(L-x)+pp[1020+h[p-2*b]-h[p+b]],V=$h[112+(O+4>>3)];h[p-b]=Si[255+x+$h[112+(O+3>>3)]],h[p+0]=Si[255+L-V]}function Bo(h,p,b,x){var L=h[p+0],O=h[p+b];return $i[255+h[p-2*b]-h[p-b]]>x||$i[255+O-L]>x}function co(h,p,b,x){return 4*$i[255+h[p-b]-h[p+0]]+$i[255+h[p-2*b]-h[p+b]]<=x}function Uo(h,p,b,x,L){var O=h[p-3*b],V=h[p-2*b],q=h[p-b],H=h[p+0],K=h[p+b],re=h[p+2*b],pe=h[p+3*b];return 4*$i[255+q-H]+$i[255+V-K]>x?0:$i[255+h[p-4*b]-O]<=L&&$i[255+O-V]<=L&&$i[255+V-q]<=L&&$i[255+pe-re]<=L&&$i[255+re-K]<=L&&$i[255+K-H]<=L}function Ui(h,p,b,x){var L=2*x+1;for(x=0;16>x;++x)co(h,p+x,b,L)&&is(h,p+x,b)}function zo(h,p,b,x){var L=2*x+1;for(x=0;16>x;++x)co(h,p+x*b,1,L)&&is(h,p+x*b,1)}function ai(h,p,b,x){var L;for(L=3;0<L;--L)Ui(h,p+=4*b,b,x)}function el(h,p,b,x){var L;for(L=3;0<L;--L)zo(h,p+=4,b,x)}function ss(h,p,b,x,L,O,V,q){for(O=2*O+1;0<L--;){if(Uo(h,p,b,O,V))if(Bo(h,p,b,q))is(h,p,b);else{var H=h,K=p,re=b,pe=H[K-2*re],X=H[K-re],se=H[K+0],ue=H[K+re],_e=H[K+2*re],fe=27*(Ee=pp[1020+3*(se-X)+pp[1020+pe-ue]])+63>>7,Te=18*Ee+63>>7,Ee=9*Ee+63>>7;H[K-3*re]=Si[255+H[K-3*re]+Ee],H[K-2*re]=Si[255+pe+Te],H[K-re]=Si[255+X+fe],H[K+0]=Si[255+se-fe],H[K+re]=Si[255+ue-Te],H[K+2*re]=Si[255+_e-Ee]}p+=x}}function Kr(h,p,b,x,L,O,V,q){for(O=2*O+1;0<L--;){if(Uo(h,p,b,O,V))if(Bo(h,p,b,q))is(h,p,b);else{var H=h,K=p,re=b,pe=H[K-re],X=H[K+0],se=H[K+re],ue=$h[112+(4+(_e=3*(X-pe))>>3)],_e=$h[112+(_e+3>>3)],fe=ue+1>>1;H[K-2*re]=Si[255+H[K-2*re]+fe],H[K-re]=Si[255+pe+_e],H[K+0]=Si[255+X-ue],H[K+re]=Si[255+se-fe]}p+=x}}function tl(h,p,b,x,L,O){ss(h,p,b,1,16,x,L,O)}function os(h,p,b,x,L,O){ss(h,p,1,b,16,x,L,O)}function uo(h,p,b,x,L,O){var V;for(V=3;0<V;--V)Kr(h,p+=4*b,b,1,16,x,L,O)}function v(h,p,b,x,L,O){var V;for(V=3;0<V;--V)Kr(h,p+=4,1,b,16,x,L,O)}function R(h,p,b,x,L,O,V,q){ss(h,p,L,1,8,O,V,q),ss(b,x,L,1,8,O,V,q)}function G(h,p,b,x,L,O,V,q){ss(h,p,1,L,8,O,V,q),ss(b,x,1,L,8,O,V,q)}function Q(h,p,b,x,L,O,V,q){Kr(h,p+4*L,L,1,8,O,V,q),Kr(b,x+4*L,L,1,8,O,V,q)}function ae(h,p,b,x,L,O,V,q){Kr(h,p+4,1,L,8,O,V,q),Kr(b,x+4,1,L,8,O,V,q)}function Ae(){this.ba=new At,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ie(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ze(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function We(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new k}function ut(){this.xb=this.a=0,this.l=new Ts,this.ca=new At,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new We,this.ab=0,this.gc=o(4,ze),this.Oc=0}function gt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ts,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Dt(h,p,b,x,L,O,V){for(h=h==null?0:h[p+0],p=0;p<V;++p)L[O+p]=h+b[x+p]&255,h=L[O+p]}function pn(h,p,b,x,L,O,V){var q;if(h==null)Dt(null,null,b,x,L,O,V);else for(q=0;q<V;++q)L[O+q]=h[p+q]+b[x+q]&255}function cn(h,p,b,x,L,O,V){if(h==null)Dt(null,null,b,x,L,O,V);else{var q,H=h[p+0],K=H,re=H;for(q=0;q<V;++q)K=re+(H=h[p+q])-K,re=b[x+q]+(-256&K?0>K?0:255:K)&255,K=H,L[O+q]=re}}function Qt(h,p,b,x){var L=p.width,O=p.o;if(e(h!=null&&p!=null),0>b||0>=x||b+x>O)return null;if(!h.Cc){if(h.ga==null){var V;if(h.ga=new gt,(V=h.ga==null)||(V=p.width*p.o,e(h.Gb.length==0),h.Gb=s(V),h.Uc=0,h.Gb==null?V=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,V=1),V=!V),!V){V=h.ga;var q=h.Fa,H=h.P,K=h.qc,re=h.mb,pe=h.nb,X=H+1,se=K-1,ue=V.l;if(e(q!=null&&re!=null&&p!=null),Zo[0]=null,Zo[1]=Dt,Zo[2]=pn,Zo[3]=cn,V.ca=re,V.tb=pe,V.c=p.width,V.i=p.height,e(0<V.c&&0<V.i),1>=K)p=0;else if(V.$a=3&q[H+0],V.Z=q[H+0]>>2&3,V.Lc=q[H+0]>>4&3,H=q[H+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||H)p=0;else if(ue.put=et,ue.ac=gi,ue.bc=Mi,ue.ma=V,ue.width=p.width,ue.height=p.height,ue.Da=p.Da,ue.v=p.v,ue.va=p.va,ue.j=p.j,ue.o=p.o,V.$a)e:{e(V.$a==1),p=Cr();t:for(;;){if(p==null){p=0;break e}if(e(V!=null),V.mc=p,p.c=V.c,p.i=V.i,p.l=V.l,p.l.ma=V,p.l.width=V.c,p.l.height=V.i,p.a=0,ye(p.m,q,X,se),!vi(V.c,V.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&yi(p.s)?(V.ic=1,q=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(q),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(V.ic=0,p=_s(p,V.c)),!p))break t;p=1;break e}V.mc=null,p=0}else p=se>=V.c*V.i;V=!p}if(V)return null;h.ga.Lc!=1?h.Ga=0:x=O-b}e(h.ga!=null),e(b+x<=O);e:{if(p=(q=h.ga).c,O=q.l.o,q.$a==0){if(X=h.rc,se=h.Vc,ue=h.Fa,H=h.P+1+b*p,K=h.mb,re=h.nb+b*p,e(H<=h.P+h.qc),q.Z!=0)for(e(Zo[q.Z]!=null),V=0;V<x;++V)Zo[q.Z](X,se,ue,H,K,re,p),X=K,se=re,re+=p,H+=p;else for(V=0;V<x;++V)r(K,re,ue,H,p),X=K,se=re,re+=p,H+=p;h.rc=X,h.Vc=se}else{if(e(q.mc!=null),p=b+x,e((V=q.mc)!=null),e(p<=V.i),V.C>=p)p=1;else if(q.ic||wn(),q.ic){q=V.V,X=V.Ba,se=V.c;var _e=V.i,fe=(ue=1,H=V.$/se,K=V.$%se,re=V.m,pe=V.s,V.$),Te=se*_e,Ee=se*p,Le=pe.wc,Pe=fe<Ee?or(pe,K,H):null;e(fe<=Te),e(p<=_e),e(yi(pe));t:for(;;){for(;!re.h&&fe<Ee;){if(K&Le||(Pe=or(pe,K,H)),e(Pe!=null),he(re),256>(_e=an(Pe.G[0],Pe.H[0],re)))q[X+fe]=_e,++fe,++K>=se&&(K=0,++H<=p&&!(H%16)&&si(V,H));else{if(!(280>_e)){ue=0;break t}_e=Hr(_e-256,re);var Je,qe=an(Pe.G[4],Pe.H[4],re);if(he(re),!(fe>=(qe=dr(se,qe=Hr(qe,re)))&&Te-fe>=_e)){ue=0;break t}for(Je=0;Je<_e;++Je)q[X+fe+Je]=q[X+fe+Je-qe];for(fe+=_e,K+=_e;K>=se;)K-=se,++H<=p&&!(H%16)&&si(V,H);fe<Ee&&K&Le&&(Pe=or(pe,K,H))}e(re.h==te(re))}si(V,H>p?p:H);break t}!ue||re.h&&fe<Te?(ue=0,V.a=re.h?5:3):V.$=fe,p=ue}else p=Wr(V,V.V,V.Ba,V.c,V.i,p,xs);if(!p){x=0;break e}}b+x>=O&&(h.Cc=1),x=1}if(!x)return null;if(h.Cc&&((x=h.ga)!=null&&(x.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+b*L}function Mn(h,p,b,x,L,O){for(;0<L--;){var V,q=h,H=p+(b?1:0),K=h,re=p+(b?0:3);for(V=0;V<x;++V){var pe=K[re+4*V];pe!=255&&(pe*=32897,q[H+4*V+0]=q[H+4*V+0]*pe>>23,q[H+4*V+1]=q[H+4*V+1]*pe>>23,q[H+4*V+2]=q[H+4*V+2]*pe>>23)}p+=O}}function Rn(h,p,b,x,L){for(;0<x--;){var O;for(O=0;O<b;++O){var V=h[p+2*O+0],q=15&(K=h[p+2*O+1]),H=4369*q,K=(240&K|K>>4)*H>>16;h[p+2*O+0]=(240&V|V>>4)*H>>16&240|(15&V|V<<4)*H>>16>>4&15,h[p+2*O+1]=240&K|q}p+=L}}function Zn(h,p,b,x,L,O,V,q){var H,K,re=255;for(K=0;K<L;++K){for(H=0;H<x;++H){var pe=h[p+H];O[V+4*H]=pe,re&=pe}p+=b,V+=q}return re!=255}function li(h,p,b,x,L){var O;for(O=0;O<L;++O)b[x+O]=h[p+O]>>8}function wn(){pu=Mn,O1=Rn,D1=Zn,M1=li}function zi(h,p,b){S[h]=function(x,L,O,V,q,H,K,re,pe,X,se,ue,_e,fe,Te,Ee,Le){var Pe,Je=Le-1>>1,qe=q[H+0]|K[re+0]<<16,kt=pe[X+0]|se[ue+0]<<16;e(x!=null);var Ye=3*qe+kt+131074>>2;for(p(x[L+0],255&Ye,Ye>>16,_e,fe),O!=null&&(Ye=3*kt+qe+131074>>2,p(O[V+0],255&Ye,Ye>>16,Te,Ee)),Pe=1;Pe<=Je;++Pe){var Bt=q[H+Pe]|K[re+Pe]<<16,lr=pe[X+Pe]|se[ue+Pe]<<16,Rt=qe+Bt+kt+lr+524296,Ge=Rt+2*(Bt+kt)>>3;Ye=Ge+qe>>1,qe=(Rt=Rt+2*(qe+lr)>>3)+Bt>>1,p(x[L+2*Pe-1],255&Ye,Ye>>16,_e,fe+(2*Pe-1)*b),p(x[L+2*Pe-0],255&qe,qe>>16,_e,fe+(2*Pe-0)*b),O!=null&&(Ye=Rt+kt>>1,qe=Ge+lr>>1,p(O[V+2*Pe-1],255&Ye,Ye>>16,Te,Ee+(2*Pe-1)*b),p(O[V+2*Pe+0],255&qe,qe>>16,Te,Ee+(2*Pe+0)*b)),qe=Bt,kt=lr}1&Le||(Ye=3*qe+kt+131074>>2,p(x[L+Le-1],255&Ye,Ye>>16,_e,fe+(Le-1)*b),O!=null&&(Ye=3*kt+qe+131074>>2,p(O[V+Le-1],255&Ye,Ye>>16,Te,Ee+(Le-1)*b)))}}function qo(){Wi[Wh]=AT,Wi[Yh]=G1,Wi[q1]=TT,Wi[Gh]=K1,Wi[Kh]=X1,Wi[mp]=J1,Wi[H1]=ET,Wi[gp]=G1,Wi[yp]=K1,Wi[Xh]=X1,Wi[vp]=J1}function Ai(h){return h&~ST?0>h?0:255:h>>Z1}function d(h,p){return Ai((19077*h>>8)+(26149*p>>8)-14234)}function w(h,p,b){return Ai((19077*h>>8)-(6419*p>>8)-(13320*b>>8)+8708)}function N(h,p){return Ai((19077*h>>8)+(33050*p>>8)-17685)}function U(h,p,b,x,L){x[L+0]=d(h,b),x[L+1]=w(h,p,b),x[L+2]=N(h,p)}function oe(h,p,b,x,L){x[L+0]=N(h,p),x[L+1]=w(h,p,b),x[L+2]=d(h,b)}function ge(h,p,b,x,L){var O=w(h,p,b);p=O<<3&224|N(h,p)>>3,x[L+0]=248&d(h,b)|O>>5,x[L+1]=p}function je(h,p,b,x,L){var O=240&N(h,p)|15;x[L+0]=240&d(h,b)|w(h,p,b)>>4,x[L+1]=O}function Wt(h,p,b,x,L){x[L+0]=255,U(h,p,b,x,L+1)}function Ln(h,p,b,x,L){oe(h,p,b,x,L),x[L+3]=255}function pt(h,p,b,x,L){U(h,p,b,x,L),x[L+3]=255}function mn(h,p,b){S[h]=function(x,L,O,V,q,H,K,re,pe){for(var X=re+(-2&pe)*b;re!=X;)p(x[L+0],O[V+0],q[H+0],K,re),p(x[L+1],O[V+0],q[H+0],K,re+b),L+=2,++V,++H,re+=2*b;1&pe&&p(x[L+0],O[V+0],q[H+0],K,re)}}function jn(h,p,b){return b==0?h==0?p==0?6:5:p==0?4:0:b}function as(h,p,b,x,L){switch(h>>>30){case 3:il(p,b,x,L,0);break;case 2:Hi(p,b,x,L);break;case 1:Jt(p,b,x,L)}}function En(h,p){var b,x,L=p.M,O=p.Nb,V=h.oc,q=h.pc+40,H=h.oc,K=h.pc+584,re=h.oc,pe=h.pc+600;for(b=0;16>b;++b)V[q+32*b-1]=129;for(b=0;8>b;++b)H[K+32*b-1]=129,re[pe+32*b-1]=129;for(0<L?V[q-1-32]=H[K-1-32]=re[pe-1-32]=129:(i(V,q-32-1,127,21),i(H,K-32-1,127,9),i(re,pe-32-1,127,9)),x=0;x<h.za;++x){var X=p.ya[p.aa+x];if(0<x){for(b=-1;16>b;++b)r(V,q+32*b-4,V,q+32*b+12,4);for(b=-1;8>b;++b)r(H,K+32*b-4,H,K+32*b+4,4),r(re,pe+32*b-4,re,pe+32*b+4,4)}var se=h.Gd,ue=h.Hd+x,_e=X.ad,fe=X.Hc;if(0<L&&(r(V,q-32,se[ue].y,0,16),r(H,K-32,se[ue].f,0,8),r(re,pe-32,se[ue].ea,0,8)),X.Za){var Te=V,Ee=q-32+16;for(0<L&&(x>=h.za-1?i(Te,Ee,se[ue].y[15],4):r(Te,Ee,se[ue+1].y,0,4)),b=0;4>b;b++)Te[Ee+128+b]=Te[Ee+256+b]=Te[Ee+384+b]=Te[Ee+0+b];for(b=0;16>b;++b,fe<<=2)Te=V,Ee=q+ey[b],ls[X.Ob[b]](Te,Ee),as(fe,_e,16*+b,Te,Ee)}else if(Te=jn(x,L,X.Ob[0]),Jo[Te](V,q),fe!=0)for(b=0;16>b;++b,fe<<=2)as(fe,_e,16*+b,V,q+ey[b]);for(b=X.Gc,Te=jn(x,L,X.Dd),mo[Te](H,K),mo[Te](re,pe),fe=_e,Te=H,Ee=K,255&(X=0|b)&&(170&X?Cs(fe,256,Te,Ee):hn(fe,256,Te,Ee)),X=re,fe=pe,255&(b>>=8)&&(170&b?Cs(_e,320,X,fe):hn(_e,320,X,fe)),L<h.Ub-1&&(r(se[ue].y,0,V,q+480,16),r(se[ue].f,0,H,K+224,8),r(se[ue].ea,0,re,pe+224,8)),b=8*O*h.B,se=h.sa,ue=h.ta+16*x+16*O*h.R,_e=h.qa,X=h.ra+8*x+b,fe=h.Ha,Te=h.Ia+8*x+b,b=0;16>b;++b)r(se,ue+b*h.R,V,q+32*b,16);for(b=0;8>b;++b)r(_e,X+b*h.B,H,K+32*b,8),r(fe,Te+b*h.B,re,pe+32*b,8)}}function qi(h,p,b,x,L,O,V,q,H){var K=[0],re=[0],pe=0,X=H!=null?H.kd:0,se=H??new Ie;if(h==null||12>b)return 7;se.data=h,se.w=p,se.ha=b,p=[p],b=[b],se.gb=[se.gb];e:{var ue=p,_e=b,fe=se.gb;if(e(h!=null),e(_e!=null),e(fe!=null),fe[0]=0,12<=_e[0]&&!n(h,ue[0],"RIFF")){if(n(h,ue[0]+8,"WEBP")){fe=3;break e}var Te=Xe(h,ue[0]+4);if(12>Te||4294967286<Te){fe=3;break e}if(X&&Te>_e[0]-8){fe=7;break e}fe[0]=Te,ue[0]+=12,_e[0]-=12}fe=0}if(fe!=0)return fe;for(Te=0<se.gb[0],b=b[0];;){e:{var Ee=h;_e=p,fe=b;var Le=K,Pe=re,Je=ue=[0];if((Ye=pe=[pe])[0]=0,8>fe[0])fe=7;else{if(!n(Ee,_e[0],"VP8X")){if(Xe(Ee,_e[0]+4)!=10){fe=3;break e}if(18>fe[0]){fe=7;break e}var qe=Xe(Ee,_e[0]+8),kt=1+Fe(Ee,_e[0]+12);if(2147483648<=kt*(Ee=1+Fe(Ee,_e[0]+15))){fe=3;break e}Je!=null&&(Je[0]=qe),Le!=null&&(Le[0]=kt),Pe!=null&&(Pe[0]=Ee),_e[0]+=18,fe[0]-=18,Ye[0]=1}fe=0}}if(pe=pe[0],ue=ue[0],fe!=0)return fe;if(_e=!!(2&ue),!Te&&pe)return 3;if(O!=null&&(O[0]=!!(16&ue)),V!=null&&(V[0]=_e),q!=null&&(q[0]=0),V=K[0],ue=re[0],pe&&_e&&H==null){fe=0;break}if(4>b){fe=7;break}if(Te&&pe||!Te&&!pe&&!n(h,p[0],"ALPH")){b=[b],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{qe=h,fe=p,Te=b;var Ye=se.gb;Le=se.na,Pe=se.P,Je=se.Sa,kt=22,e(qe!=null),e(Te!=null),Ee=fe[0];var Bt=Te[0];for(e(Le!=null),e(Je!=null),Le[0]=null,Pe[0]=null,Je[0]=0;;){if(fe[0]=Ee,Te[0]=Bt,8>Bt){fe=7;break e}var lr=Xe(qe,Ee+4);if(4294967286<lr){fe=3;break e}var Rt=8+lr+1&-2;if(kt+=Rt,0<Ye&&kt>Ye){fe=3;break e}if(!n(qe,Ee,"VP8 ")||!n(qe,Ee,"VP8L")){fe=0;break e}if(Bt[0]<Rt){fe=7;break e}n(qe,Ee,"ALPH")||(Le[0]=qe,Pe[0]=Ee+8,Je[0]=lr),Ee+=Rt,Bt-=Rt}}if(b=b[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],fe!=0)break}b=[b],se.Ja=[se.Ja],se.xa=[se.xa];e:if(Ye=h,fe=p,Te=b,Le=se.gb[0],Pe=se.Ja,Je=se.xa,qe=fe[0],Ee=!n(Ye,qe,"VP8 "),kt=!n(Ye,qe,"VP8L"),e(Ye!=null),e(Te!=null),e(Pe!=null),e(Je!=null),8>Te[0])fe=7;else{if(Ee||kt){if(Ye=Xe(Ye,qe+4),12<=Le&&Ye>Le-12){fe=3;break e}if(X&&Ye>Te[0]-8){fe=7;break e}Pe[0]=Ye,fe[0]+=8,Te[0]-=8,Je[0]=kt}else Je[0]=5<=Te[0]&&Ye[qe+0]==47&&!(Ye[qe+4]>>5),Pe[0]=Te[0];fe=0}if(b=b[0],se.Ja=se.Ja[0],se.xa=se.xa[0],p=p[0],fe!=0)break;if(4294967286<se.Ja)return 3;if(q==null||_e||(q[0]=se.xa?2:1),V=[V],ue=[ue],se.xa){if(5>b){fe=7;break}q=V,X=ue,_e=O,h==null||5>b?h=0:5<=b&&h[p+0]==47&&!(h[p+4]>>5)?(Te=[0],Ye=[0],Le=[0],ye(Pe=new $,h,p,b),bn(Pe,Te,Ye,Le)?(q!=null&&(q[0]=Te[0]),X!=null&&(X[0]=Ye[0]),_e!=null&&(_e[0]=Le[0]),h=1):h=0):h=0}else{if(10>b){fe=7;break}q=ue,h==null||10>b||!Ja(h,p+3,b-3)?h=0:(X=h[p+0]|h[p+1]<<8|h[p+2]<<16,_e=16383&(h[p+7]<<8|h[p+6]),h=16383&(h[p+9]<<8|h[p+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=se.Ja||!_e||!h?h=0:(V&&(V[0]=_e),q&&(q[0]=h),h=1))}if(!h||(V=V[0],ue=ue[0],pe&&(K[0]!=V||re[0]!=ue)))return 3;H!=null&&(H[0]=se,H.offset=p-H.w,e(4294967286>p-H.w),e(H.offset==H.ha-b));break}return fe==0||fe==7&&pe&&H==null?(O!=null&&(O[0]|=se.na!=null&&0<se.na.length),x!=null&&(x[0]=V),L!=null&&(L[0]=ue),0):fe}function ho(h,p,b){var x=p.width,L=p.height,O=0,V=0,q=x,H=L;if(p.Da=h!=null&&0<h.Da,p.Da&&(q=h.cd,H=h.bd,O=h.v,V=h.j,11>b||(O&=-2,V&=-2),0>O||0>V||0>=q||0>=H||O+q>x||V+H>L))return 0;if(p.v=O,p.j=V,p.va=O+q,p.o=V+H,p.U=q,p.T=H,p.da=h!=null&&0<h.da,p.da){if(!ot(q,H,b=[h.ib],O=[h.hb]))return 0;p.ib=b[0],p.hb=O[0]}return p.ob=h!=null&&h.ob,p.Kb=h==null||!h.Sd,p.da&&(p.ob=p.ib<3*x/4&&p.hb<3*L/4,p.Kb=0),1}function au(h){if(h==null)return 2;if(11>h.S){var p=h.f.RGBA;p.fb+=(h.height-1)*p.A,p.A=-p.A}else p=h.f.kb,h=h.height,p.O+=(h-1)*p.fa,p.fa=-p.fa,p.N+=(h-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(h-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(h-1)*p.lb,p.lb=-p.lb);return 0}function Ho(h,p,b,x){if(x==null||0>=h||0>=p)return 2;if(b!=null){if(b.Da){var L=b.cd,O=b.bd,V=-2&b.v,q=-2&b.j;if(0>V||0>q||0>=L||0>=O||V+L>h||q+O>p)return 2;h=L,p=O}if(b.da){if(!ot(h,p,L=[b.ib],O=[b.hb]))return 2;h=L[0],p=O[0]}}x.width=h,x.height=p;e:{var H=x.width,K=x.height;if(h=x.S,0>=H||0>=K||!(h>=Wh&&13>h))h=2;else{if(0>=x.Rd&&x.sd==null){V=O=L=p=0;var re=(q=H*ty[h])*K;if(11>h||(O=(K+1)/2*(p=(H+1)/2),h==12&&(V=(L=H)*K)),(K=s(re+2*O+V))==null){h=1;break e}x.sd=K,11>h?((H=x.f.RGBA).eb=K,H.fb=0,H.A=q,H.size=re):((H=x.f.kb).y=K,H.O=0,H.fa=q,H.Fd=re,H.f=K,H.N=0+re,H.Ab=p,H.Cd=O,H.ea=K,H.W=0+re+O,H.Db=p,H.Ed=O,h==12&&(H.F=K,H.J=0+re+2*O),H.Tc=V,H.lb=L)}if(p=1,L=x.S,O=x.width,V=x.height,L>=Wh&&13>L)if(11>L)h=x.f.RGBA,p&=(q=Math.abs(h.A))*(V-1)+O<=h.size,p&=q>=O*ty[L],p&=h.eb!=null;else{h=x.f.kb,q=(O+1)/2,re=(V+1)/2,H=Math.abs(h.fa),K=Math.abs(h.Ab);var pe=Math.abs(h.Db),X=Math.abs(h.lb),se=X*(V-1)+O;p&=H*(V-1)+O<=h.Fd,p&=K*(re-1)+q<=h.Cd,p=(p&=pe*(re-1)+q<=h.Ed)&H>=O&K>=q&pe>=q,p&=h.y!=null,p&=h.f!=null,p&=h.ea!=null,L==12&&(p&=X>=O,p&=se<=h.Tc,p&=h.F!=null)}else p=0;h=p?0:2}}return h!=0||b!=null&&b.fd&&(h=au(x)),h}var nl=64,Ti=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ei=24,$o=32,fo=8,Wo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(h){return h},S.Predictor2=function(h,p,b){return p[b+0]},S.Predictor3=function(h,p,b){return p[b+1]},S.Predictor4=function(h,p,b){return p[b-1]},S.Predictor5=function(h,p,b){return Qe(Qe(h,p[b+1]),p[b+0])},S.Predictor6=function(h,p,b){return Qe(h,p[b-1])},S.Predictor7=function(h,p,b){return Qe(h,p[b+0])},S.Predictor8=function(h,p,b){return Qe(p[b-1],p[b+0])},S.Predictor9=function(h,p,b){return Qe(p[b+0],p[b+1])},S.Predictor10=function(h,p,b){return Qe(Qe(h,p[b-1]),Qe(p[b+0],p[b+1]))},S.Predictor11=function(h,p,b){var x=p[b+0];return 0>=mt(x>>24&255,h>>24&255,(p=p[b-1])>>24&255)+mt(x>>16&255,h>>16&255,p>>16&255)+mt(x>>8&255,h>>8&255,p>>8&255)+mt(255&x,255&h,255&p)?x:h},S.Predictor12=function(h,p,b){var x=p[b+0];return(zt((h>>24&255)+(x>>24&255)-((p=p[b-1])>>24&255))<<24|zt((h>>16&255)+(x>>16&255)-(p>>16&255))<<16|zt((h>>8&255)+(x>>8&255)-(p>>8&255))<<8|zt((255&h)+(255&x)-(255&p)))>>>0},S.Predictor13=function(h,p,b){var x=p[b-1];return(Lt((h=Qe(h,p[b+0]))>>24&255,x>>24&255)<<24|Lt(h>>16&255,x>>16&255)<<16|Lt(h>>8&255,x>>8&255)<<8|Lt(255&h,255&x))>>>0};var lu=S.PredictorAdd0;S.PredictorAdd1=lt,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var Jl=S.PredictorAdd2;Ke("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var qn,qh=S.ColorIndexInverseTransform,Is=S.MapARGB,Ps=S.VP8LColorIndexInverseTransformAlpha,cu=S.MapAlpha,uu=S.VP8LPredictorsAdd=[];uu.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var hu,du,Yo,Go,Ko,rl,Xo,il,Hi,Cs,Jt,hn,Hn,ar,po,fu,Zl,Hh,P1,C1,k1,R1,L1,j1,pu,O1,D1,M1,F1=s(511),V1=s(2041),B1=s(225),U1=s(767),z1=0,pp=V1,$h=B1,Si=U1,$i=F1,Wh=0,Yh=1,q1=2,Gh=3,Kh=4,mp=5,H1=6,gp=7,yp=8,Xh=9,vp=10,cT=[2,3,7],uT=[3,3,11],$1=[280,256,256,256,40],hT=[0,1,1,1,0],dT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pT=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mT=8,bp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],wp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mu=null,gT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yT=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],W1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],vT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_T=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Jo=[],ls=[],mo=[],xT=1,Y1=2,Zo=[],Wi=[];zi("UpsampleRgbLinePair",U,3),zi("UpsampleBgrLinePair",oe,3),zi("UpsampleRgbaLinePair",pt,4),zi("UpsampleBgraLinePair",Ln,4),zi("UpsampleArgbLinePair",Wt,4),zi("UpsampleRgba4444LinePair",je,2),zi("UpsampleRgb565LinePair",ge,2);var AT=S.UpsampleRgbLinePair,TT=S.UpsampleBgrLinePair,G1=S.UpsampleRgbaLinePair,K1=S.UpsampleBgraLinePair,X1=S.UpsampleArgbLinePair,J1=S.UpsampleRgba4444LinePair,ET=S.UpsampleRgb565LinePair,Jh=16,Zh=1<<Jh-1,gu=-227,_p=482,Z1=6,ST=(256<<Z1)-1,Q1=0,NT=s(256),IT=s(256),PT=s(256),CT=s(256),kT=s(_p-gu),RT=s(_p-gu);mn("YuvToRgbRow",U,3),mn("YuvToBgrRow",oe,3),mn("YuvToRgbaRow",pt,4),mn("YuvToBgraRow",Ln,4),mn("YuvToArgbRow",Wt,4),mn("YuvToRgba4444Row",je,2),mn("YuvToRgb565Row",ge,2);var ey=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qh=[0,2,8],LT=[8,7,6,4,4,2,2,2,1,1,1,1],jT=1;this.WebPDecodeRGBA=function(h,p,b,x,L){var O=Yh,V=new Ae,q=new At;V.ba=q,q.S=O,q.width=[q.width],q.height=[q.height];var H=q.width,K=q.height,re=new st;if(re==null||h==null)var pe=2;else e(re!=null),pe=qi(h,p,b,re.width,re.height,re.Pd,re.Qd,re.format,null);if(pe!=0?H=0:(H!=null&&(H[0]=re.width[0]),K!=null&&(K[0]=re.height[0]),H=1),H){q.width=q.width[0],q.height=q.height[0],x!=null&&(x[0]=q.width),L!=null&&(L[0]=q.height);e:{if(x=new Ts,(L=new Ie).data=h,L.w=p,L.ha=b,L.kd=1,p=[0],e(L!=null),((h=qi(L.data,L.w,L.ha,null,null,null,p,null,L))==0||h==7)&&p[0]&&(h=4),(p=h)==0){if(e(V!=null),x.data=L.data,x.w=L.w+L.offset,x.ha=L.ha-L.offset,x.put=et,x.ac=gi,x.bc=Mi,x.ma=V,L.xa){if((h=Cr())==null){V=1;break e}if(function(X,se){var ue=[0],_e=[0],fe=[0];t:for(;;){if(X==null)return 0;if(se==null)return X.a=2,0;if(X.l=se,X.a=0,ye(X.m,se.data,se.w,se.ha),!bn(X.m,ue,_e,fe)){X.a=3;break t}if(X.xb=Y1,se.width=ue[0],se.height=_e[0],!vi(ue[0],_e[0],1,X,null))break t;return 1}return e(X.a!=0),0}(h,x)){if(x=(p=Ho(x.width,x.height,V.Oa,V.ba))==0){t:{x=h;n:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((b=x.l)!=null),e((L=b.ma)!=null),x.xb!=0){if(x.ca=L.ba,x.tb=L.tb,e(x.ca!=null),!ho(L.Oa,b,Gh)){x.a=2;break n}if(!_s(x,b.width)||b.da)break n;if((b.da||at(x.ca.S))&&wn(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&wn()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!W(x.s.vb,x.s.Wa.Xa)){x.a=1;break n}x.xb=0}if(!Wr(x,x.V,x.Ba,x.c,x.i,b.o,ws))break n;L.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(p=h.a)}else p=h.a}else{if((h=new Xa)==null){V=1;break e}if(h.Fa=L.na,h.P=L.P,h.qc=L.Sa,Vi(h,x)){if((p=Ho(x.width,x.height,V.Oa,V.ba))==0){if(h.Aa=0,b=V.Oa,e((L=h)!=null),b!=null){if(0<(H=0>(H=b.Md)?0:100<H?255:255*H/100)){for(K=re=0;4>K;++K)12>(pe=L.pb[K]).lc&&(pe.ia=H*LT[0>pe.lc?0:pe.lc]>>3),re|=pe.ia;re&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=b.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}(function(X,se){if(X==null)return 0;if(se==null)return kn(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!Vi(X,se))return 0;if(e(X.cb),se.ac==null||se.ac(se)){se.ob&&(X.L=0);var ue=Qh[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=se.v-ue>>4,X.zb=se.j-ue>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=se.o+15+ue>>4,X.Hb=se.va+15+ue>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var _e=X.ed;for(ue=0;4>ue;++ue){var fe;if(X.Qa.Cb){var Te=X.Qa.Lb[ue];X.Qa.Fb||(Te+=_e.Tb)}else Te=_e.Tb;for(fe=0;1>=fe;++fe){var Ee=X.gd[ue][fe],Le=Te;if(_e.Pc&&(Le+=_e.vd[0],fe&&(Le+=_e.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var Pe=Le;0<_e.wb&&(Pe=4<_e.wb?Pe>>2:Pe>>1)>9-_e.wb&&(Pe=9-_e.wb),1>Pe&&(Pe=1),Ee.dd=Pe,Ee.tc=2*Le+Pe,Ee.ld=40<=Le?2:15<=Le?1:0}else Ee.tc=0;Ee.La=fe}}}ue=0}else kn(X,6,"Frame setup failed"),ue=X.a;if(ue=ue==0){if(ue){X.$c=0,0<X.Aa||(X.Ic=jT);t:{ue=X.Ic,_e=4*(Pe=X.za);var Je=32*Pe,qe=Pe+1,kt=0<X.L?Pe*(0<X.Aa?2:1):0,Ye=(X.Aa==2?2:1)*Pe;if((Ee=_e+832+(fe=3*(16*ue+Qh[X.L])/2*Je)+(Te=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=Ee)ue=0;else{if(Ee>X.Vb){if(X.Vb=0,X.Ec=s(Ee),X.Fc=0,X.Ec==null){ue=kn(X,1,"no memory during frame initialization.");break t}X.Vb=Ee}Ee=X.Ec,Le=X.Fc,X.Ac=Ee,X.Bc=Le,Le+=_e,X.Gd=o(Je,Ga),X.Hd=0,X.rb=o(qe+1,ts),X.sb=1,X.wa=kt?o(kt,kr):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=Pe),e(!0),X.oc=Ee,X.pc=Le,Le+=832,X.ya=o(Ye,io),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=Pe),X.R=16*Pe,X.B=8*Pe,Pe=(Je=Qh[X.L])*X.R,Je=Je/2*X.B,X.sa=Ee,X.ta=Le+Pe,X.qa=X.sa,X.ra=X.ta+16*ue*X.R+Je,X.Ha=X.qa,X.Ia=X.ra+8*ue*X.B+Je,X.$c=0,Le+=fe,X.mb=Te?Ee:null,X.nb=Te?Le:null,e(Le+Te<=X.Fc+X.Vb),Za(X),i(X.Ac,X.Bc,0,_e),ue=1}}if(ue){if(se.ka=0,se.y=X.sa,se.O=X.ta,se.f=X.qa,se.N=X.ra,se.ea=X.Ha,se.Vd=X.Ia,se.fa=X.R,se.Rc=X.B,se.F=null,se.J=0,!z1){for(ue=-255;255>=ue;++ue)F1[255+ue]=0>ue?-ue:ue;for(ue=-1020;1020>=ue;++ue)V1[1020+ue]=-128>ue?-128:127<ue?127:ue;for(ue=-112;112>=ue;++ue)B1[112+ue]=-16>ue?-16:15<ue?15:ue;for(ue=-255;510>=ue;++ue)U1[255+ue]=0>ue?0:255<ue?255:ue;z1=1}Xo=Bi,il=Fo,Cs=wi,Jt=Xt,hn=so,Hi=Mo,Hn=tl,ar=os,po=R,fu=G,Zl=uo,Hh=v,P1=Q,C1=ae,k1=Ui,R1=zo,L1=ai,j1=el,ls[0]=iu,ls[1]=tu,ls[2]=Es,ls[3]=ru,ls[4]=ns,ls[5]=su,ls[6]=fr,ls[7]=ou,ls[8]=Ss,ls[9]=rs,Jo[0]=oo,Jo[1]=nu,Jo[2]=Qa,Jo[3]=Yl,Jo[4]=Rr,Jo[5]=Vo,Jo[6]=Gl,mo[0]=Kl,mo[1]=Wl,mo[2]=Ns,mo[3]=ao,mo[4]=ln,mo[5]=lo,mo[6]=Xl,ue=1}else ue=0}ue&&(ue=function(Bt,lr){for(Bt.M=0;Bt.M<Bt.Va;++Bt.M){var Rt,Ge=Bt.Jc[Bt.M&Bt.Xb],Oe=Bt.m,$n=Bt;for(Rt=0;Rt<$n.za;++Rt){var Nt=Oe,Ht=$n,_n=Ht.Ac,_r=Ht.Bc+4*Rt,Xr=Ht.zc,Fn=Ht.ya[Ht.aa+Rt];if(Ht.Qa.Bb?Fn.$b=xe(Nt,Ht.Pa.jb[0])?2+xe(Nt,Ht.Pa.jb[2]):xe(Nt,Ht.Pa.jb[1]):Fn.$b=0,Ht.kc&&(Fn.Ad=xe(Nt,Ht.Bd)),Fn.Za=!xe(Nt,145)+0,Fn.Za){var Lr=Fn.Ob,Jr=0;for(Ht=0;4>Ht;++Ht){var cr,Yt=Xr[0+Ht];for(cr=0;4>cr;++cr){Yt=bT[_n[_r+cr]][Yt];for(var en=W1[xe(Nt,Yt[0])];0<en;)en=W1[2*en+xe(Nt,Yt[en])];Yt=-en,_n[_r+cr]=Yt}r(Lr,Jr,_n,_r,4),Jr+=4,Xr[0+Ht]=Yt}}else Yt=xe(Nt,156)?xe(Nt,128)?1:3:xe(Nt,163)?2:0,Fn.Ob[0]=Yt,i(_n,_r,Yt,4),i(Xr,0,Yt,4);Fn.Dd=xe(Nt,142)?xe(Nt,114)?xe(Nt,183)?1:3:2:0}if($n.m.Ka)return kn(Bt,7,"Premature end-of-partition0 encountered.");for(;Bt.ja<Bt.za;++Bt.ja){if($n=Ge,Nt=(Oe=Bt).rb[Oe.sb-1],_n=Oe.rb[Oe.sb+Oe.ja],Rt=Oe.ya[Oe.aa+Oe.ja],_r=Oe.kc?Rt.Ad:0)Nt.la=_n.la=0,Rt.Za||(Nt.Na=_n.Na=0),Rt.Hc=0,Rt.Gc=0,Rt.ia=0;else{var Vn,tn;if(Nt=_n,_n=$n,_r=Oe.Pa.Xc,Xr=Oe.ya[Oe.aa+Oe.ja],Fn=Oe.pb[Xr.$b],Ht=Xr.ad,Lr=0,Jr=Oe.rb[Oe.sb-1],Yt=cr=0,i(Ht,Lr,0,384),Xr.Za)var xr=0,cs=_r[3];else{en=s(16);var Wn=Nt.Na+Jr.Na;if(Wn=mu(_n,_r[1],Wn,Fn.Eb,0,en,0),Nt.Na=Jr.Na=(0<Wn)+0,1<Wn)Xo(en,0,Ht,Lr);else{var ci=en[0]+3>>3;for(en=0;256>en;en+=16)Ht[Lr+en]=ci}xr=1,cs=_r[0]}var dn=15&Nt.la,ur=15&Jr.la;for(en=0;4>en;++en){var Ni=1&ur;for(ci=tn=0;4>ci;++ci)dn=dn>>1|(Ni=(Wn=mu(_n,cs,Wn=Ni+(1&dn),Fn.Sc,xr,Ht,Lr))>xr)<<7,tn=tn<<2|(3<Wn?3:1<Wn?2:Ht[Lr+0]!=0),Lr+=16;dn>>=4,ur=ur>>1|Ni<<7,cr=(cr<<8|tn)>>>0}for(cs=dn,xr=ur>>4,Vn=0;4>Vn;Vn+=2){for(tn=0,dn=Nt.la>>4+Vn,ur=Jr.la>>4+Vn,en=0;2>en;++en){for(Ni=1&ur,ci=0;2>ci;++ci)Wn=Ni+(1&dn),dn=dn>>1|(Ni=0<(Wn=mu(_n,_r[2],Wn,Fn.Qc,0,Ht,Lr)))<<3,tn=tn<<2|(3<Wn?3:1<Wn?2:Ht[Lr+0]!=0),Lr+=16;dn>>=2,ur=ur>>1|Ni<<5}Yt|=tn<<4*Vn,cs|=dn<<4<<Vn,xr|=(240&ur)<<Vn}Nt.la=cs,Jr.la=xr,Xr.Hc=cr,Xr.Gc=Yt,Xr.ia=43690&Yt?0:Fn.ia,_r=!(cr|Yt)}if(0<Oe.L&&(Oe.wa[Oe.Y+Oe.ja]=Oe.gd[Rt.$b][Rt.Za],Oe.wa[Oe.Y+Oe.ja].La|=!_r),$n.Ka)return kn(Bt,7,"Premature end-of-file encountered.")}if(Za(Bt),Oe=lr,$n=1,Rt=(Ge=Bt).D,Nt=0<Ge.L&&Ge.M>=Ge.zb&&Ge.M<=Ge.Va,Ge.Aa==0)t:{if(Rt.M=Ge.M,Rt.uc=Nt,En(Ge,Rt),$n=1,Rt=(tn=Ge.D).Nb,Nt=(Yt=Qh[Ge.L])*Ge.R,_n=Yt/2*Ge.B,en=16*Rt*Ge.R,ci=8*Rt*Ge.B,_r=Ge.sa,Xr=Ge.ta-Nt+en,Fn=Ge.qa,Ht=Ge.ra-_n+ci,Lr=Ge.Ha,Jr=Ge.Ia-_n+ci,ur=(dn=tn.M)==0,cr=dn>=Ge.Va-1,Ge.Aa==2&&En(Ge,tn),tn.uc)for(Ni=(Wn=Ge).D.M,e(Wn.D.uc),tn=Wn.yb;tn<Wn.Hb;++tn){xr=tn,cs=Ni;var Zr=(Ii=(Ar=Wn).D).Nb;Vn=Ar.R;var Ii=Ii.wa[Ii.Y+xr],Pi=Ar.sa,ui=Ar.ta+16*Zr*Vn+16*xr,Ci=Ii.dd,gn=Ii.tc;if(gn!=0)if(e(3<=gn),Ar.L==1)0<xr&&R1(Pi,ui,Vn,gn+4),Ii.La&&j1(Pi,ui,Vn,gn),0<cs&&k1(Pi,ui,Vn,gn+4),Ii.La&&L1(Pi,ui,Vn,gn);else{var ki=Ar.B,us=Ar.qa,sl=Ar.ra+8*Zr*ki+8*xr,go=Ar.Ha,Ar=Ar.Ia+8*Zr*ki+8*xr;Zr=Ii.ld,0<xr&&(ar(Pi,ui,Vn,gn+4,Ci,Zr),fu(us,sl,go,Ar,ki,gn+4,Ci,Zr)),Ii.La&&(Hh(Pi,ui,Vn,gn,Ci,Zr),C1(us,sl,go,Ar,ki,gn,Ci,Zr)),0<cs&&(Hn(Pi,ui,Vn,gn+4,Ci,Zr),po(us,sl,go,Ar,ki,gn+4,Ci,Zr)),Ii.La&&(Zl(Pi,ui,Vn,gn,Ci,Zr),P1(us,sl,go,Ar,ki,gn,Ci,Zr))}}if(Ge.ia&&alert("todo:DitherRow"),Oe.put!=null){if(tn=16*dn,dn=16*(dn+1),ur?(Oe.y=Ge.sa,Oe.O=Ge.ta+en,Oe.f=Ge.qa,Oe.N=Ge.ra+ci,Oe.ea=Ge.Ha,Oe.W=Ge.Ia+ci):(tn-=Yt,Oe.y=_r,Oe.O=Xr,Oe.f=Fn,Oe.N=Ht,Oe.ea=Lr,Oe.W=Jr),cr||(dn-=Yt),dn>Oe.o&&(dn=Oe.o),Oe.F=null,Oe.J=null,Ge.Fa!=null&&0<Ge.Fa.length&&tn<dn&&(Oe.J=Qt(Ge,Oe,tn,dn-tn),Oe.F=Ge.mb,Oe.F==null&&Oe.F.length==0)){$n=kn(Ge,3,"Could not decode alpha data.");break t}tn<Oe.j&&(Yt=Oe.j-tn,tn=Oe.j,e(!(1&Yt)),Oe.O+=Ge.R*Yt,Oe.N+=Ge.B*(Yt>>1),Oe.W+=Ge.B*(Yt>>1),Oe.F!=null&&(Oe.J+=Oe.width*Yt)),tn<dn&&(Oe.O+=Oe.v,Oe.N+=Oe.v>>1,Oe.W+=Oe.v>>1,Oe.F!=null&&(Oe.J+=Oe.v),Oe.ka=tn-Oe.j,Oe.U=Oe.va-Oe.v,Oe.T=dn-tn,$n=Oe.put(Oe))}Rt+1!=Ge.Ic||cr||(r(Ge.sa,Ge.ta-Nt,_r,Xr+16*Ge.R,Nt),r(Ge.qa,Ge.ra-_n,Fn,Ht+8*Ge.B,_n),r(Ge.Ha,Ge.Ia-_n,Lr,Jr+8*Ge.B,_n))}if(!$n)return kn(Bt,6,"Output aborted.")}return 1}(X,se)),se.bc!=null&&se.bc(se),ue&=1}return ue?(X.cb=0,ue):0})(h,x)||(p=h.a)}}else p=h.a}p==0&&V.Oa!=null&&V.Oa.fd&&(p=au(V.ba))}V=p}O=V!=0?null:11>O?q.f.RGBA.eb:q.f.kb.y}else O=null;return O};var ty=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,D){for(var T="",I=0;I<4;I++)T+=String.fromCharCode(S[D++]);return T}function u(S,D){return S[D+0]|S[D+1]<<8}function m(S,D){return(S[D+0]|S[D+1]<<8|S[D+2]<<16)>>>0}function y(S,D){return(S[D+0]|S[D+1]<<8|S[D+2]<<16|S[D+3]<<24)>>>0}new l;var f=[0],A=[0],_=[],E=new l,C=t,F=function(S,D){var T={},I=0,k=!1,Y=0,ce=0;if(T.frames=[],!function(j,$){for(var J=0;J<4;J++)if(j[$+J]!="RIFF".charCodeAt(J))return!0;return!1}(S,D)){for(y(S,D+=4),D+=8;D<S.length;){var de=c(S,D),me=y(S,D+=4);D+=4;var le=me+(1&me);switch(de){case"VP8 ":case"VP8L":T.frames[I]===void 0&&(T.frames[I]={}),(ve=T.frames[I]).src_off=k?ce:D-8,ve.src_size=Y+me+8,I++,k&&(k=!1,Y=0,ce=0);break;case"VP8X":(ve=T.header={}).feature_flags=S[D];var ye=D+4;ve.canvas_width=1+m(S,ye),ye+=3,ve.canvas_height=1+m(S,ye),ye+=3;break;case"ALPH":k=!0,Y=le+8,ce=D-8;break;case"ANIM":(ve=T.header).bgcolor=y(S,D),ye=D+4,ve.loop_count=u(S,ye),ye+=2;break;case"ANMF":var Re,ve;(ve=T.frames[I]={}).offset_x=2*m(S,D),D+=3,ve.offset_y=2*m(S,D),D+=3,ve.width=1+m(S,D),D+=3,ve.height=1+m(S,D),D+=3,ve.duration=m(S,D),D+=3,Re=S[D++],ve.dispose=1&Re,ve.blend=Re>>1&1}de!="ANMF"&&(D+=le)}return T}}(C,0);F.response=C,F.rgbaoutput=!0,F.dataurl=!1;var M=F.header?F.header:null,z=F.frames?F.frames:null;if(M){M.loop_counter=M.loop_count,f=[M.canvas_height],A=[M.canvas_width];for(var ee=0;ee<z.length&&z[ee].blend!=0;ee++);}var ne=z[0],B=E.WebPDecodeRGBA(C,ne.src_off,ne.src_size,A,f);ne.rgba=B,ne.imgwidth=A[0],ne.imgheight=f[0];for(var P=0;P<A[0]*f[0]*4;P++)_[P]=B[P];return this.width=A,this.height=f,this.data=_,this}(function(t){var e,n,r,i,s,o,a,l,c,u=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new o,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new o,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var m=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=j;Object.defineProperty(this,"pdf",{get:function(){return $}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(W){J=!!W}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(W){te=!!W}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(W){isNaN(W)||(ie=W)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(W){isNaN(W)||(he=W)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(W){var De;typeof W=="number"?De=[W,W,W,W]:((De=new Array(4))[0]=W[0],De[1]=W.length>=2?W[1]:De[0],De[2]=W.length>=3?W[2]:De[0],De[3]=W.length>=4?W[3]:De[1]),c.margin=De}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(W){be=W}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(W){we=W}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(W){xe=W}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(W){W instanceof u&&(c=W)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(W){c.path=W}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(W){Ce=W}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(W){var De;De=y(W),this.ctx.fillStyle=De.style,this.ctx.isFillTransparent=De.a===0,this.ctx.fillOpacity=De.a,this.pdf.setFillColor(De.r,De.g,De.b,{a:De.a}),this.pdf.setTextColor(De.r,De.g,De.b,{a:De.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(W){var De=y(W);this.ctx.strokeStyle=De.style,this.ctx.isStrokeTransparent=De.a===0,this.ctx.strokeOpacity=De.a,De.a===0?this.pdf.setDrawColor(255,255,255):(De.a,this.pdf.setDrawColor(De.r,De.g,De.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(W){["butt","round","square"].indexOf(W)!==-1&&(this.ctx.lineCap=W,this.pdf.setLineCap(W))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(W){isNaN(W)||(this.ctx.lineWidth=W,this.pdf.setLineWidth(W))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(W){["bevel","round","miter"].indexOf(W)!==-1&&(this.ctx.lineJoin=W,this.pdf.setLineJoin(W))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(W){isNaN(W)||(this.ctx.miterLimit=W,this.pdf.setMiterLimit(W))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(W){this.ctx.textBaseline=W}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(W){["right","end","center","left","start"].indexOf(W)!==-1&&(this.ctx.textAlign=W)}});var Me=null,Fe=null,Xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xe},set:function(W){Me=null,Fe=null,Xe=W}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(W){var De;if(this.ctx.font=W,(De=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(W))!==null){var St=De[1];De[2];var ot=De[3],ke=De[4];De[5];var it=De[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Ue==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var tt=function(Ke){var Cn,jt,Pt=[],Ct=Ke.trim();if(Ct==="")return Cm;if(Ct in Nb)return[Nb[Ct]];for(;Ct!=="";){switch(jt=null,Cn=(Ct=Pb(Ct)).charAt(0)){case'"':case"'":jt=oB(Ct.substring(1),Cn);break;default:jt=aB(Ct)}if(jt===null||(Pt.push(jt[0]),(Ct=Pb(jt[1]))!==""&&Ct.charAt(0)!==","))return Cm;Ct=Ct.replace(/^,/,"")}return Pt}(it);if(this.fontFaces){var Qe=function(Ke,Cn){var jt=Ke.getFontList(),Pt=JSON.stringify(jt);if(Me===null||Fe!==Pt){var Ct=function(sn){var nt=[];return Object.keys(sn).forEach(function(on){sn[on].forEach(function(at){var bt=null;switch(at){case"bold":bt={family:on,weight:"bold"};break;case"italic":bt={family:on,style:"italic"};break;case"bolditalic":bt={family:on,weight:"bold",style:"italic"};break;case"":case"normal":bt={family:on}}bt!==null&&(bt.ref={name:on,style:at},nt.push(bt))})}),nt}(jt);Me=function(sn){for(var nt={},on=0;on<sn.length;++on){var at=Pm(sn[on]),bt=at.family,un=at.stretch,At=at.style,st=at.weight;nt[bt]=nt[bt]||{},nt[bt][un]=nt[bt][un]||{},nt[bt][un][At]=nt[bt][un][At]||{},nt[bt][un][At][st]=at}return nt}(Ct.concat(Cn)),Fe=Pt}return Me}(this.pdf,this.fontFaces),zt=tt.map(function(Ke){return{family:Ke,stretch:"normal",weight:ot,style:St}}),Lt=function(Ke,Cn,jt){for(var Pt=(jt=jt||{}).defaultFontFamily||"times",Ct=Object.assign({},sB,jt.genericFontFamilies||{}),sn=null,nt=null,on=0;on<Cn.length;++on)if(Ct[(sn=Pm(Cn[on])).family]&&(sn.family=Ct[sn.family]),Ke.hasOwnProperty(sn.family)){nt=Ke[sn.family];break}if(!(nt=nt||Ke[Pt]))throw new Error("Could not find a font-family for the rule '"+Ib(sn)+"' and default family '"+Pt+"'.");if(nt=function(at,bt){if(bt[at])return bt[at];var un=Hg[at],At=un<=Hg.normal?-1:1,st=Sb(bt,rT,un,At);if(!st)throw new Error("Could not find a matching font-stretch value for "+at);return st}(sn.stretch,nt),nt=function(at,bt){if(bt[at])return bt[at];for(var un=nT[at],At=0;At<un.length;++At)if(bt[un[At]])return bt[un[At]];throw new Error("Could not find a matching font-style for "+at)}(sn.style,nt),!(nt=function(at,bt){if(bt[at])return bt[at];if(at===400&&bt[500])return bt[500];if(at===500&&bt[400])return bt[400];var un=iB[at],At=Sb(bt,iT,un,at<400?-1:1);if(!At)throw new Error("Could not find a matching font-weight for value "+at);return At}(sn.weight,nt)))throw new Error("Failed to resolve a font for the rule '"+Ib(sn)+"'.");return nt}(Qe,zt);this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var mt="";(ot==="bold"||parseInt(ot,10)>=700||St==="bold")&&(mt="bold"),St==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var lt="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},He=0;He<tt.length;He++){if(this.pdf.internal.getFont(tt[He],mt,{noFallback:!0,disableWarning:!0})!==void 0){lt=tt[He];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(tt[He],"bold",{noFallback:!0,disableWarning:!0})!==void 0)lt=tt[He],mt="bold";else if(this.pdf.internal.getFont(tt[He],"normal",{noFallback:!0,disableWarning:!0})!==void 0){lt=tt[He],mt="normal";break}}if(lt===""){for(var wt=0;wt<tt.length;wt++)if(ct[tt[wt]]){lt=ct[tt[wt]];break}}lt=lt===""?"Times":lt,this.pdf.setFont(lt,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(W){this.ctx.globalCompositeOperation=W}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(W){this.ctx.globalAlpha=W}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(W){this.ctx.lineDashOffset=W,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(W){this.ctx.lineDash=W,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(W){this.ctx.ignoreClearRect=!!W}})};m.prototype.setLineDash=function(j){this.lineDash=j},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){z.call(this,"fill",!1)},m.prototype.stroke=function(){z.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(j,$){if(isNaN(j)||isNaN($))throw fn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(j,$));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(j,$)},m.prototype.closePath=function(){var j=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&rn(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){j=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(j.x,j.y)},m.prototype.lineTo=function(j,$){if(isNaN(j)||isNaN($))throw fn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(j,$));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},m.prototype.quadraticCurveTo=function(j,$,J,te){if(isNaN(J)||isNaN(te)||isNaN(j)||isNaN($))throw fn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(J,te)),he=this.ctx.transform.applyToPoint(new o(j,$));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},m.prototype.bezierCurveTo=function(j,$,J,te,ie,he){if(isNaN(ie)||isNaN(he)||isNaN(j)||isNaN($)||isNaN(J)||isNaN(te))throw fn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(ie,he)),we=this.ctx.transform.applyToPoint(new o(j,$)),xe=this.ctx.transform.applyToPoint(new o(J,te));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:xe.x,y2:xe.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},m.prototype.arc=function(j,$,J,te,ie,he){if(isNaN(j)||isNaN($)||isNaN(J)||isNaN(te)||isNaN(ie))throw fn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o(j,$));j=be.x,$=be.y;var we=this.ctx.transform.applyToPoint(new o(0,J)),xe=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(we.x-xe.x,2)+Math.pow(we.y-xe.y,2))}Math.abs(ie-te)>=2*Math.PI&&(te=0,ie=2*Math.PI),this.path.push({type:"arc",x:j,y:$,radius:J,startAngle:te,endAngle:ie,counterclockwise:he})},m.prototype.arcTo=function(j,$,J,te,ie){throw new Error("arcTo not implemented.")},m.prototype.rect=function(j,$,J,te){if(isNaN(j)||isNaN($)||isNaN(J)||isNaN(te))throw fn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,$),this.lineTo(j+J,$),this.lineTo(j+J,$+te),this.lineTo(j,$+te),this.lineTo(j,$),this.lineTo(j+J,$),this.lineTo(j,$)},m.prototype.fillRect=function(j,$,J,te){if(isNaN(j)||isNaN($)||isNaN(J)||isNaN(te))throw fn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,$,J,te),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},m.prototype.strokeRect=function(j,$,J,te){if(isNaN(j)||isNaN($)||isNaN(J)||isNaN(te))throw fn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(j,$,J,te),this.stroke())},m.prototype.clearRect=function(j,$,J,te){if(isNaN(j)||isNaN($)||isNaN(J)||isNaN(te))throw fn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,$,J,te))},m.prototype.save=function(j){j=typeof j!="boolean"||j;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage($),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},m.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage($),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(j){var $,J,te,ie;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))$=0,J=0,te=0,ie=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(he!==null)$=parseInt(he[1]),J=parseInt(he[2]),te=parseInt(he[3]),ie=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)$=parseInt(he[1]),J=parseInt(he[2]),te=parseInt(he[3]),ie=parseFloat(he[4]);else{if(ie=1,typeof j=="string"&&j.charAt(0)!=="#"){var be=new K3(j);j=be.ok?be.toHex():"#000000"}j.length===4?($=j.substring(1,2),$+=$,J=j.substring(2,3),J+=J,te=j.substring(3,4),te+=te):($=j.substring(1,3),J=j.substring(3,5),te=j.substring(5,7)),$=parseInt($,16),J=parseInt(J,16),te=parseInt(te,16)}}return{r:$,g:J,b:te,a:ie,style:j}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(j,$,J,te){if(isNaN($)||isNaN(J)||typeof j!="string")throw fn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!f.call(this)){var ie=le(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;I.call(this,{text:j,x:$,y:J,scale:he,angle:ie,align:this.textAlign,maxWidth:te})}},m.prototype.strokeText=function(j,$,J,te){if(isNaN($)||isNaN(J)||typeof j!="string")throw fn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){te=isNaN(te)?void 0:te;var ie=le(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;I.call(this,{text:j,x:$,y:J,scale:he,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:te})}},m.prototype.measureText=function(j){if(typeof j!="string")throw fn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,J=this.pdf.internal.scaleFactor,te=$.internal.getFontSize(),ie=$.getStringUnitWidth(j)*te/$.internal.scaleFactor;return new function(he){var be=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:ie*=Math.round(96*J/72*1e4)/1e4})},m.prototype.scale=function(j,$){if(isNaN(j)||isNaN($))throw fn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(j,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.rotate=function(j){if(isNaN(j))throw fn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply($)},m.prototype.translate=function(j,$){if(isNaN(j)||isNaN($))throw fn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,j,$);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.transform=function(j,$,J,te,ie,he){if(isNaN(j)||isNaN($)||isNaN(J)||isNaN(te)||isNaN(ie)||isNaN(he))throw fn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new l(j,$,J,te,ie,he);this.ctx.transform=this.ctx.transform.multiply(be)},m.prototype.setTransform=function(j,$,J,te,ie,he){j=isNaN(j)?1:j,$=isNaN($)?0:$,J=isNaN(J)?0:J,te=isNaN(te)?1:te,ie=isNaN(ie)?0:ie,he=isNaN(he)?0:he,this.ctx.transform=new l(j,$,J,te,ie,he)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(j,$,J,te,ie,he,be,we,xe){var Ce=this.pdf.getImageProperties(j),Me=1,Fe=1,Xe=1,W=1;te!==void 0&&we!==void 0&&(Xe=we/te,W=xe/ie,Me=Ce.width/te*we/te,Fe=Ce.height/ie*xe/ie),he===void 0&&(he=$,be=J,$=0,J=0),te!==void 0&&we===void 0&&(we=te,xe=ie),te===void 0&&we===void 0&&(we=Ce.width,xe=Ce.height);var De=this.ctx.transform.decompose(),St=le(De.rotate.shx),ot=new l,ke=(ot=(ot=(ot=ot.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new a(he-$*Xe,be-J*W,te*Me,ie*Fe));if(this.autoPaging){for(var it,Ue=E.call(this,ke),tt=[],Qe=0;Qe<Ue.length;Qe+=1)tt.indexOf(Ue[Qe])===-1&&tt.push(Ue[Qe]);M(tt);for(var zt=tt[0],Lt=tt[tt.length-1],mt=zt;mt<Lt+1;mt++){this.pdf.setPage(mt);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=mt===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=mt===1?0:He+(mt-2)*wt;if(this.ctx.clip_path.length!==0){var Cn=this.path;it=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(it,this.posX+this.margin[3],-Ke+ct+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=Cn}var jt=JSON.parse(JSON.stringify(ke));jt=F([jt],this.posX+this.margin[3],-Ke+ct+this.ctx.prevPageLastElemOffset)[0];var Pt=(mt>zt||mt<Lt)&&_.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,wt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,St),Pt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,St)};var E=function(j,$,J){var te=[];$=$||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":te.push(Math.floor((j.y+ie)/J)+1);break;case"arc":te.push(Math.floor((j.y+ie-j.radius)/J)+1),te.push(Math.floor((j.y+ie+j.radius)/J)+1);break;case"qct":var he=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);te.push(Math.floor((he.y+ie)/J)+1),te.push(Math.floor((he.y+he.h+ie)/J)+1);break;case"bct":var be=Re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);te.push(Math.floor((be.y+ie)/J)+1),te.push(Math.floor((be.y+be.h+ie)/J)+1);break;case"rect":te.push(Math.floor((j.y+ie)/J)+1),te.push(Math.floor((j.y+j.h+ie)/J)+1)}for(var we=0;we<te.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<te[we];)C.call(this);return te},C=function(){var j=this.fillStyle,$=this.strokeStyle,J=this.font,te=this.lineCap,ie=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=$,this.font=J,this.lineCap=te,this.lineWidth=ie,this.lineJoin=he},F=function(j,$,J){for(var te=0;te<j.length;te++)switch(j[te].type){case"bct":j[te].x2+=$,j[te].y2+=J;case"qct":j[te].x1+=$,j[te].y1+=J;default:j[te].x+=$,j[te].y+=J}return j},M=function(j){return j.sort(function($,J){return $-J})},z=function(j,$){var J=this.fillStyle,te=this.strokeStyle,ie=this.lineCap,he=this.lineWidth,be=Math.abs(he*this.ctx.transform.scaleX),we=this.lineJoin;if(this.autoPaging){for(var xe,Ce,Me=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),Xe=[],W=0;W<Fe.length;W++)if(Fe[W].x!==void 0)for(var De=E.call(this,Fe[W]),St=0;St<De.length;St+=1)Xe.indexOf(De[St])===-1&&Xe.push(De[St]);for(var ot=0;ot<Xe.length;ot++)for(;this.pdf.internal.getNumberOfPages()<Xe[ot];)C.call(this);M(Xe);for(var ke=Xe[0],it=Xe[Xe.length-1],Ue=ke;Ue<it+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=J,this.strokeStyle=te,this.lineCap=ie,this.lineWidth=be,this.lineJoin=we;var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=Ue===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Ue===1?0:zt+(Ue-2)*Lt;if(this.ctx.clip_path.length!==0){var lt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(xe,this.posX+this.margin[3],-mt+Qe+this.ctx.prevPageLastElemOffset),ee.call(this,j,!0),this.path=lt}if(Ce=JSON.parse(JSON.stringify(Me)),this.path=F(Ce,this.posX+this.margin[3],-mt+Qe+this.ctx.prevPageLastElemOffset),$===!1||Ue===0){var ct=(Ue>ke||Ue<it)&&_.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,Lt,null).clip().discardPath()),ee.call(this,j,$),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=he}this.path=Me}else this.lineWidth=be,ee.call(this,j,$),this.lineWidth=he},ee=function(j,$){if((j!=="stroke"||$||!A.call(this))&&(j==="stroke"||$||!f.call(this))){for(var J,te,ie=[],he=this.path,be=0;be<he.length;be++){var we=he[be];switch(we.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:we,deltas:[],abs:[]});break;case"lt":var xe=ie.length;if(he[be-1]&&!isNaN(he[be-1].x)&&(J=[we.x-he[be-1].x,we.y-he[be-1].y],xe>0)){for(;xe>=0;xe--)if(ie[xe-1].close!==!0&&ie[xe-1].begin!==!0){ie[xe-1].deltas.push(J),ie[xe-1].abs.push(we);break}}break;case"bct":J=[we.x1-he[be-1].x,we.y1-he[be-1].y,we.x2-he[be-1].x,we.y2-he[be-1].y,we.x-he[be-1].x,we.y-he[be-1].y],ie[ie.length-1].deltas.push(J);break;case"qct":var Ce=he[be-1].x+2/3*(we.x1-he[be-1].x),Me=he[be-1].y+2/3*(we.y1-he[be-1].y),Fe=we.x+2/3*(we.x1-we.x),Xe=we.y+2/3*(we.y1-we.y),W=we.x,De=we.y;J=[Ce-he[be-1].x,Me-he[be-1].y,Fe-he[be-1].x,Xe-he[be-1].y,W-he[be-1].x,De-he[be-1].y],ie[ie.length-1].deltas.push(J);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(we)}}te=$?null:j==="stroke"?"stroke":"fill";for(var St=!1,ot=0;ot<ie.length;ot++)if(ie[ot].arc)for(var ke=ie[ot].abs,it=0;it<ke.length;it++){var Ue=ke[it];Ue.type==="arc"?P.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,$,!St):k.call(this,Ue.x,Ue.y),St=!0}else if(ie[ot].close===!0)this.pdf.internal.out("h"),St=!1;else if(ie[ot].begin!==!0){var tt=ie[ot].start.x,Qe=ie[ot].start.y;Y.call(this,ie[ot].deltas,tt,Qe),St=!0}te&&S.call(this,te),$&&D.call(this)}},ne=function(j){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-J;case"top":return j+$-J;case"hanging":return j+$-2*J;case"middle":return j+$/2-J;default:return j}},B=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function($,J){this.colorStops.push([$,J])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(j,$,J,te,ie,he,be,we,xe){for(var Ce=de.call(this,J,te,ie,he),Me=0;Me<Ce.length;Me++){var Fe=Ce[Me];Me===0&&(xe?T.call(this,Fe.x1+j,Fe.y1+$):k.call(this,Fe.x1+j,Fe.y1+$)),ce.call(this,j,$,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}we?D.call(this):S.call(this,be)},S=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(j,$){this.pdf.internal.out(n(j)+" "+r($)+" m")},I=function(j){var $;switch(j.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var J,te,ie,he=this.pdf.getTextDimensions(j.text),be=ne.call(this,j.y),we=B.call(this,be)-he.h,xe=this.ctx.transform.applyToPoint(new o(j.x,be));if(this.autoPaging){var Ce=this.ctx.transform.decompose(),Me=new l;Me=(Me=(Me=Me.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var Fe=this.ctx.transform.applyToRectangle(new a(j.x,be,he.w,he.h)),Xe=Me.applyToRectangle(new a(j.x,we,he.w,he.h)),W=E.call(this,Xe),De=[],St=0;St<W.length;St+=1)De.indexOf(W[St])===-1&&De.push(W[St]);M(De);for(var ot=De[0],ke=De[De.length-1],it=ot;it<ke+1;it++){this.pdf.setPage(it);var Ue=it===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[2],zt=Qe-this.margin[0],Lt=this.pdf.internal.pageSize.width-this.margin[1],mt=Lt-this.margin[3],lt=it===1?0:tt+(it-2)*zt;if(this.ctx.clip_path.length!==0){var ct=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(J,this.posX+this.margin[3],-1*lt+Ue),ee.call(this,"fill",!0),this.path=ct}var He=F([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-lt+Ue+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),ie=this.lineWidth,this.lineWidth=ie*j.scale);var wt=this.autoPaging!=="text";if(wt||He.y+He.h<=Qe){if(wt||He.y>=Ue&&He.x<=Lt){var Ke=wt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Lt-He.x)[0],Cn=F([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-lt+Ue+this.ctx.prevPageLastElemOffset)[0],jt=wt&&(it>ot||it<ke)&&_.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,zt,null).clip().discardPath()),this.pdf.text(Ke,Cn.x,Cn.y,{angle:j.angle,align:$,renderingMode:j.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else He.y<Qe&&(this.ctx.prevPageLastElemOffset+=Qe-He.y);j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ie)}}else j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),ie=this.lineWidth,this.lineWidth=ie*j.scale),this.pdf.text(j.text,xe.x+this.posX,xe.y+this.posY,{angle:j.angle,align:$,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ie)},k=function(j,$,J,te){J=J||0,te=te||0,this.pdf.internal.out(n(j+J)+" "+r($+te)+" l")},Y=function(j,$,J){return this.pdf.lines(j,$,J,null,null)},ce=function(j,$,J,te,ie,he,be,we){this.pdf.internal.out([e(i(J+j)),e(s(te+$)),e(i(ie+j)),e(s(he+$)),e(i(be+j)),e(s(we+$)),"c"].join(" "))},de=function(j,$,J,te){for(var ie=2*Math.PI,he=Math.PI/2;$>J;)$-=ie;var be=Math.abs(J-$);be<ie&&te&&(be=ie-be);for(var we=[],xe=te?-1:1,Ce=$;be>1e-5;){var Me=Ce+xe*Math.min(be,he);we.push(me.call(this,j,Ce,Me)),be-=Math.abs(Me-Ce),Ce=Me}return we},me=function(j,$,J){var te=(J-$)/2,ie=j*Math.cos(te),he=j*Math.sin(te),be=ie,we=-he,xe=be*be+we*we,Ce=xe+be*ie+we*he,Me=4/3*(Math.sqrt(2*xe*Ce)-Ce)/(be*he-we*ie),Fe=be-Me*we,Xe=we+Me*be,W=Fe,De=-Xe,St=te+$,ot=Math.cos(St),ke=Math.sin(St);return{x1:j*Math.cos($),y1:j*Math.sin($),x2:Fe*ot-Xe*ke,y2:Fe*ke+Xe*ot,x3:W*ot-De*ke,y3:W*ke+De*ot,x4:j*Math.cos(J),y4:j*Math.sin(J)}},le=function(j){return 180*j/Math.PI},ye=function(j,$,J,te,ie,he){var be=j+.5*(J-j),we=$+.5*(te-$),xe=ie+.5*(J-ie),Ce=he+.5*(te-he),Me=Math.min(j,ie,be,xe),Fe=Math.max(j,ie,be,xe),Xe=Math.min($,he,we,Ce),W=Math.max($,he,we,Ce);return new a(Me,Xe,Fe-Me,W-Xe)},Re=function(j,$,J,te,ie,he,be,we){var xe,Ce,Me,Fe,Xe,W,De,St,ot,ke,it,Ue,tt,Qe,zt=J-j,Lt=te-$,mt=ie-J,lt=he-te,ct=be-ie,He=we-he;for(Ce=0;Ce<41;Ce++)ot=(De=(Me=j+(xe=Ce/40)*zt)+xe*((Xe=J+xe*mt)-Me))+xe*(Xe+xe*(ie+xe*ct-Xe)-De),ke=(St=(Fe=$+xe*Lt)+xe*((W=te+xe*lt)-Fe))+xe*(W+xe*(he+xe*He-W)-St),Ce==0?(it=ot,Ue=ke,tt=ot,Qe=ke):(it=Math.min(it,ot),Ue=Math.min(Ue,ke),tt=Math.max(tt,ot),Qe=Math.max(Qe,ke));return new a(Math.round(it),Math.round(Ue),Math.round(tt-it),Math.round(Qe-Ue))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,$,J=(j=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:$}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Ze.API),function(t){var e=function(o){var a,l,c,u,m,y,f,A,_,E;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(m=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(y=(m=((m=((m=((m=(m-(E=m%85))/85)-(_=m%85))/85)-(A=m%85))/85)-(f=m%85))/85)%85,l.push(y+33,f+33,A+33,_+33,E+33)):l.push(122);return function(C,F){for(var M=F;M>0;M--)C.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,c,u,m,y=String,f="length",A=255,_="charCodeAt",E="slice",C="replace";for(o[E](-2),o=o[E](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),c=[],u=0,m=(o+=a="uuuuu"[E](o[f]%5||5))[f];m>u;u+=5)l=52200625*(o[_](u)-33)+614125*(o[_](u+1)-33)+7225*(o[_](u+2)-33)+85*(o[_](u+3)-33)+(o[_](u+4)-33),c.push(A&l>>24,A&l>>16,A&l>>8,A&l);return function(F,M){for(var z=M;z>0;z--)F.pop()}(c,a[f]),y.fromCharCode.apply(y,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=kg(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Ze.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var m=new XMLHttpRequest,y=0,f=function(A){var _=A.length,E=[],C=String.fromCharCode;for(y=0;y<_;y+=1)E.push(C(255&A.charCodeAt(y)));return E.join("")};if(m.open("GET",l,!c),m.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(m.onload=function(){m.status===200?u(f(this.responseText)):u(void 0)}),m.send(null),c&&m.status===200)return f(m.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(Ze.API),function(t){function e(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):sm(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):sm(()=>import("./purify.es-ce17b1ad.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=rn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)c!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||u.appendChild(a(m,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var A=u[f],_=A.src.find(function(E){return E.format==="truetype"});_&&c.addFont(_.url,A.ref.name,A.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,c.context2d.save(!0),l(this.prop.container,y)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,m){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(y){return c.updateProgress(null,u),y}).then(u,m).then(function(y){return c.updateProgress(1),y})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),y=c.call(m,a,l);return o.convert(y,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ze.getPageSize=function(a,l,c){if(rn(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var m,y=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var A,_=0,E=0;if(f.hasOwnProperty(y))_=f[y][1]/m,E=f[y][0]/m;else try{_=c[1],E=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",E>_&&(A=E,E=_,_=A);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>E&&(A=E,E=_,_=A)}return{width:E,height:_,unit:l,k:m,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Pm):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(Ze.API),Ze.API.addJS=function(t){return kb=t,this.internal.events.subscribe("postPutResources",function(){Id=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Id+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Cb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Id!==void 0&&Cb!==void 0&&this.internal.out("/Names <</JavaScript "+Id+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var m=n.internal.newObject();u.push(m);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ze.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(m){for(var y,f=256*m.charCodeAt(4)+m.charCodeAt(5),A=m.length,_={width:0,height:0,numcomponents:1},E=4;E<A;E+=2){if(E+=f,e.indexOf(m.charCodeAt(E+1))!==-1){y=256*m.charCodeAt(E+5)+m.charCodeAt(E+6),_={width:256*m.charCodeAt(E+7)+m.charCodeAt(E+8),height:y,numcomponents:m.charCodeAt(E+9)};break}f=256*m.charCodeAt(E+2)+m.charCodeAt(E+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Ze.API),Ze.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=HV(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(P){for(var S=P.width,D=P.height,T=P.data,I=P.palette,k=P.depth,Y=!1,ce=[],de=[],me=void 0,le=!1,ye=0,Re=0;Re<I.length;Re++){var ve=E5(I[Re],4),j=ve[0],$=ve[1],J=ve[2],te=ve[3];ce.push(j,$,J),te!=null&&(te===0?(ye++,de.length<1&&de.push(Re)):te<255&&(le=!0))}if(le||ye>1){Y=!0,de=void 0;var ie=S*D;me=new Uint8Array(ie);for(var he=new DataView(T.buffer),be=0;be<ie;be++){var we=km(he,be,k),xe=E5(I[we],4)[3];me[be]=xe}}else ye===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Y?8:void 0,colorBytes:T,alphaBytes:me,needSMask:Y,palette:ce,mask:de}}(s):l===2||l===4?function(P){for(var S=P.data,D=P.width,T=P.height,I=P.channels,k=P.depth,Y=I===2?"DeviceGray":"DeviceRGB",ce=I-1,de=D*T,me=ce,le=de*me,ye=1*de,Re=Math.ceil(le*k/8),ve=Math.ceil(ye*k/8),j=new Uint8Array(Re),$=new Uint8Array(ve),J=new DataView(S.buffer),te=new DataView(j.buffer),ie=new DataView($.buffer),he=!1,be=0;be<de;be++){for(var we=be*I,xe=0;xe<me;xe++)Bb(te,km(J,we+xe,k),be*me+xe,k);var Ce=km(J,we+me,k);Ce<(1<<k)-1&&(he=!0),Bb(ie,Ce,1*be,k)}return{colorSpace:Y,colorsPerPixel:ce,sMaskBitsPerComponent:he?k:void 0,colorBytes:j,alphaBytes:$,needSMask:he}}(s):function(P){var S=P.data,D=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:S instanceof Uint16Array?function(T){for(var I=T.length,k=new Uint8Array(2*I),Y=new DataView(k.buffer,k.byteOffset,k.byteLength),ce=0;ce<I;ce++)Y.setUint16(2*ce,T[ce],!1);return k}(S):S,needSMask:!1}}(s);var m,y,f,A=i,_=A.colorSpace,E=A.colorsPerPixel,C=A.sMaskBitsPerComponent,F=A.colorBytes,M=A.alphaBytes,z=A.needSMask,ee=A.palette,ne=A.mask,B=null;return r!==Ze.API.image_compression.NONE&&typeof kg=="function"?(B=function(P){var S;switch(P){case Ze.API.image_compression.FAST:S=11;break;case Ze.API.image_compression.MEDIUM:S=13;break;case Ze.API.image_compression.SLOW:S=14;break;default:S=12}return S}(r),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(B," /Colors ").concat(E," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=Ob(F,Math.ceil(o*E*u/8),E,u,r),z&&(f=Ob(M,Math.ceil(o*C/8),1,C,r))):(m=void 0,y=void 0,t=F,z&&(f=M)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:t,index:e,filter:m,decodeParameters:y,transparency:ne,palette:ee,sMask:f,predictor:B,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:C,colorSpace:_}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new hB(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new Rm(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(Ze.API),ds.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ds.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){fn.log("bit decode error:"+n)}},ds.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ds.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ds.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ds.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},ds.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},ds.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ds.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ds.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ds(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Rm(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Ze.API),zb.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new zb(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Rm(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Ze.API),Ze.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],m=r[c+1],y=r[c+2],f=r[c+3];s[a++]=u,s[a++]=m,s[a++]=y,o[l++]=f}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ze.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ic=Ze.API,Pd=ic.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,m=e.doKerning!==!1,y=0,f=t.length,A=0,_=a[0]||l,E=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(y=m&&rn(c[r])==="object"&&!isNaN(parseInt(c[r][A],10))?c[r][A]/u:0,E.push((a[r]||_)/l+y)),A=r;return E},Rb=ic.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ic.processArabic&&(t=ic.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Pd.apply(this,arguments).reduce(function(s,o){return s+o},0)},Lb=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},jb=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,u=[],m=[u],y=n.textIndent||0,f=0,A=0,_=t.split(" "),E=Pd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var C=Array(l).join(" "),F=[];_.map(function(z){(z=z.split(/\s*\n/)).length>1?F=F.concat(z.map(function(ee,ne){return(ne&&ee.length?`
`:"")+ee})):F.push(z[0])}),_=F,l=Rb.apply(this,[C,n])}for(s=0,o=_.length;s<o;s++){var M=0;if(r=_[s],l&&r[0]==`
`&&(r=r.substr(1),M=1),y+f+(A=(i=Pd.apply(this,[r,n])).reduce(function(z,ee){return z+ee},0))>e||M){if(A>e){for(a=Lb.apply(this,[r,i,e-(y+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)m.push([a.shift()]);A=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(z,ee){return z+ee},0)}else u=[r];m.push(u),y=A+l,f=E}else u.push(r),y+=f+A,f=E}return c=l?function(z,ee){return(ee?C:"")+z.join(" ")}:function(z){return z.join(" ")},m.map(c)},ic.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var m=this.internal.getFont(u.fontName,u.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(jb.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(y){return"0x"+parseInt(y,10).toString(16)},a=t.__fontmetrics__.compress=function(y){var f,A,_,E,C=["{"];for(var F in y){if(f=y[F],isNaN(parseInt(F,10))?A="'"+F+"'":(F=parseInt(F,10),A=(A=o(F).slice(2)).slice(0,-1)+i[A.slice(-1)]),typeof f=="number")f<0?(_=o(f).slice(3),E="-"):(_=o(f).slice(2),E=""),_=E+_.slice(0,-1)+i[_.slice(-1)];else{if(rn(f)!=="object")throw new Error("Don't know what to do with value type "+rn(f)+".");_=a(f)}C.push(A+_)}return C.push("}"),C.join("")},l=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,A,_,E,C={},F=1,M=C,z=[],ee="",ne="",B=y.length-1,P=1;P<B;P+=1)(E=y[P])=="'"?f?(_=f.join(""),f=void 0):f=[]:f?f.push(E):E=="{"?(z.push([M,_]),M={},_=void 0):E=="}"?((A=z.pop())[0][A[1]]=M,_=void 0,M=A[0]):E=="-"?F=-1:_===void 0?r.hasOwnProperty(E)?(ee+=r[E],_=parseInt(ee,16)*F,F=1,ee=""):ee+=E:r.hasOwnProperty(E)?(ne+=r[E],M[_]=parseInt(ne,16)*F,F=1,_=void 0,ne=""):ne+=E;return C},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var f=y.font,A=m.Unicode[f.postScriptName];A&&(f.metadata.Unicode={},f.metadata.Unicode.widths=A.widths,f.metadata.Unicode.kerning=A.kerning);var _=u.Unicode[f.postScriptName];_&&(f.metadata.Unicode.encoding=_,f.encoding=_.codePages[0])}])}(Ze.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e($d(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ze),Ze.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw fn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw fn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(yt.canvg?Promise.resolve(yt.canvg):sm(()=>import("./index.es-c2742dc7.js"),["assets/index.es-c2742dc7.js","assets/vendor-c3e71ba4.js","assets/ui-e69f372c.js"])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(u)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},Ze.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Ze.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,m=0;function y(A,_){var E,C=!1;for(E=0;E<A.length;E+=1)A[E]===_&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=a.length;for(m=0;m<f;m+=1)n[a[m]].value=n[a[m]].defaultValue,n[a[m]].explicitSet=!1}if(rn(t)==="object"){for(i in t)if(s=t[i],y(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&y(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,_=[];for(A in n)n[A].explicitSet===!0&&(n[A].type==="name"?_.push("/"+A+" /"+n[A].value):_.push("/"+A+" "+n[A].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Ze.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],m=0,y=s.length;m<y;++m){if(a=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(m),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,m,y;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,y=(a=Object.keys(s).sort(function(f,A){return f-A})).length;m<y;m++)o=a[m],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,y=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",A=0;A<y.length;A++)f+=String.fromCharCode(y[A]);var _=c();u({data:f,addLength1:!0,objectId:_}),l("endobj");var E=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var C=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+hc(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var F=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+hc(a.fontName)),l("/FontDescriptor "+C+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+E+" 0 R"),l("/BaseFont /"+hc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+F+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,y="",f=0;f<m.length;f++)y+=String.fromCharCode(m[f]);var A=c();u({data:y,addLength1:!0,objectId:A}),l("endobj");var _=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var E=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+A+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+hc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var C=0;C<a.metadata.hmtx.widths.length;C++)a.metadata.hmtx.widths[C]=parseInt(a.metadata.hmtx.widths[C]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+hc(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},m=s.mutex||{},y=m.pdfEscape,f=m.activeFontKey,A=m.fonts,_=f,E="",C=0,F="",M=A[_].encoding;if(A[_].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:m};for(F=a,_=f,Array.isArray(a)&&(F=a[0]),C=0;C<F.length;C+=1)A[_].metadata.hasOwnProperty("cmap")&&(o=A[_].metadata.cmap.unicode.codeMap[F[C].charCodeAt(0)]),o||F[C].charCodeAt(0)<256&&A[_].metadata.hasOwnProperty("Unicode")?E+=F[C]:E+="";var z="";return parseInt(_.slice(1))<14||M==="WinAnsiEncoding"?z=y(E,_).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(z=n(E,A[_])),m.isHex=!0,{text:z,x:l,y:c,options:u,mutex:m}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Ze),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ze.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,M=0;this.__bidiEngine__={};var z=function(T){var I=T.charCodeAt(),k=I>>8,Y=_[k];return Y!==void 0?m[256*Y+(255&I)]:k===252||k===253?"AL":C.test(k)?"L":k===8?"R":"N"},ee=function(T){for(var I,k=0;k<T.length;k++){if((I=z(T.charAt(k)))==="L")return!1;if(I==="R")return!0}return!1},ne=function(T,I,k,Y){var ce,de,me,le,ye=I[Y];switch(ye){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"N":case"AN":break;case"EN":F&&(ye="AN");break;case"AL":F=!0,ye="R";break;case"WS":case"BN":ye="N";break;case"CS":Y<1||Y+1>=I.length||(ce=k[Y-1])!=="EN"&&ce!=="AN"||(de=I[Y+1])!=="EN"&&de!=="AN"?ye="N":F&&(de="AN"),ye=de===ce?de:"N";break;case"ES":ye=(ce=Y>0?k[Y-1]:"B")==="EN"&&Y+1<I.length&&I[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&k[Y-1]==="EN"){ye="EN";break}if(F){ye="N";break}for(me=Y+1,le=I.length;me<le&&I[me]==="ET";)me++;ye=me<le&&I[me]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(le=I.length,me=Y+1;me<le&&I[me]==="NSM";)me++;if(me<le){var Re=T[Y],ve=Re>=1425&&Re<=2303||Re===64286;if(ce=I[me],ve&&(ce==="R"||ce==="AL")){ye="R";break}}}ye=Y<1||(ce=I[Y-1])==="B"?"N":k[Y-1];break;case"B":F=!1,i=!0,ye=M;break;case"S":s=!0,ye="N"}return ye},B=function(T,I,k){var Y=T.split("");return k&&P(Y,k,{hiLevel:M}),Y.reverse(),I&&I.reverse(),Y.join("")},P=function(T,I,k){var Y,ce,de,me,le,ye=-1,Re=T.length,ve=0,j=[],$=M?f:y,J=[];for(F=!1,i=!1,s=!1,ce=0;ce<Re;ce++)J[ce]=z(T[ce]);for(de=0;de<Re;de++){if(le=ve,j[de]=ne(T,J,j,de),Y=240&(ve=$[le][A[j[de]]]),ve&=15,I[de]=me=$[ve][5],Y>0)if(Y===16){for(ce=ye;ce<de;ce++)I[ce]=1;ye=-1}else ye=-1;if($[ve][6])ye===-1&&(ye=de);else if(ye>-1){for(ce=ye;ce<de;ce++)I[ce]=me;ye=-1}J[de]==="B"&&(I[de]=0),k.hiLevel|=me}s&&function(te,ie,he){for(var be=0;be<he;be++)if(te[be]==="S"){ie[be]=M;for(var we=be-1;we>=0&&te[we]==="WS";we--)ie[we]=M}}(J,I,Re)},S=function(T,I,k,Y,ce){if(!(ce.hiLevel<T)){if(T===1&&M===1&&!i)return I.reverse(),void(k&&k.reverse());for(var de,me,le,ye,Re=I.length,ve=0;ve<Re;){if(Y[ve]>=T){for(le=ve+1;le<Re&&Y[le]>=T;)le++;for(ye=ve,me=le-1;ye<me;ye++,me--)de=I[ye],I[ye]=I[me],I[me]=de,k&&(de=k[ye],k[ye]=k[me],k[me]=de);ve=le}ve++}}},D=function(T,I,k){var Y=T.split(""),ce={hiLevel:M};return k||(k=[]),P(Y,k,ce),function(de,me,le){if(le.hiLevel!==0&&u)for(var ye,Re=0;Re<de.length;Re++)me[Re]===1&&(ye=E.indexOf(de[Re]))>=0&&(de[Re]=E[ye+1])}(Y,k,ce),S(2,Y,I,k,ce),S(1,Y,I,k,ce),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(T,I,k){if(function(ce,de){if(de)for(var me=0;me<ce.length;me++)de[me]=me;a===void 0&&(a=ee(ce)),c===void 0&&(c=ee(ce))}(T,I),o||!l||c)if(o&&l&&a^c)M=a?1:0,T=B(T,I,k);else if(!o&&l&&c)M=a?1:0,T=D(T,I,k),T=B(T,I);else if(!o||a||l||c){if(o&&!l&&a^c)T=B(T,I),a?(M=0,T=D(T,I,k)):(M=1,T=D(T,I,k),T=B(T,I));else if(o&&a&&!l&&c)M=1,T=D(T,I,k),T=B(T,I);else if(!o&&!l&&a^c){var Y=u;a?(M=1,T=D(T,I,k),M=0,u=!1,T=D(T,I,k),u=Y):(M=0,T=D(T,I,k),T=B(T,I),M=1,u=!1,T=D(T,I,k),u=Y,T=B(T,I))}}else M=0,T=D(T,I,k);else M=a?1:0,T=D(T,I,k);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,c=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ze),Ze.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ua(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new SB(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new dB(this.contents),this.head=new pB(this),this.name=new bB(this),this.cmap=new oT(this),this.toUnicode={},this.hhea=new mB(this),this.maxp=new wB(this),this.hmtx=new _B(this),this.post=new yB(this),this.os2=new gB(this),this.loca=new EB(this),this.glyf=new xB(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var bs,Ua=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),dB=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,u,m,y,f,A,_;for(_ in f=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(f)/l),o=Math.floor(m/l),u=16*f-m,(i=new Ua).writeInt(this.scalarType),i.writeShort(f),i.writeShort(m),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,A=[],n)for(y=n[_],i.writeString(_),i.writeInt(t(y)),i.writeInt(c),i.writeInt(y.length),A=A.concat(y),_==="head"&&(a=c),c+=y.length;c%4;)A.push(0),c++;return i.write(A),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=aT.call(n);n.length%4;)n.push(0);for(s=new Ua(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),fB={}.hasOwnProperty,to=function(t,e){for(var n in e)fB.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};bs=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var pB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,bs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Ua).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),qb=function(){function t(e,n){var r,i,s,o,a,l,c,u,m,y,f,A,_,E,C,F,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),y=f/2,e.pos+=6,s=function(){var z,ee;for(ee=[],l=z=0;0<=y?z<y:z>y;l=0<=y?++z:--z)ee.push(e.readUInt16());return ee}(),e.pos+=2,_=function(){var z,ee;for(ee=[],l=z=0;0<=y?z<y:z>y;l=0<=y?++z:--z)ee.push(e.readUInt16());return ee}(),c=function(){var z,ee;for(ee=[],l=z=0;0<=y?z<y:z>y;l=0<=y?++z:--z)ee.push(e.readUInt16());return ee}(),u=function(){var z,ee;for(ee=[],l=z=0;0<=y?z<y:z>y;l=0<=y?++z:--z)ee.push(e.readUInt16());return ee}(),i=(this.length-e.pos+this.offset)/2,a=function(){var z,ee;for(ee=[],l=z=0;0<=i?z<i:z>i;l=0<=i?++z:--z)ee.push(e.readUInt16());return ee}(),l=C=0,M=s.length;C<M;l=++C)for(E=s[l],r=F=A=_[l];A<=E?F<=E:F>=E;r=A<=E?++F:--F)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-A)-(y-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=m}return t.encode=function(e,n){var r,i,s,o,a,l,c,u,m,y,f,A,_,E,C,F,M,z,ee,ne,B,P,S,D,T,I,k,Y,ce,de,me,le,ye,Re,ve,j,$,J,te,ie,he,be,we,xe,Ce,Me;switch(Y=new Ua,o=Object.keys(e).sort(function(Fe,Xe){return Fe-Xe}),n){case"macroman":for(_=0,E=function(){var Fe=[];for(A=0;A<256;++A)Fe.push(0);return Fe}(),F={0:0},s={},ce=0,ye=o.length;ce<ye;ce++)F[we=e[i=o[ce]]]==null&&(F[we]=++_),s[i]={old:e[i],new:F[e[i]]},E[i]=F[e[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(E),{charMap:s,subtable:Y.data,maxGlyphID:_+1};case"unicode":for(I=[],m=[],M=0,F={},r={},C=c=null,de=0,Re=o.length;de<Re;de++)F[ee=e[i=o[de]]]==null&&(F[ee]=++M),r[i]={old:ee,new:F[ee]},a=F[ee]-i,C!=null&&a===c||(C&&m.push(C),I.push(i),c=a),C=i;for(C&&m.push(C),m.push(65535),I.push(65535),D=2*(S=I.length),P=2*Math.pow(Math.log(S)/Math.LN2,2),y=Math.log(P/2)/Math.LN2,B=2*S-P,l=[],ne=[],f=[],A=me=0,ve=I.length;me<ve;A=++me){if(T=I[A],u=m[A],T===65535){l.push(0),ne.push(0);break}if(T-(k=r[T].new)>=32768)for(l.push(0),ne.push(2*(f.length+S-A)),i=le=T;T<=u?le<=u:le>=u;i=T<=u?++le:--le)f.push(r[i].new);else l.push(k-T),ne.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*S+2*f.length),Y.writeUInt16(0),Y.writeUInt16(D),Y.writeUInt16(P),Y.writeUInt16(y),Y.writeUInt16(B),he=0,j=m.length;he<j;he++)i=m[he],Y.writeUInt16(i);for(Y.writeUInt16(0),be=0,$=I.length;be<$;be++)i=I[be],Y.writeUInt16(i);for(xe=0,J=l.length;xe<J;xe++)a=l[xe],Y.writeUInt16(a);for(Ce=0,te=ne.length;Ce<te;Ce++)z=ne[Ce],Y.writeUInt16(z);for(Me=0,ie=f.length;Me<ie;Me++)_=f[Me],Y.writeUInt16(_);return{charMap:r,subtable:Y.data,maxGlyphID:M+1}}},t}(),oT=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,bs),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new qb(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=qb.encode(e,n),(i=new Ua).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),mB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,bs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),gB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,bs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),yB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,bs),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),vB=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},bB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,bs),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,c,u,m,y;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=u=0,m=r.length;u<m;s=++u)i=r[s],e.pos=i.offset,c=e.readString(i.length),o=new vB(c,i),l[y=i.nameID]==null&&(l[y]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),wB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,bs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),_B=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,bs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,m,y;for(y=[],c=0,u=(m=this.metrics).length;c<u;c++)s=m[c],y.push(s.advance);return y}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),aT=[].slice,xB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,bs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,c,u,m;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new Ua(n.read(i))).readShort(),c=a.readShort(),m=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=o===-1?new TB(a,c,m,l,u):new AB(a,o,c,m,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),AB=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),TB=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Ua(aT.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),EB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return to(t,bs),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),SB=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,u,m,y,f,A,_,E,C;for(i in r=oT.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},C=r.charMap)f[(l=C[i]).old]=l.new;for(A in y=r.maxGlyphID,o)A in f||(f[A]=y++);return u=function(F){var M,z;for(M in z={},F)z[F[M]]=M;return z}(f),m=Object.keys(u).sort(function(F,M){return F-M}),_=function(){var F,M,z;for(z=[],F=0,M=m.length;F<M;F++)a=m[F],z.push(u[a]);return z}(),s=this.font.glyf.encode(o,_,f),c=this.font.loca.encode(s.offsets,_),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();Ze.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const NB=[{numbers:[1,1],traits:["You have strong, natural leadership abilities.","You are decisive and excel at taking charge.","You can have a tendency to be self-focused.","Feelings of anger can arise when plans are disrupted."]},{numbers:[1,2],traits:["You are a natural and inspiring leader.","You possess a deep sense of empathy for others.","There is a potential to be selfish with your focus.","You may be prone to sudden and frequent mood swings."]},{numbers:[1,3],traits:["You have the ability to lead others with your ideas.","You possess a great deal of knowledge on many topics.","At times, you may act in a selfish or self-serving manner.","You might come across as smug or overly self-assured."]},{numbers:[1,4],traits:["You are a very strong and capable leader.","You provide a sense of stability for those around you.","You can sometimes be selfish in pursuing your goals.","There is a tendency to be a little too overconfident."]},{numbers:[1,5],traits:["You lead people effectively through your words.","You are a very gifted and clear communicator.","You may struggle with selfish tendencies at times.","There might be a tendency to be lazy and avoid hard work."]},{numbers:[1,6],traits:["You are a natural leader in your community.","You are a very nurturing and caring individual.","There is a tendency to be focused on your personal needs.","You may have a strong attachment to luxury and comfort."]},{numbers:[1,7],traits:["You have the ability to lead on a spiritual level.","You have a deep and meaningful spiritual side.","It can be a challenge to avoid being self-centered.","You often feel confused when making important decisions."]},{numbers:[1,8],traits:["You are a very powerful and effective leader.","You have a strong sense of personal discipline.","You may sometimes focus heavily on your own ambitions.","There is a potential to be dogmatic or rigid in your views."]},{numbers:[1,9],traits:["You are a leader who inspires others to do good.","You have a deep love and concern for all of humanity.","You might occasionally struggle with selfish impulses.","You have a tendency to experience sudden feelings of anger."]},{numbers:[2,1],traits:["You have a natural ability to understand others.","You possess strong and confident leadership skills.","Your emotional state can be quite changeable.","There might be a tendency to focus on your own needs."]},{numbers:[2,2],traits:["You are a deeply empathetic and intuitive person.","You can sense the feelings of others very easily.","You are prone to frequent and sometimes intense mood swings.","Your emotional state can be highly sensitive and reactive."]},{numbers:[2,3],traits:["You have a strong empathy for what others are thinking.","You have a great capacity for acquiring knowledge.","You may experience sudden and unpredictable mood swings.","There is a potential to appear smug because of your knowledge."]},{numbers:[2,4],traits:["You understand people's need for emotional security.","You have a very steady and stable presence.","Your feelings can sometimes be very up and down.","You might be a little too overconfident in your opinions."]},{numbers:[2,5],traits:["You are very empathetic in your conversations.","You are a naturally skilled and fluid communicator.","Your moods can shift without much warning.","You may have a tendency to be lazy and avoid hard work."]},{numbers:[2,6],traits:["You have a deep, empathetic connection with people.","You are a very nurturing and supportive person.","It is common for you to experience emotional highs and lows.","There can be a strong desire for luxurious living."]},{numbers:[2,7],traits:["You can empathize with others on a spiritual level.","You have a very active and profound spiritual life.","Your moods can be very changeable and hard to predict.","You might often feel confused or uncertain about your path."]},{numbers:[2,8],traits:["You are able to feel and understand what drives people.","You are a very disciplined and focused individual.","You may find that your emotions fluctuate a great deal.","There is a tendency to be rigid or dogmatic in your beliefs."]},{numbers:[2,9],traits:["You have a deep empathy for the struggles of humanity.","You care a great deal about the welfare of others.","Your emotional state can be turbulent and change often.","You are prone to feeling angry when confronted with unfairness."]},{numbers:[3,1],traits:["You are very knowledgeable and well-informed.","You have strong and natural leadership qualities.","You may sometimes come across as being a know-it-all.","There can be a tendency to act in a selfish manner."]},{numbers:[3,2],traits:["You have a great thirst for knowledge and learning.","You are a very empathetic and understanding person.","There is a potential to seem smug about what you know.","You might experience frequent and sudden mood swings."]},{numbers:[3,3],traits:["You possess a deep and extensive base of knowledge.","You are a quick learner who loves to acquire new facts.","You may have a tendency to act overly self-satisfied.","You can sometimes be perceived as smug by other people."]},{numbers:[3,4],traits:["You have a great deal of practical knowledge.","You possess a very stable and grounded nature.","You might sometimes give off an air of being smug.","There is a tendency to be overconfident in your abilities."]},{numbers:[3,5],traits:["You love to share your knowledge with other people.","You are a very skilled and engaging communicator.","You can sometimes appear smug in your conversations.","There might be a tendency to be lazy and avoid effort."]},{numbers:[3,6],traits:["You have a lot of knowledge about how to care for others.","You are a very nurturing and supportive individual.","You can sometimes seem smug about your level of expertise.","You may have a strong desire for luxury and material goods."]},{numbers:[3,7],traits:["You seek knowledge of a deep and spiritual nature.","You have a strong connection to your spiritual side.","You might accidentally come across as smug to others.","You may often feel confused when faced with big decisions."]},{numbers:[3,8],traits:["You have a very structured and disciplined mind.","You acquire knowledge in a very organized way.","There is a potential to be smug about your intelligence.","You may be very dogmatic and rigid in your thinking."]},{numbers:[3,9],traits:["You use your knowledge to think about helping the world.","You have a very strong humanitarian spirit.","You can sometimes be perceived as smug when sharing ideas.","You can get very angry when you see people treated unfairly."]},{numbers:[4,1],traits:["You have a very stable and grounded presence.","You are a natural and effective leader.","You may sometimes be a little too overconfident.","There is a tendency to be selfish with your time and energy."]},{numbers:[4,2],traits:["You provide a sense of stability to those around you.","You are a very empathetic and caring person.","Your confidence can sometimes border on overconfidence.","You may experience sudden and unpredictable mood swings."]},{numbers:[4,3],traits:["You have a very stable approach to learning.","You possess a great deal of practical knowledge.","There is a tendency to be overconfident in what you know.","You may sometimes come across as being smug or superior."]},{numbers:[4,4],traits:["You are an incredibly stable and reliable person.","You provide a rock-solid foundation for others.","You can be too confident and sure of your own way.","There is a resistance to being flexible or trying new things."]},{numbers:[4,5],traits:["You are a very steady and dependable individual.","You are a very clear and effective communicator.","There is a potential to be overconfident in your ideas.","You might have a tendency to be lazy and avoid challenges."]},{numbers:[4,6],traits:["You bring a sense of stability to your relationships.","You are a very nurturing and supportive person.","You can be overconfident in your ability to help others.","You might have a strong desire for material comforts."]},{numbers:[4,7],traits:["You have a very grounded and stable worldview.","You possess a deep and active spiritual side.","You can be overconfident in your personal beliefs.","You may often feel confused about which path to take in life."]},{numbers:[4,8],traits:["You are a pillar of stability and strength.","You are a very disciplined and focused person.","There is a strong tendency to be overconfident in your plans.","You might be very dogmatic and unwilling to change your mind."]},{numbers:[4,9],traits:["You provide a stable foundation for humanitarian work.","You have a deep desire to help people in practical ways.","You may be overconfident in your solutions for problems.","You are prone to feeling powerful anger towards injustice."]},{numbers:[5,1],traits:["You are a very skilled and persuasive communicator.","You have strong and natural leadership abilities.","There might be a tendency to avoid difficult work.","You can sometimes be selfish with your attention and focus."]},{numbers:[5,2],traits:["You excel at communicating with empathy and understanding.","You are very good at sensing the feelings of others.","You may have a habit of being lazy when faced with challenges.","You might experience frequent and unpredictable mood swings."]},{numbers:[5,3],traits:["You are very good at communicating complex ideas.","You have a great deal of knowledge on many subjects.","There is a potential for you to be lazy in your studies.","You might come across as smug in your conversations."]},{numbers:[5,4],traits:["You communicate in a very clear and steady manner.","You have a very stable and grounded personality.","You may have a tendency to be lazy and avoid physical effort.","You can sometimes be perceived as overconfident when you speak."]},{numbers:[5,5],traits:["You are an exceptionally talented communicator.","You love to socialize and connect with other people.","You have a strong tendency to be lazy and procrastinate.","You may have a deep dislike for engaging in hard work."]},{numbers:[5,6],traits:["You are gifted at communicating in a caring way.","You are a very nurturing and supportive individual.","There can be a tendency to be lazy and seek comfort.","You might have a strong attachment to luxury goods."]},{numbers:[5,7],traits:["You enjoy communicating about deep and spiritual topics.","You have a very active and meaningful spiritual life.","You may be lazy when it comes to practical, everyday tasks.","You often feel confused and uncertain about your direction."]},{numbers:[5,8],traits:["You are a very clear and disciplined communicator.","You are very organized and focused in your approach to life.","There is a strong tendency to be lazy and avoid manual labor.","You can be very dogmatic in how you express your opinions."]},{numbers:[5,9],traits:["You use your communication skills to help humanity.","You care deeply about fairness and justice in the world.","You might have a tendency to be lazy in taking action.","You are prone to anger when communicating about injustice."]},{numbers:[6,1],traits:["You are a very nurturing and caring person.","You have strong and effective leadership skills.","You may have a strong desire for a luxurious lifestyle.","There is a tendency to be selfish in getting what you want."]},{numbers:[6,2],traits:["You are a natural nurturer and a deeply empathetic soul.","You are very good at understanding the feelings of others.","You have a great love for luxury and comfortable surroundings.","You may be prone to frequent and sudden mood swings."]},{numbers:[6,3],traits:["You love to nurture others by sharing your knowledge.","You have a great deal of wisdom to offer people.","There can be a strong focus on acquiring luxury items.","You might sometimes come across as being smug or superior."]},{numbers:[6,4],traits:["You provide a very stable and nurturing environment.","You are a very grounded and reliable person.","You may have a weakness for luxury and expensive things.","You can sometimes be perceived as being overconfident."]},{numbers:[6,5],traits:["You show your nurturing side through your communication.","You are a very clear and effective speaker.","There can be a strong desire for a life of luxury.","You might have a tendency to be lazy and avoid effort."]},{numbers:[6,6],traits:["You are an exceptionally nurturing and caring person.","You find great joy in supporting and looking after others.","You may have a very strong attachment to luxury.","You might neglect practical needs in favor of comfort."]},{numbers:[6,7],traits:["You have a gift for nurturing people's spiritual growth.","You have a deep and profound spiritual connection.","You might have a very strong desire for luxury goods.","You may often feel confused about your life's purpose."]},{numbers:[6,8],traits:["You are very disciplined in your nurturing approach.","You are a very focused and organized individual.","There can be a powerful focus on achieving a luxurious life.","You may be very dogmatic in your views on how to care for others."]},{numbers:[6,9],traits:["You feel a deep need to nurture and care for humanity.","You have a very strong sense of compassion for everyone.","You might find yourself very drawn to a luxurious lifestyle.","You are prone to anger when you see people being mistreated."]},{numbers:[7,1],traits:["You have a deep and active spiritual side.","You are a natural and inspiring leader.","You often feel confused and uncertain about your decisions.","There can be a tendency to be selfish with your time."]},{numbers:[7,2],traits:["You are a very spiritual and empathetic person.","You are gifted at understanding the feelings of others.","You may often find yourself feeling confused and lost.","You might be prone to frequent and unpredictable mood swings."]},{numbers:[7,3],traits:["You have a strong connection to spiritual knowledge.","You have a great love for learning and acquiring wisdom.","It is common for you to feel confused about complex ideas.","You might accidentally come across as smug to other people."]},{numbers:[7,4],traits:["You have a very grounded and stable spiritual practice.","You are a very reliable and dependable person.","You often feel a sense of confusion about the future.","There is a tendency to be overconfident in your beliefs."]},{numbers:[7,5],traits:["You enjoy talking about spiritual and meaningful topics.","You are a very clear and engaging communicator.","You may often feel confused and directionless in life.","There might be a tendency to be lazy and avoid responsibility."]},{numbers:[7,6],traits:["You have a very deep and nurturing spiritual side.","You are a very caring and supportive person.","It is a big challenge for you to overcome feelings of confusion.","You may have a strong desire for a luxurious lifestyle."]},{numbers:[7,7],traits:["You are a deeply spiritual person who seeks the truth.","You have a strong connection to the mystical side of life.","You may live in a frequent state of confusion and uncertainty.","It is very hard for you to make a firm and final decision."]},{numbers:[7,8],traits:["You have a very disciplined approach to your spiritual life.","You are a very focused and organized individual.","You often feel confused despite your organized mind.","There is a potential to be dogmatic about your spiritual views."]},{numbers:[7,9],traits:["You have a spiritual connection to all of humanity.","You have a deep desire to help and serve other people.","You can feel very confused about how to best help the world.","You are prone to anger when you see injustice and suffering."]},{numbers:[8,1],traits:["You are a very disciplined and focused individual.","You are a strong and effective leader.","You might be very dogmatic and rigid in your opinions.","There can be a tendency to act in a selfish manner."]},{numbers:[8,2],traits:["You have the discipline to understand deep emotions.","You are a very empathetic and caring person.","There is a strong tendency to be dogmatic in your beliefs.","You may be prone to frequent and unpredictable mood swings."]},{numbers:[8,3],traits:["You are very disciplined in your pursuit of knowledge.","You are a very intelligent and well-read person.","You can be very dogmatic about the facts you have learned.","You may sometimes come across as being smug or superior."]},{numbers:[8,4],traits:["You have a very disciplined and stable character.","You are a very reliable and grounded individual.","You can be extremely dogmatic and inflexible.","There is a tendency to be overconfident in your methods."]},{numbers:[8,5],traits:["You are a very disciplined and clear communicator.","You are very good at expressing your thoughts.","You may be very dogmatic when you are in a debate.","There might be a tendency to be lazy and avoid physical work."]},{numbers:[8,6],traits:["You are very disciplined in how you care for others.","You are a very nurturing and supportive person.","You can be dogmatic about the 'right' way to help people.","You may have a very strong desire for a luxurious lifestyle."]},{numbers:[8,7],traits:["You have a very disciplined spiritual practice.","You are a deeply spiritual and thoughtful person.","You can be very dogmatic about your spiritual beliefs.","You may often feel confused despite your disciplined mind."]},{numbers:[8,8],traits:["You possess an exceptional amount of self-discipline.","You are a very focused and highly organized person.","You can be extremely dogmatic and rigid in your thinking.","There is a strong resistance to being flexible or changing your mind."]},{numbers:[8,9],traits:["You are very disciplined in your efforts to help others.","You have a deep desire to serve humanity.","You can be very dogmatic about your vision for a better world.","You feel very strong anger when you see systemic injustice."]},{numbers:[9,1],traits:["You have a deep love and concern for humanity.","You are a natural and inspiring leader.","You are prone to feelings of anger and frustration.","There can be a tendency to be selfish with your energy."]},{numbers:[9,2],traits:["You have a humanitarian spirit and a deep sense of empathy.","You can easily understand the feelings of other people.","You can be quick to anger, especially about unfairness.","You may be prone to frequent and intense mood swings."]},{numbers:[9,3],traits:["You are driven to use your knowledge to help humanity.","You are a very intelligent and well-informed person.","Feelings of anger can arise easily for you.","You might sometimes come across as being a smug know-it-all."]},{numbers:[9,4],traits:["You have a stable and practical approach to helping people.","You are a very reliable and grounded individual.","You have a tendency to become angry at instability.","You may be overconfident in your plans to help society."]},{numbers:[9,5],traits:["You love to communicate about humanitarian causes.","You are a very clear and persuasive speaker.","You can become very angry and argumentative in discussions.","There might be a tendency to be lazy about taking action."]},{numbers:[9,6],traits:["You have a deep, nurturing love for all of humanity.","You are a very caring and supportive person.","You are prone to anger when you see a lack of care in the world.","You might have a strong desire for luxury and comfort."]},{numbers:[9,7],traits:["You have a spiritual connection to all of humanity.","You are a very deep and thoughtful individual.","You can feel a lot of anger about the state of the world.","You may often feel confused about the best way to help others."]},{numbers:[9,8],traits:["You want to help humanity in a disciplined way.","You are a very focused and organized person.","You are prone to anger at the lack of order and justice.","You can be very dogmatic in your approach to social change."]},{numbers:[9,9],traits:["You have an immense, all-encompassing love for humanity.","You are a true humanitarian with a powerful vision.","You can be overwhelmed by powerful feelings of anger.","Witnessing any kind of suffering deeply affects you."]}],Hb={A:1,B:2,C:3,D:4,E:5,F:8,G:3,H:5,I:1,J:1,K:2,L:3,M:4,N:5,O:7,P:8,Q:1,R:2,S:3,T:4,U:6,V:6,W:6,X:5,Y:1,Z:7},IB={1:{compatible:[1,2,3,4,5,6,7,9],description:"1 works best with 8"},2:{compatible:[],description:"2 doesn't have compatible numbers"},3:{compatible:[],description:"3 doesn't have compatible numbers"},4:{compatible:[],description:"4 doesn't have compatible numbers"},5:{compatible:[1,2,3,4,5,6,7,8,9],description:"5 works with all numbers"},6:{compatible:[1,2,4,5,6,7,8],description:"6 doesnot compatible with 3 and 9"},7:{compatible:[],description:"7 doesn't have compatible numbers"},8:{compatible:[],description:"8 doesn't have compatible numbers"},9:{compatible:[],description:"9 doesn't have compatible numbers"},16:{compatible:[1,2,3,4,5,6,7,8,9],description:"16 works with all numbers"},22:{compatible:[1,3,5,6,7],description:"22 works worst with 2, 4, 8, and 9"},25:{compatible:[1,2,3,4,5,6,7,8,9],description:"25 works with all numbers"}},PB=t=>{if(!t||typeof t!="string")return 0;let e=0;for(const n of t.toUpperCase())Hb[n]&&(e+=Hb[n]);for(;e>9;)e=e.toString().split("").reduce((n,r)=>n+parseInt(r),0);return e},CB=(t,e)=>{if(!t||!e||t===0||e===0)return{compatible:!1,nameValue:t||0,description:"Unable to calculate compatibility - please check your name and birth date"};const n=IB[t]||{compatible:[],description:`No specific compatibility rules for ${t}`},r=n.compatible.length===0?!1:n.compatible.includes(e);return{compatible:r,nameValue:t,description:r?`Your name number ${t} is compatible with your birth number ${e}!`:`Your name number ${t} is not compatible with your birth number ${e}. ${n.description}`}},kB=t=>{if(!t||typeof t!="string")return{firstNum:1,secondNum:1};try{const[e,n,r]=t.split("-").map(Number);if(isNaN(e)||isNaN(n)||isNaN(r))return{firstNum:1,secondNum:1};let i=r;for(;i>9;)i=i.toString().split("").reduce((a,l)=>a+parseInt(l),0);let o=t.replace(/\D/g,"").split("").map(Number).reduce((a,l)=>a+l,0);for(;o>9;)o=o.toString().split("").reduce((a,l)=>a+parseInt(l),0);return{firstNum:Math.max(1,Math.min(9,i)),secondNum:Math.max(1,Math.min(9,o))}}catch(e){return console.error("Calculation error:",e),{firstNum:1,secondNum:1}}},RB=(t,e)=>{try{const n=NB.find(r=>r.numbers[0]===t&&r.numbers[1]===e);return n?n.traits:["You have unique leadership qualities that inspire others","You possess special talents that make you stand out","Sometimes you need to work on balancing your strong personality","Your unique combination requires patience to fully develop"]}catch(n){return console.error("Traits error:",n),["You have special qualities that make you unique","Your personality has wonderful potential for growth","Like everyone, you have areas that need gentle attention","Your journey of self-discovery is ongoing and valuable"]}},LB=t=>{if(!t)return 0;const e=new Date().getFullYear(),[n,r,i]=t.split("-").map(Number);let s=i+r+e;for(;s>9;)s=s.toString().split("").reduce((o,a)=>o+parseInt(a),0);return s},jB=(t,e)=>{if(!t||!e||t<1||t>9||e<1||e>9)return{percentage:50,description:"Neutral year with mixed experiences"};const n={1:{8:40},2:{8:40,4:50},3:{6:18},4:{2:50},6:{3:18},8:{1:40,2:40}};if(n[e]&&n[e][t]){const i=n[e][t],s=r[t]||{percentage:50,description:"Neutral year with mixed experiences"};return{percentage:i,description:s.description}}const r={1:{percentage:90,description:"This is a fresh start year full of new opportunities. Take initiative on projects you've been putting off - this is the perfect time to begin. Your leadership skills will shine if you step forward confidently."},2:{percentage:60,description:"A sensitive year where decisions feel difficult. You may second-guess yourself often. When confused, pause and reflect before choosing - don't force answers immediately. Relationships need extra patience this year."},3:{percentage:65,description:"You'll face more obstacles than usual this year. When problems arise, tackle them one at a time instead of feeling overwhelmed. Creative solutions work best - think outside the box when stuck."},4:{percentage:70,description:"Progress comes slowly but surely this year. Focus on doing small, consistent actions rather than expecting quick results. Building strong foundations now will help you in future years."},5:{percentage:95,description:"This is your most fortunate year with excellent opportunities. Stay alert for lucky breaks and don't hesitate to take calculated risks. Positive changes happen easily - go with the flow but stay grounded."},6:{percentage:85,description:"Your choices determine everything this year. Think carefully before deciding, as both good and bad options have stronger consequences. Choose wisely - your decisions create lasting effects."},7:{percentage:55,description:"Be extra cautious this year as deception is more likely. Double-check all information and agreements. If something seems too good to be true, it probably is - listen to your gut feelings."},8:{percentage:50,description:"A year requiring much effort for gradual results. Don't get discouraged by slow progress - keep working steadily. Your persistence will eventually be rewarded, even if it takes time."},9:{percentage:20,description:"This challenging year tests your resilience. When facing difficulties, focus on basic needs first - don't overwhelm yourself. Remember tough times are temporary and make you stronger."}};return r[t]||{percentage:50,description:"Neutral year with mixed experiences"}},OB=({percentage:t})=>{const[e,n]=Z.useState(0),i=(l=>l<=40?{start:"#fca5a5",end:"#ef4444",text:"#b91c1c"}:l<=70?{start:"#fb923c",end:"#ff6b35",text:"#c2410c"}:{start:"#86efac",end:"#22c55e",text:"#15803d"})(t);Z.useEffect(()=>{const c=Date.now(),u=()=>{const m=Date.now()-c,y=Math.min(m/2e3,1);n(Math.floor(y*t)),y<1&&requestAnimationFrame(u)};requestAnimationFrame(u)},[t]);const s=40,o=2*Math.PI*s,a=o-e/100*o;return g.jsx("div",{className:"relative w-36 h-36 mx-auto mb-4",children:g.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[g.jsx("circle",{cx:"50",cy:"50",r:s,fill:"none",stroke:"#e2e8f0",strokeWidth:"20"}),g.jsx("defs",{children:g.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[g.jsx("stop",{offset:"0%",stopColor:i.start}),g.jsx("stop",{offset:"100%",stopColor:i.end})]})}),g.jsx("circle",{cx:"50",cy:"50",r:s,fill:"none",stroke:"url(#progressGradient)",strokeWidth:"15",strokeLinecap:"round",strokeDasharray:o,strokeDashoffset:a,transform:"rotate(-90 50 50)",style:{transition:"stroke-dashoffset 0.5s ease-out"}}),g.jsxs("text",{x:"50",y:"50",textAnchor:"middle",dominantBaseline:"middle",fontSize:"18",fontWeight:"bold",fill:i.text,children:[e,"%"]})]})})},DB=t=>{if(!t||!Array.isArray(t))return null;const e=t.slice(0,2),n=t.slice(2,4);return g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border-l-4 border-green-400",children:[g.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Positives:"}),g.jsx("ul",{className:"list-disc pl-5 space-y-1",children:e.map((r,i)=>g.jsx("li",{className:"text-green-700",children:r},i))})]}),g.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border-l-4 border-orange-400",children:[g.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:" Negatives:"}),g.jsx("ul",{className:"list-disc pl-5 space-y-1",children:n.map((r,i)=>g.jsx("li",{className:"text-orange-700",children:r},i))})]})]})},MB=({formData:t={},onReset:e=()=>{}})=>{const[n,r]=Z.useState(!1),[i,s]=Z.useState(!1),{firstNum:o,secondNum:a}=kB(t==null?void 0:t.birthDate),l=RB(o,a),c=PB(t==null?void 0:t.name),u=CB(c,o),m=LB(t==null?void 0:t.birthDate),y=jB(m,o);return t!=null&&t.birthDate?g.jsxs(_t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6 max-w-3xl mx-auto",children:[g.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-center text-orange-600 mb-3",children:"Your Numerology Profile"}),g.jsxs("div",{className:"text-center mb-4",children:[g.jsxs("p",{className:"text-gray-600",children:["For: ",g.jsx("span",{className:"font-medium text-orange-600",children:(t==null?void 0:t.name)||"Unknown"})]}),g.jsxs("p",{className:"text-gray-600",children:["Born: ",g.jsx("span",{className:"font-medium text-orange-600",children:new Date(t.birthDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),(t==null?void 0:t.name)&&g.jsxs("div",{className:`flex items-center justify-center mb-2 ${u.compatible?"text-green-600":"text-red-600"}`,children:[g.jsx("span",{className:"text-xl mr-2",children:u.compatible?"":""}),g.jsx("span",{className:"font-medium",children:u.compatible?"Your name value is compatible with you":"Your name value is not compatible with you"})]}),(t==null?void 0:t.name)&&!u.compatible&&g.jsx("div",{className:"text-center mb-4",children:g.jsxs(Io,{children:[g.jsx(Vc,{asChild:!0,children:g.jsx(Gt,{className:"bg-orange-500 hover:bg-orange-600 text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105",children:"Book Consultation for Name Correction"})}),g.jsxs(Gs,{className:"rounded-lg max-w-[90vw] sm:max-w-md",children:[g.jsxs(Ks,{children:[g.jsx(Xs,{className:"text-xl font-bold text-orange-600",children:"Name Correction Consultation"}),g.jsx(Js,{className:"text-orange-500",children:"Our experts will analyze your name and suggest improvements for better compatibility"})]}),g.jsx(Ia,{onSuccess:()=>r(!1),defaultName:(t==null?void 0:t.name)||"",defaultBirthDate:(t==null?void 0:t.birthDate)||"",isNameCorrection:!0})]})]})}),g.jsxs("div",{className:"bg-orange-50 rounded-lg p-5 border border-orange-100",children:[g.jsx("h3",{className:"font-semibold text-lg mb-3 text-orange-600",children:"Your Personality Traits:"}),DB(l)]}),g.jsxs("div",{className:"bg-slate-50 rounded-lg p-5 border border-slate-100 mt-4",children:[g.jsxs("h3",{className:"font-semibold text-lg mb-3 text-slate-600 text-center",children:["Your ",new Date().getFullYear()," Fortune Meter"]}),g.jsx(OB,{percentage:y.percentage}),g.jsx("p",{className:"text-center text-slate-700 font-medium mt-4",children:y.description})]}),g.jsx("div",{className:"mt-4 p-3 bg-orange-50 border-l-4 border-orange-400 rounded",children:g.jsxs("p",{className:"text-sm text-orange-700",children:[g.jsx("span",{className:"font-semibold",children:"Note:"})," This analysis considers basic factors only. For complete accuracy, book an appointment with our experts."]})})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[g.jsx("h3",{className:"text-xl font-semibold text-center text-orange-600 mb-3",children:"Want Deeper Insights?"}),g.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[g.jsx(Gt,{onClick:e,variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50",children:"New Analysis"}),g.jsx(Gt,{className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white transition-transform duration-300 ease-in-out hover:scale-105",onClick:()=>{const f=new Ze,A=f.internal.pageSize.getWidth(),_=15,E=A-_*2,C=[249,115,22],F=[194,65,12],M=[34,197,94],z=[239,68,68],ee=[100,116,139];f.setFillColor(...C),f.rect(0,0,A,35,"F"),f.setTextColor(255,255,255),f.setFontSize(20),f.setFont("helvetica","bold"),f.text("NumaVaastu",A/2,14,{align:"center"}),f.setFontSize(8),f.setFont("helvetica","normal"),f.text("Ancient Wisdom for Modern Transformation",A/2,21,{align:"center"}),f.setFontSize(11),f.setFont("helvetica","bold"),f.text("Numerology Report",A/2,30,{align:"center"});let ne=42;f.setFillColor(255,247,237),f.roundedRect(_,ne,E,20,3,3,"F"),f.setTextColor(...F),f.setFontSize(13),f.setFont("helvetica","bold");const B=((t==null?void 0:t.name)||"Guest").length>35?((t==null?void 0:t.name)||"Guest").substring(0,35)+"...":(t==null?void 0:t.name)||"Guest";f.text(B,_+6,ne+9),f.setTextColor(...ee),f.setFontSize(8),f.setFont("helvetica","normal");const P="Date of Birth: "+new Date(t==null?void 0:t.birthDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"});if(f.text(P,_+6,ne+16),ne+=26,t!=null&&t.name){const T=u.compatible;f.setFillColor(...T?[220,252,231]:[254,226,226]),f.roundedRect(_,ne,E,12,2,2,"F"),f.setTextColor(...T?M:z),f.setFontSize(9),f.setFont("helvetica","bold");const I=T?" Your name is compatible with your birth energy":" Your name needs correction for better alignment";f.text(I,A/2,ne+8,{align:"center"}),ne+=18}f.setTextColor(...F),f.setFontSize(11),f.setFont("helvetica","bold"),f.text("Personality Analysis",_,ne+5),f.setDrawColor(...C),f.setLineWidth(.5),f.line(_,ne+8,A-_,ne+8),ne+=14,l.forEach((T,I)=>{const k=I<2,Y=f.splitTextToSize(T,E-12),ce=Math.max(10,Y.length*5+5);f.setFillColor(...k?[240,253,244]:[254,242,242]),f.roundedRect(_,ne,E,ce,2,2,"F"),f.setDrawColor(...k?M:z),f.setLineWidth(2),f.line(_,ne,_,ne+ce),f.setTextColor(...k?[22,101,52]:[153,27,27]),f.setFontSize(8),f.setFont("helvetica","normal"),f.text(Y,_+5,ne+6),ne+=ce+3}),ne+=5,f.setTextColor(...F),f.setFontSize(11),f.setFont("helvetica","bold"),f.text(new Date().getFullYear()+" Fortune Forecast",_,ne+5),f.setDrawColor(...C),f.line(_,ne+8,A-_,ne+8),ne+=14,f.setFillColor(254,243,199),f.roundedRect(_,ne,E,38,3,3,"F"),f.setTextColor(...C),f.setFontSize(28),f.setFont("helvetica","bold"),f.text(y.percentage+"%",A/2,ne+14,{align:"center"}),f.setFontSize(7),f.setFont("helvetica","normal"),f.text("Fortune Score",A/2,ne+20,{align:"center"}),f.setTextColor(146,64,14),f.setFontSize(7),f.setFont("helvetica","normal");const D=f.splitTextToSize(y.description,E-16).slice(0,3);f.text(D,A/2,ne+27,{align:"center",maxWidth:E-16}),ne+=45,f.setFillColor(248,250,252),f.roundedRect(_,ne,E,18,2,2,"F"),f.setTextColor(...ee),f.setFontSize(7),f.setFont("helvetica","normal"),f.text("For detailed analysis with remedies and personalized guidance, book a consultation.",_+4,ne+6),f.text("Contact: +91 96508 81509 | vaastuguru12@gmail.com",_+4,ne+12),f.setFillColor(28,25,23),f.rect(0,280,A,17,"F"),f.setTextColor(...C),f.setFontSize(9),f.setFont("helvetica","bold"),f.text("NumaVaastu",A/2,287,{align:"center"}),f.setTextColor(168,162,158),f.setFontSize(6),f.setFont("helvetica","normal"),f.text("Generated: "+new Date().toLocaleDateString("en-IN")+" | Ancient Wisdom for Modern Transformation",A/2,293,{align:"center"}),f.save("NumaVaastu_Report_"+((t==null?void 0:t.name)||"Guest").replace(/\s+/g,"_")+".pdf")},children:" Generate Report"}),g.jsx(Gt,{className:"bg-orange-500 hover:bg-orange-600 text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105",onClick:()=>r(!0),children:"Full Report"})]})]}),g.jsx(Io,{open:n,onOpenChange:r,children:g.jsxs(Gs,{className:"rounded-lg max-w-[90vw] sm:max-w-md",children:[g.jsxs(Ks,{children:[g.jsx(Xs,{className:"text-xl font-bold text-orange-600",children:"Complete Numerology Reading"}),g.jsx(Js,{className:"text-orange-500",children:"Includes detailed analysis of your core numbers and cycles"})]}),g.jsx(Ia,{onSuccess:()=>r(!1),defaultName:(t==null?void 0:t.name)||"",defaultBirthDate:(t==null?void 0:t.birthDate)||""})]})}),g.jsx(Io,{open:i,onOpenChange:s,children:g.jsxs(Gs,{className:"rounded-lg max-w-[90vw] sm:max-w-md",children:[g.jsxs(Ks,{children:[g.jsx(Xs,{className:"text-xl font-bold text-orange-600",children:"Name Correction Consultation"}),g.jsx(Js,{className:"text-orange-500",children:"Our experts will analyze your name and suggest improvements for better compatibility"})]}),g.jsx(Ia,{onSuccess:()=>s(!1),defaultName:(t==null?void 0:t.name)||"",defaultBirthDate:(t==null?void 0:t.birthDate)||"",isNameCorrection:!0})]})})]}):g.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[g.jsx("h3",{className:"text-xl font-semibold text-red-500 mb-4",children:"Birth Date Required"}),g.jsx(Gt,{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Enter Birth Date"})]})},FB=()=>{const[t,e]=Z.useState({name:"",birthDate:""}),[n,r]=Z.useState(null),{isLoaded:i,isSignedIn:s,user:o}=Rl(),a=()=>{r(null),e({name:"",birthDate:""})};return i?g.jsxs(g.Fragment,{children:[g.jsxs(Al,{children:[g.jsx("title",{children:"Numerology Calculator - Get Your Personal Reading | NumaVaastu"}),g.jsx("meta",{name:"description",content:"Calculate your life path, destiny, and soul urge numbers with our advanced numerology calculator. Get personalized insights based on your name and birth date."})]}),g.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 pb-8",children:g.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[g.jsxs(_t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-4 sm:mb-8",children:[g.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white text-shadow mb-2 sm:mb-4",children:["Numerology ",g.jsx("span",{className:"text-black",children:"Calculator"})]}),g.jsx("p",{className:"text-sm sm:text-lg md:text-xl text-white max-w-3xl mx-auto px-2",children:"Unlock your life's blueprint with our numerology calculator: reveals personality traits, fortune potential, and name compatibility."})]}),n?g.jsx(MB,{results:n,formData:t,onReset:a}):g.jsx(AM,{user:o,isSignedIn:s,formData:t,setFormData:e,setResults:r})]})})]}):g.jsx(Fh,{})},VB=()=>{const[t,e]=Z.useState("color"),[n,r]=Z.useState(!1),{isSignedIn:i,user:s,isLoaded:o}=Rl(),a=qa(),l=[{color:"Red",meaning:"Energy & Passion",description:"Stimulates vitality, increases circulation, and boosts confidence.",hex:"#f87171"},{color:"Orange",meaning:"Creativity & Joy",description:"Enhances social interaction, stimulates creativity, and boosts mood.",hex:"#fb923c"},{color:"Blue",meaning:"Calm & Clarity",description:"Promotes peace, reduces stress, and enhances communication.",hex:"#60a5fa"},{color:"Green",meaning:"Balance & Healing",description:"Supports emotional balance, harmony, and rejuvenation.",hex:"#34d399"},{color:"Orange",meaning:"Joy & Intellect",description:"Stimulates mental clarity, positivity, and learning.",hex:"#ff6b35"},{color:"Purple",meaning:"Spiritual Insight",description:"Encourages meditation, intuition, and deeper wisdom.",hex:"#c084fc"}],c=[{use:"Meditation Aid",description:"Enhances focus and spiritual connection when meditating under pyramids.",icon:""},{use:"Energy Balancing",description:"Used to align chakras and balance subtle energies.",icon:""},{use:"Vaastu Remedies",description:"Pyramids neutralize negative energy in homes and workspaces.",icon:""},{use:"Healing Amplifier",description:"Placed under water or food, pyramids enhance their positive properties.",icon:""}];return o?g.jsxs(g.Fragment,{children:[g.jsxs(Al,{children:[g.jsx("title",{children:"Therapies - Color & Pyramid | NumaVaastu"}),g.jsx("meta",{name:"description",content:"Explore Color Therapy and Pyramid Therapy to balance your energies and enhance well-being through ancient practices."})]}),g.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 pb-8",children:g.jsxs("div",{className:"container mx-auto px-4",children:[g.jsxs(_t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-6 sm:mb-10",children:[g.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-7xl font-bold text-white text-shadow mb-2 sm:mb-4",children:["Explore ",g.jsx("span",{className:"text-black",children:"Healing Therapies"})]}),g.jsx("p",{className:"text-sm sm:text-lg text-white max-w-3xl mx-auto px-2",children:"Discover ancient therapeutic practices to harmonize your energy"})]}),g.jsx(_t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex justify-center mb-6 sm:mb-10",children:g.jsxs("div",{className:"bg-white rounded-2xl p-2 shadow-lg",children:[g.jsxs("button",{onClick:()=>e("color"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="color"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[g.jsx(Fw,{className:"inline-block w-5 h-5 mr-2"}),"Color"]}),g.jsxs("button",{onClick:()=>e("pyramid"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="pyramid"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[g.jsx(Bw,{className:"inline-block w-5 h-5 mr-2"}),"Pyramid"]})]})}),t==="color"&&g.jsxs(_t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[g.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:" What is Color Therapy?"}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-700 mb-4",children:"Color Therapy (Chromotherapy) is the holistic use of color frequencies to balance physical, emotional, and spiritual well-being. Each color emits a specific vibration that can positively affect the human body and mind."}),g.jsx("p",{className:"text-gray-700 mb-6",children:"It helps you with:"}),g.jsxs("ul",{className:"space-y-3 text-gray-700",children:[g.jsxs("li",{className:"flex items-start",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("strong",{className:"text-orange-600",children:"Emotional Healing"})," - Soothes stress, anxiety, and emotional imbalances using calming colors."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("strong",{className:"text-orange-600",children:"Energy Rejuvenation"})," - Stimulates energy levels and vitality through warm, energizing hues."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("strong",{className:"text-orange-600",children:"Chakra Alignment"})," - Uses specific colors to balance and harmonize the energy centers."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("strong",{className:"text-orange-600",children:"Mental Clarity"})," - Enhances focus and mood by influencing brainwave activity."]})]})]})]}),g.jsx("div",{className:"text-center",children:g.jsx("img",{src:"https://media.istockphoto.com/id/1027020366/vector/human-mind-brain-spirit-energy-connect-to-the-universe-power-abstract-art-watercolor.jpg?s=612x612&w=0&k=20&c=-BW7ZMgDAQvFk4hSLVH_3o5ejQIVNYQpvnWDHxgswyk=",alt:"Color Therapy Illustration",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg"})})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[g.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Color Meanings & Benefits"}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((u,m)=>g.jsxs(_t.div,{className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",style:{borderColor:u.hex},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:m*.1},children:[g.jsxs("div",{className:"text-center mb-4",children:[g.jsx("div",{className:"text-3xl font-bold",style:{color:u.hex},children:u.color}),g.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:u.meaning})]}),g.jsx("p",{className:"text-gray-600 text-sm text-center",children:u.description})]},m))})]})]}),t==="pyramid"&&g.jsxs(_t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[g.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:" What is Pyramid Therapy?"}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-700 mb-4",children:"Pyramid Therapy utilizes the sacred geometry of pyramids to harness cosmic energy for healing and personal transformation. The structure of a pyramid amplifies and balances subtle energies."}),g.jsx("p",{className:"text-gray-700 mb-6",children:"It supports you through:"}),g.jsxs("ul",{className:"space-y-3 text-gray-700",children:[g.jsxs("li",{className:"flex items-start",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("strong",{className:"text-orange-600",children:"Meditative Enhancement"})," - Pyramids deepen your meditative state by aligning inner frequencies."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("strong",{className:"text-orange-600",children:"Energy Purification"})," - Neutralizes negativity and promotes energetic balance."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("strong",{className:"text-orange-600",children:"Space Cleansing"})," - Improves Vaastu by correcting energy distortions in your environment."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx(gr,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("strong",{className:"text-orange-600",children:"Healing Acceleration"})," - Elevates the vibrational quality of food, water, and surroundings."]})]})]})]}),g.jsx("div",{className:"text-center",children:g.jsx("img",{src:"https://dailygalaxy.com/wp-content/uploads/2025/04/The-Great-Pyramid-of-Giza-Has-MORE-Than-Four-Sides.jpg",alt:"Pyramid Therapy Illustration",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg"})})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[g.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Pyramid Applications"}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((u,m)=>g.jsxs(_t.div,{className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:m*.1},children:[g.jsxs("div",{className:"text-center mb-4",children:[g.jsx("div",{className:"text-3xl mb-2",children:u.icon}),g.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:u.use})]}),g.jsx("p",{className:"text-sm text-gray-600 text-center",children:u.description})]},m))})]})]}),g.jsx(_t.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mt-16",children:g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[g.jsx("h3",{className:"text-2xl font-bold gradient-text mb-4",children:"Want Personalized Therapy Guidance?"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Discover your ideal therapy colors or pyramid placements with our tools"}),g.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[g.jsx(Gt,{asChild:!0,className:"orange-gradient text-white transition-transform duration-300 ease-in-out hover:scale-105 hover:orange-gradient-hover rounded-xl",children:g.jsxs(Vs,{to:"/calculator",children:[g.jsx(xl,{className:"inline-block w-5 h-5 mr-2"})," Try Calculator"]})}),i?g.jsxs(Io,{open:n,onOpenChange:r,children:[g.jsx(Vc,{asChild:!0,children:g.jsx(Gt,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Therapy Session"})}),g.jsxs(Gs,{className:"sm:max-w-[425px]",children:[g.jsxs(Ks,{children:[g.jsx(Xs,{children:"Book a Therapy Session"}),g.jsx(Js,{children:"Fill out the form below and we'll contact you shortly"})]}),g.jsx(Ia,{onSuccess:()=>r(!1)})]})]}):g.jsx(Fs,{mode:"modal",redirectUrl:a.pathname,children:g.jsx(Gt,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Therapy Session"})})]})]})})]})})]}):g.jsx(Fh,{})},BB=[{title:"Numerology",description:"Discover your life path number and understand your core personality traits, strengths, and challenges through the ancient science of numbers.",img:"https://plus.unsplash.com/premium_photo-1717717670034-0d673f50f895?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8bnVtZXJvbG9neXxlbnwwfHwwfHx8MA%3D%3D",icon:g.jsx(xl,{className:"w-5 h-5 sm:w-6 sm:h-6"})},{title:"Name Correction",description:"Enhance your luck and align your name's vibrations with your birth number for better life outcomes and success.",img:"https://plus.unsplash.com/premium_photo-1666739032615-ecbd14dfb543?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8YWxwaGFiZXR8ZW58MHx8MHx8fDA%3D",icon:g.jsx(dN,{className:"w-5 h-5 sm:w-6 sm:h-6"})},{title:"Residential Vaastu",description:"Align your home's energy to bring peace, prosperity, and good health to your family through proper space arrangement.",img:"https://aurorealty.com/blog/wp-content/uploads/2019/10/vastu-shastra-for-home.jpg",icon:g.jsx(Dw,{className:"w-5 h-5 sm:w-6 sm:h-6"})},{title:"Commercial Vaastu",description:"Attract success in business by balancing energies in shops, offices, and workspaces for optimal financial growth.",img:"https://www.vasthusubramanyam.com/wp-content/uploads/2019/09/commercial-e1568478793888.jpg",icon:g.jsx(Ry,{className:"w-5 h-5 sm:w-6 sm:h-6"})},{title:"Industrial Vaastu",description:"Optimize industrial spaces for increased productivity, safety, and positive outcomes through proper energy flow.",img:"https://www.azumuta.com/wp-content/uploads/2024/05/petrochemical-industry-with-twilight-sky-2-1536x1024-1.jpeg",icon:g.jsx(Ry,{className:"w-5 h-5 sm:w-6 sm:h-6"})},{title:"Color Therapy",description:"Use the vibration of colors to heal, balance emotions, and enhance well-being through chromotherapy techniques.",img:"https://www.shutterstock.com/image-illustration/human-spirit-powerful-energy-connect-600nw-1416917957.jpg",icon:g.jsx(Fw,{className:"w-5 h-5 sm:w-6 sm:h-6"})},{title:"Pyramid Therapy",description:"Harness the ancient power of pyramids to neutralize negativity and amplify positivity in your environment.",img:"https://dailygalaxy.com/wp-content/uploads/2025/04/The-Great-Pyramid-of-Giza-Has-MORE-Than-Four-Sides.jpg",icon:g.jsx(Bw,{className:"w-5 h-5 sm:w-6 sm:h-6"})}],UB=Z.memo(({service:t,index:e})=>g.jsx(_t.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:e*.1,ease:"easeOut"},className:"group relative overflow-hidden rounded-xl sm:rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer",children:g.jsxs("div",{className:"h-64 sm:h-72 md:h-80 overflow-hidden relative",children:[g.jsx("img",{src:t.img,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 ease-out group-hover:scale-105",loading:"lazy"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-orange-600/90 via-orange-500/60 to-transparent opacity-70 group-hover:opacity-90 transition-opacity duration-400 ease-out"}),g.jsx("div",{className:"absolute inset-0 p-4 sm:p-5 md:p-6 flex flex-col justify-end text-white",children:g.jsxs(_t.div,{initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.6,delay:e*.1+.2},className:"transform group-hover:-translate-y-2 transition-transform duration-400 ease-out",children:[g.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[g.jsx("div",{className:"bg-white/20 backdrop-blur-md p-2 sm:p-3 rounded-full mr-3 sm:mr-4 group-hover:bg-white/30 transition-colors duration-300 ease-out",children:t.icon}),g.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:t.title})]}),g.jsx("p",{className:"text-white/90 leading-relaxed group-hover:text-white transition-colors duration-300 ease-out text-sm sm:text-base line-clamp-3",children:t.description}),g.jsx(_t.div,{initial:{opacity:0,y:10},className:"mt-3 sm:mt-4 opacity-0 group-hover:opacity-100 transition-all duration-300",children:g.jsxs("div",{className:"inline-flex items-center text-white font-semibold text-sm sm:text-base",children:["Learn More",g.jsx("svg",{className:"ml-2 w-3 h-3 sm:w-4 sm:h-4 transform group-hover:translate-x-1 transition-transform duration-300 ease-out",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})})]})})),zB=()=>{const[t,e]=Z.useState(!1),{isSignedIn:n,isLoaded:r}=Rl(),i=qa();return r?g.jsxs(g.Fragment,{children:[g.jsxs(Al,{children:[g.jsx("title",{children:"Our Services | NumaVaastu - Numerology & Vaastu Consultancy"}),g.jsx("meta",{name:"description",content:"Explore our range of numerology and vaastu services designed to bring balance, prosperity, and harmony to your life."})]}),g.jsxs("div",{className:"min-h-screen",children:[g.jsx("section",{className:"relative px-4 text-center pt-16 sm:pt-20 pb-6 sm:pb-10 flex items-center overflow-hidden",children:g.jsx("div",{className:"container mx-auto max-w-6xl relative z-10",children:g.jsxs(_t.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,ease:"easeOut"},className:"space-y-4 sm:space-y-6",children:[g.jsx(_t.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.2,ease:"easeOut"},children:g.jsxs("div",{className:"inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 bg-white/20 backdrop-blur-md rounded-full border border-white/30 text-white font-medium text-sm sm:text-base mb-4 sm:mb-6",children:[g.jsx("span",{className:"mr-2",children:""}),"What we offer"]})}),g.jsxs(_t.h1,{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold leading-tight",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.3,ease:"easeOut"},children:[g.jsx("span",{className:"text-white",style:{textShadow:"3px 3px 6px rgba(0,0,0,0.4)"},children:"Our "}),g.jsx("span",{className:"text-black",style:{textShadow:"2px 2px 4px rgba(255,255,255,0.5), 0 0 10px rgba(255,255,255,0.3)"},children:"Services"})]}),g.jsx(_t.p,{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-white/95 max-w-4xl mx-auto px-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.5,ease:"easeOut"},style:{textShadow:"1px 1px 3px rgba(0,0,0,0.3)"},children:"Professional numerology and vaastu services to transform your living and working spaces"})]})})}),g.jsxs("section",{className:"py-8 sm:py-12 relative",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-50 via-white to-orange-50"}),g.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[g.jsxs(_t.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-10 sm:mb-16",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-orange-600 to-orange-400 bg-clip-text text-transparent mb-3 sm:mb-4",children:"Transform Your Life"}),g.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto px-2",children:"Choose from our comprehensive range of services designed to bring harmony and prosperity"})]}),g.jsx(_t.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:BB.map((s,o)=>g.jsx(UB,{service:s,index:o},s.title))})]})]}),g.jsx("section",{className:"py-12 sm:py-16",children:g.jsx("div",{className:"container mx-auto px-4 text-center",children:g.jsxs(_t.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"bg-white rounded-xl sm:rounded-2xl p-6 sm:p-8 shadow-lg card-shadow",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-bold gradient-text mb-3 sm:mb-4",children:"Personalized Guidance Available"}),g.jsx("p",{className:"text-gray-600 mb-6 sm:mb-8 max-w-2xl mx-auto text-sm sm:text-base",children:"Our experts provide customized solutions tailored to your specific needs and challenges."}),g.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap justify-center gap-3 sm:gap-4",children:[n?g.jsxs(Io,{open:t,onOpenChange:e,children:[g.jsx(Vc,{asChild:!0,children:g.jsx(Gt,{className:"w-full sm:w-auto hover:bg-white transition-transform duration-300 ease-in-out hover:scale-105 orange-gradient text-white hover:orange-gradient-hover px-6 sm:px-8 py-2.5 sm:py-3 text-base sm:text-lg rounded-xl",children:"Book Consultation"})}),g.jsxs(Gs,{className:"max-w-[95vw] sm:max-w-[425px] mx-2",children:[g.jsxs(Ks,{children:[g.jsx(Xs,{children:"Book a Consultation"}),g.jsx(Js,{children:"Fill out the form below and we'll contact you shortly"})]}),g.jsx(Ia,{onSuccess:()=>e(!1)})]})]}):g.jsx(Fs,{mode:"modal",redirectUrl:i.pathname,children:g.jsx(Gt,{className:"w-full sm:w-auto hover:bg-white hover:text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 orange-gradient text-white hover:orange-gradient-hover px-6 sm:px-8 py-2.5 sm:py-3 text-base sm:text-lg rounded-xl",children:"Book Consultation"})}),g.jsx(Gt,{asChild:!0,variant:"outline",className:"w-full sm:w-auto border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white px-6 sm:px-8 py-2.5 sm:py-3 text-base sm:text-lg rounded-xl hover:bg-white hover:text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105",children:g.jsxs(Vs,{to:"/calculator",children:[g.jsx(xl,{className:"inline-block w-4 h-4 sm:w-5 sm:h-5 mr-2"})," Try Our Analysis Tool"]})})]})]})})})]})]}):g.jsx(Fh,{})},lT=Z.memo(({el:t,index:e})=>g.jsx(_t.div,{className:`absolute ${t.size} ${t.isNumber?"font-bold text-white/40":""}`,style:{left:t.x,filter:t.isNumber?"none":"drop-shadow(0 0 8px rgba(255,255,255,0.2))",willChange:"transform, opacity"},initial:{y:"110vh",opacity:0},animate:{y:"-10vh",opacity:t.isNumber?[0,.4,.4,0]:[0,.5,.5,0]},transition:{duration:t.duration,delay:t.delay,repeat:1/0,ease:"linear"},children:t.emoji},e));lT.displayName="FloatingElement";const qB=()=>{const t=Z.useMemo(()=>[{emoji:"",size:"text-5xl",x:"3%",delay:0,duration:20},{emoji:"",size:"text-4xl",x:"12%",delay:4,duration:24},{emoji:"",size:"text-3xl",x:"22%",delay:8,duration:18},{emoji:"",size:"text-4xl",x:"32%",delay:2,duration:22},{emoji:"",size:"text-3xl",x:"42%",delay:6,duration:19},{emoji:"",size:"text-4xl",x:"52%",delay:10,duration:23},{emoji:"",size:"text-3xl",x:"62%",delay:3,duration:17},{emoji:"",size:"text-2xl",x:"72%",delay:7,duration:25},{emoji:"",size:"text-3xl",x:"82%",delay:11,duration:20},{emoji:"",size:"text-4xl",x:"92%",delay:1,duration:21},{emoji:"",size:"text-3xl",x:"8%",delay:12,duration:26},{emoji:"",size:"text-4xl",x:"48%",delay:5,duration:22},{emoji:"",size:"text-3xl",x:"58%",delay:9,duration:19},{emoji:"",size:"text-2xl",x:"68%",delay:13,duration:21},{emoji:"1",size:"text-5xl",x:"5%",delay:1.5,duration:28,isNumber:!0},{emoji:"2",size:"text-4xl",x:"15%",delay:5.5,duration:25,isNumber:!0},{emoji:"3",size:"text-5xl",x:"25%",delay:9.5,duration:22,isNumber:!0},{emoji:"4",size:"text-4xl",x:"35%",delay:3.5,duration:26,isNumber:!0},{emoji:"5",size:"text-5xl",x:"45%",delay:7.5,duration:23,isNumber:!0},{emoji:"6",size:"text-4xl",x:"55%",delay:11.5,duration:27,isNumber:!0},{emoji:"7",size:"text-5xl",x:"65%",delay:2.5,duration:24,isNumber:!0},{emoji:"8",size:"text-4xl",x:"75%",delay:6.5,duration:21,isNumber:!0},{emoji:"9",size:"text-5xl",x:"85%",delay:10.5,duration:25,isNumber:!0},{emoji:"1",size:"text-3xl",x:"95%",delay:14.5,duration:22,isNumber:!0},{emoji:"3",size:"text-3xl",x:"10%",delay:18.5,duration:26,isNumber:!0},{emoji:"5",size:"text-4xl",x:"30%",delay:12.5,duration:20,isNumber:!0},{emoji:"7",size:"text-3xl",x:"50%",delay:16.5,duration:24,isNumber:!0},{emoji:"9",size:"text-4xl",x:"70%",delay:8.5,duration:23,isNumber:!0}],[]);return g.jsx("div",{className:"fixed inset-0 w-full h-full pointer-events-none overflow-hidden",style:{zIndex:1,transform:"translateZ(0)"},children:t.map((e,n)=>g.jsx(lT,{el:e,index:n},n))})},HB=Z.memo(qB),$B={id:1,text:"Hello! I'm your AI assistant for NumaVaastu. I can help you with questions about numerology, vaastu, and our services. How can I assist you today?",isBot:!0},Qn={greeting:"Hello!  Welcome to NumaVaastu! I'm here to help you with numerology, vaastu, and our services. How can I assist you today?",howAreYou:"I'm doing great, thank you for asking!  How can I help you today with numerology or vaastu?",thanks:"You're welcome!  Feel free to ask if you have any more questions about our services.",bye:"Goodbye!  Thank you for visiting NumaVaastu. Have a wonderful day filled with positive energy!",numerology:"Numerology is the study of numbers and their mystical relationship with life events. Each number from 1-9 has unique vibrations and meanings. Your birth date and name can reveal insights about your personality, life path, and destiny.",vaastu:"Vaastu Shastra is an ancient Indian science of architecture and space arrangement. It focuses on harmonizing human dwellings with natural forces and cosmic energies to bring prosperity, health, and happiness.",consultants:"Our expert consultants are Yashraj Guruji and Rishabh Goel. Both have years of experience in numerology and vaastu consultation, helping thousands of clients achieve harmony in their lives.",contact:"You can contact us at mobile number +919650881509 or click on the 'Book Consultation' button to schedule an appointment.",services:`We offer: 
 Personalized numerology readings
 Vaastu consultations for homes & offices
 Name correction suggestions
 Color therapy guidance
 Pyramid therapy
 Life path guidance based on numbers`,calculator:"Our numerology calculator analyzes your birth date and name to provide insights into your life path number, destiny number, and personality traits. Go to the Calculator page and sign in to access this feature!",about:"Our About page explains the ancient sciences of Numerology and Vaastu Shastra. You can learn about number meanings (1-9) and directional principles. Navigate there from the menu!",therapy:"We offer Color Therapy and Pyramid Therapy! Color therapy uses color frequencies to balance your well-being, while pyramid therapy harnesses cosmic energy for healing. Check our Therapy page for details!",home:"Our Home page showcases NumaVaastu's services, our expert consultants, and ways to connect with us. You can book consultations and explore our offerings there.",price:"For pricing details and consultation fees, please contact us at +919650881509 or book a consultation through our website. Our team will provide you with all the information.",book:"To book a consultation, click the 'Book Consultation' button on any page. You'll need to sign in first, then fill out the form with your details. Our team will contact you shortly!",report:"After using our calculator, you can generate a detailed numerology report! Just click the 'Generate Report' button in the results section to get a printable PDF of your analysis.",what:"NumaVaastu is your destination for numerology and vaastu guidance. We help you understand the power of numbers and spatial harmony to improve your life, relationships, and prosperity.",who:"NumaVaastu was founded by Yashraj Guruji and Rishabh Goel, experts in numerology and vaastu shastra with years of experience helping people achieve balance and success.",default:`I can help you with:
 Numerology & Vaastu information
 Our services & consultants
 Calculator & reports
 Booking consultations
 Contact details

Just ask me anything about these topics! `},WB=t=>{const e=t.toLowerCase().trim();return/^(hi|hello|hey|hii+|hola|namaste|good morning|good afternoon|good evening)/.test(e)?Qn.greeting:e.includes("how are you")||e.includes("how r u")||e.includes("whats up")||e.includes("what's up")?Qn.howAreYou:e.includes("thank")||e.includes("thanks")||e.includes("thx")?Qn.thanks:/^(bye|goodbye|see you|take care|cya)/.test(e)||e.includes("bye")?Qn.bye:e.includes("what is")&&(e.includes("numavaastu")||e.includes("this website")||e.includes("this site"))?Qn.what:e.includes("who")&&(e.includes("founder")||e.includes("created")||e.includes("made")||e.includes("behind"))?Qn.who:e.includes("about")||e.includes("learn")?Qn.about:e.includes("therapy")||e.includes("color")||e.includes("pyramid")?Qn.therapy:e.includes("home")||e.includes("main page")?Qn.home:e.includes("numerology")||e.includes("number meaning")||e.includes("birth number")?Qn.numerology:e.includes("vaastu")||e.includes("vastu")||e.includes("direction")?Qn.vaastu:e.includes("consultant")||e.includes("expert")||e.includes("guruji")||e.includes("rishabh")||e.includes("yashraj")?Qn.consultants:e.includes("service")||e.includes("offer")||e.includes("provide")||e.includes("do you do")?Qn.services:e.includes("calculator")||e.includes("calculate")||e.includes("find my number")?Qn.calculator:e.includes("report")||e.includes("pdf")||e.includes("download")?Qn.report:e.includes("contact")||e.includes("reach")||e.includes("phone")||e.includes("call")||e.includes("mobile")?Qn.contact:e.includes("price")||e.includes("cost")||e.includes("fee")||e.includes("charge")||e.includes("how much")?Qn.price:e.includes("book")||e.includes("appointment")||e.includes("consultation")||e.includes("schedule")?Qn.book:(e.includes("help")||e.includes("what can you do")||e.includes("options"),Qn.default)},YB=()=>{const[t,e]=Z.useState(!1),[n,r]=Z.useState([$B]),[i,s]=Z.useState(""),o=Z.useCallback(()=>e(u=>!u),[]),a=Z.useCallback(()=>{if(!i.trim())return;const u={id:Date.now(),text:i,isBot:!1};r(y=>[...y,u]);const m=WB(i);s(""),setTimeout(()=>{r(y=>[...y,{id:Date.now()+1,text:m,isBot:!0}])},800)},[i]),l=Z.useCallback(u=>{u.key==="Enter"&&a()},[a]),c=Z.useCallback(u=>s(u.target.value),[]);return g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:o,className:"z-50 w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full shadow-xl flex items-center justify-center text-white hover:from-orange-600 hover:to-orange-700 transition-colors duration-300",style:{position:"fixed",bottom:"80px",right:"20px",boxShadow:"0 4px 20px rgba(249, 115, 22, 0.5)"},children:t?g.jsx(e0,{className:"h-5 w-5"}):g.jsx(hN,{className:"h-5 w-5"})}),g.jsx(px,{children:t&&g.jsxs(_t.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"z-40 w-80 max-w-[calc(100vw-32px)] h-96 bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col overflow-hidden",style:{position:"fixed",bottom:"140px",right:"20px"},children:[g.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-3 sm:p-4",children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(aN,{className:"h-4 w-4 sm:h-5 sm:w-5"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-white text-sm sm:text-base",children:"AI Assistant"}),g.jsx("p",{className:"text-xs text-white/90",children:"Ask me about numerology & vaastu"})]})]})}),g.jsx("div",{className:"flex-1 p-3 sm:p-4 overflow-y-auto space-y-3 bg-gray-50",children:n.map(u=>g.jsx("div",{className:`flex ${u.isBot?"justify-start":"justify-end"}`,children:g.jsx("div",{className:`max-w-[85%] sm:max-w-xs p-2.5 sm:p-3 rounded-lg text-xs sm:text-sm ${u.isBot?"bg-white text-gray-800 shadow-sm border border-gray-100":"bg-gradient-to-r from-orange-500 to-orange-600 text-white"}`,children:u.text})},u.id))}),g.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-200 bg-white",children:g.jsxs("div",{className:"flex space-x-2",children:[g.jsx(ga,{value:i,onChange:c,onKeyPress:l,placeholder:"Ask me anything...",className:"flex-1 text-sm text-gray-800 bg-gray-50 border-gray-200 focus:border-orange-500"}),g.jsx(Gt,{onClick:a,size:"sm",className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700",children:g.jsx(pN,{className:"h-4 w-4"})})]})})]})})]})},GB="/images/QRcode.jpg",KB=()=>{const[t,e]=Z.useState(!1),[n,r]=Z.useState(!1),[i,s]=Z.useState(1),{isLoaded:o,isSignedIn:a}=Rl(),l=499,c=2099,u="+919650189822",m=()=>{r(!0),Sr({title:"Connecting to Consultant",description:"Please wait while we connect your call..."}),setTimeout(()=>{window.location.href=`tel:${u}`,r(!1),e(!1),s(1)},2e3)},y=f=>{e(f),f||s(1)};return g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>e(!0),className:"z-50 w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full shadow-xl flex items-center justify-center text-white hover:from-orange-600 hover:to-orange-700 transition-colors duration-300",style:{position:"fixed",bottom:"20px",right:"20px",boxShadow:"0 4px 20px rgba(249, 115, 22, 0.5)"},title:"Call Consultant",children:g.jsx(Ou,{className:"h-5 w-5"})}),g.jsx(Io,{open:t,onOpenChange:y,children:g.jsxs(Gs,{className:"max-w-[95vw] sm:max-w-md rounded-xl mx-2",children:[g.jsxs(Ks,{children:[g.jsxs(Xs,{className:"flex items-center gap-2 text-orange-600",children:[g.jsx(Ou,{className:"h-5 w-5"}),"Call Consultation"]}),g.jsx(Js,{children:"Connect directly with our expert consultant."})]}),g.jsx("div",{className:"py-4",children:o?a?g.jsxs(g.Fragment,{children:[i===1&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border border-orange-200",children:[g.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"Call Consultation Details"}),g.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[g.jsx("li",{children:" Direct call with Consultant"}),g.jsx("li",{children:" Accepts one DOB"}),g.jsx("li",{children:" Personalized guidance"}),g.jsx("li",{children:" Immediate connection after payment"})]})]}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("span",{className:"font-medium",children:"Consultation Fee:"}),g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",c]}),g.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["",l]})]})]}),g.jsxs("div",{className:"mt-2 text-xs text-green-600 font-medium text-center",children:["Special discount applied! Save ",c-l]}),g.jsxs(Gt,{onClick:()=>s(2),className:"orange-gradient text-white hover:orange-gradient-hover w-full mt-4 py-3 text-lg rounded-xl",children:["Pay ",l," & Proceed to Call"]})]})]}),i===2&&g.jsxs("div",{className:"text-center space-y-4 animate-in fade-in-50",children:[g.jsx("img",{src:GB,alt:"UPI Payment QR Code",className:"w-48 h-48 mx-auto rounded-lg border p-1 bg-white"}),g.jsxs("div",{className:"font-bold text-3xl text-gray-800",children:["Pay ",l]}),g.jsx("p",{className:"text-sm text-gray-500 px-4",children:"You can scan this QR to pay fee before connecting to our consultant."}),g.jsxs(Gt,{onClick:m,disabled:n,className:"w-full py-3 text-lg rounded-xl bg-green-600 hover:bg-green-700 text-white flex items-center justify-center gap-2",children:[g.jsx(Ou,{className:"h-5 w-5"}),n?"Connecting...":"Call Now"]})]})]}):g.jsxs("div",{className:"text-center py-4",children:[g.jsx("p",{className:"mb-4",children:"Please sign in to book a call consultation."}),g.jsx(Fs,{mode:"modal",children:g.jsx(Gt,{className:"orange-gradient text-white hover:orange-gradient-hover px-6 py-2 text-md rounded-xl",children:"Sign In"})})]}):g.jsx("div",{className:"text-center py-4",children:"Loading..."})})]})})]})},XB="pk_test_a25vd2luZy1sb2N1c3QtMjguY2xlcmsuYWNjb3VudHMuZGV2JA";function JB(){return g.jsx(lE,{publishableKey:XB,appearance:{baseTheme:void 0,variables:{colorPrimary:"#f97316"}},children:g.jsxs(oS,{children:[g.jsx(ZC,{}),g.jsxs("div",{className:"min-h-screen relative flex flex-col overflow-x-hidden",children:[g.jsx(HB,{}),g.jsx(WC,{}),g.jsx("main",{className:"relative flex-grow overflow-x-hidden",style:{zIndex:10},children:g.jsxs(QE,{children:[g.jsx(sc,{path:"/",element:g.jsx(_M,{})}),g.jsx(sc,{path:"/learn",element:g.jsx(xM,{})}),g.jsx(sc,{path:"/calculator",element:g.jsx(FB,{})}),g.jsx(sc,{path:"/therapy",element:g.jsx(VB,{})}),g.jsx(sc,{path:"/services",element:g.jsx(zB,{})})]})}),g.jsx(JC,{}),g.jsx(YB,{}),g.jsx(KB,{}),g.jsx(TN,{})]})]})})}Lm.createRoot(document.getElementById("root")).render(g.jsx(Ir.StrictMode,{children:g.jsx(JB,{})}));export{rn as _};
