import{r as v,a as $c,R as zc,b as ye,c as ix,u as ri,d as sx,S as Td,U as bd,e as Ed,f as Ft,g as ia,C as ox}from"./vendor-73f86e3a.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Hp={exports:{}},sa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax=v,lx=Symbol.for("react.element"),cx=Symbol.for("react.fragment"),ux=Object.prototype.hasOwnProperty,hx=ax.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dx={key:!0,ref:!0,__self:!0,__source:!0};function Wp(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ux.call(e,r)&&!dx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lx,type:t,key:s,ref:o,props:i,_owner:hx.current}}sa.Fragment=cx;sa.jsx=Wp;sa.jsxs=Wp;Hp.exports=sa;var d=Hp.exports,Hl={},Id=$c;Hl.createRoot=Id.createRoot,Hl.hydrateRoot=Id.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gi(){return Gi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gi.apply(this,arguments)}var hn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hn||(hn={}));const Ad="popstate";function fx(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Wl("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Co(i)}return px(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mx(){return Math.random().toString(36).substr(2,8)}function Cd(t,e){return{usr:t.state,key:t.key,idx:e}}function Wl(t,e,n,r){return n===void 0&&(n=null),Gi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ii(e):e,{state:n,key:e&&e.key||r||mx()})}function Co(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function px(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hn.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Gi({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=hn.Pop;let x=h(),k=x==null?null:x-u;u=x,c&&c({action:a,location:w.location,delta:k})}function p(x,k){a=hn.Push;let S=Wl(w.location,x,k);n&&n(S,x),u=h()+1;let P=Cd(S,u),D=w.createHref(S);try{o.pushState(P,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(D)}s&&c&&c({action:a,location:w.location,delta:1})}function y(x,k){a=hn.Replace;let S=Wl(w.location,x,k);n&&n(S,x),u=h();let P=Cd(S,u),D=w.createHref(S);o.replaceState(P,"",D),s&&c&&c({action:a,location:w.location,delta:0})}function b(x){let k=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof x=="string"?x:Co(x);return S=S.replace(/ $/,"%20"),Ne(k,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,k)}let w={get action(){return a},get location(){return t(i,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Ad,f),c=x,()=>{i.removeEventListener(Ad,f),c=null}},createHref(x){return e(i,x)},createURL:b,encodeLocation(x){let k=b(x);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:p,replace:y,go(x){return o.go(x)}};return w}var Sd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sd||(Sd={}));function gx(t,e,n){return n===void 0&&(n="/"),yx(t,e,n,!1)}function yx(t,e,n,r){let i=typeof e=="string"?ii(e):e,s=Hc(i.pathname||"/",n);if(s==null)return null;let o=Gp(t);vx(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=Px(s);a=Cx(o[c],u,r)}return a}function Gp(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ne(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=fn([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(Ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Gp(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Ix(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of Kp(s.path))i(s,o,c)}),e}function Kp(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Kp(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function vx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ax(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _x=/^:[\w-]+$/,wx=3,xx=2,Tx=1,bx=10,Ex=-2,Pd=t=>t==="*";function Ix(t,e){let n=t.split("/"),r=n.length;return n.some(Pd)&&(r+=Ex),e&&(r+=xx),n.filter(i=>!Pd(i)).reduce((i,s)=>i+(_x.test(s)?wx:s===""?Tx:bx),r)}function Ax(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Cx(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Rd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Rd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:fn([s,f.pathname]),pathnameBase:Vx(fn([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=fn([s,f.pathnameBase]))}return o}function Rd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Sx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:p,isOptional:y}=h;if(p==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const b=a[f];return y&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Sx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Px(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Rx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ii(t):t;return{pathname:n?n.startsWith("/")?n:Nx(n,e):e,search:Dx(r),hash:Ox(i)}}function Nx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sl(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yp(t,e){let n=kx(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ii(t):(i=Gi({},t),Ne(!i.pathname||!i.pathname.includes("?"),sl("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),sl("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),sl("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=Rx(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const fn=t=>t.join("/").replace(/\/\/+/g,"/"),Vx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Dx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ox=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Mx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Xp=["post","put","patch","delete"];new Set(Xp);const jx=["get",...Xp];new Set(jx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ki.apply(this,arguments)}const Wc=v.createContext(null),Lx=v.createContext(null),lr=v.createContext(null),oa=v.createContext(null),cr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Jp=v.createContext(null);function Fx(t,e){let{relative:n}=e===void 0?{}:e;ds()||Ne(!1);let{basename:r,navigator:i}=v.useContext(lr),{hash:s,pathname:o,search:a}=eg(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:fn([r,o])),i.createHref({pathname:c,search:a,hash:s})}function ds(){return v.useContext(oa)!=null}function fs(){return ds()||Ne(!1),v.useContext(oa).location}function Zp(t){v.useContext(lr).static||v.useLayoutEffect(t)}function Ux(){let{isDataRoute:t}=v.useContext(cr);return t?Zx():Bx()}function Bx(){ds()||Ne(!1);let t=v.useContext(Wc),{basename:e,future:n,navigator:r}=v.useContext(lr),{matches:i}=v.useContext(cr),{pathname:s}=fs(),o=JSON.stringify(Yp(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return Zp(()=>{a.current=!0}),v.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Qp(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:fn([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}function eg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(lr),{matches:i}=v.useContext(cr),{pathname:s}=fs(),o=JSON.stringify(Yp(i,r.v7_relativeSplatPath));return v.useMemo(()=>Qp(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function $x(t,e){return zx(t,e)}function zx(t,e,n,r){ds()||Ne(!1);let{navigator:i}=v.useContext(lr),{matches:s}=v.useContext(cr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=fs(),h;if(e){var f;let x=typeof e=="string"?ii(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ne(!1),h=x}else h=u;let p=h.pathname||"/",y=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=gx(t,{pathname:y}),w=Kx(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:fn([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:fn([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&w?v.createElement(oa.Provider,{value:{location:Ki({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:hn.Pop}},w):w}function Hx(){let t=Jx(),e=Mx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,s)}const Wx=v.createElement(Hx,null);class qx extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(cr.Provider,{value:this.props.routeContext},v.createElement(Jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gx(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(Wc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(cr.Provider,{value:e},r)}function Kx(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Ne(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:y}=n,b=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let y,b=!1,w=null,x=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||Wx,c&&(u<0&&p===0?(eT("route-fallback",!1),b=!0,x=null):u===p&&(b=!0,x=f.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,p+1)),S=()=>{let P;return y?P=w:b?P=x:f.route.Component?P=v.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=h,v.createElement(Gx,{match:f,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:P})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?v.createElement(qx,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:S(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):S()},null)}var tg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tg||{}),So=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(So||{});function Yx(t){let e=v.useContext(Wc);return e||Ne(!1),e}function Qx(t){let e=v.useContext(Lx);return e||Ne(!1),e}function Xx(t){let e=v.useContext(cr);return e||Ne(!1),e}function ng(t){let e=Xx(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function Jx(){var t;let e=v.useContext(Jp),n=Qx(So.UseRouteError),r=ng(So.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Zx(){let{router:t}=Yx(tg.UseNavigateStable),e=ng(So.UseNavigateStable),n=v.useRef(!1);return Zp(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ki({fromRouteId:e},s)))},[t,e])}const Nd={};function eT(t,e,n){!e&&!Nd[t]&&(Nd[t]=!0)}function tT(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Ir(t){Ne(!1)}function nT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hn.Pop,navigator:s,static:o=!1,future:a}=t;ds()&&Ne(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:o,future:Ki({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=ii(r));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:b="default"}=r,w=v.useMemo(()=>{let x=Hc(h,c);return x==null?null:{location:{pathname:x,search:f,hash:p,state:y,key:b},navigationType:i}},[c,h,f,p,y,b,i]);return w==null?null:v.createElement(lr.Provider,{value:u},v.createElement(oa.Provider,{children:n,value:w}))}function rT(t){let{children:e,location:n}=t;return $x(ql(e),n)}new Promise(()=>{});function ql(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,ql(r.props.children,s));return}r.type!==Ir&&Ne(!1),!r.props.index||!r.props.children||Ne(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ql(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}function iT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oT(t,e){return t.button===0&&(!e||e==="_self")&&!sT(t)}const aT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lT="6";try{window.__reactRouterVersion=lT}catch{}const cT="startTransition",kd=zc[cT];function uT(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=fx({window:i,v5Compat:!0}));let o=s.current,[a,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=v.useCallback(f=>{u&&kd?kd(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(h),[o,h]),v.useEffect(()=>tT(r),[r]),v.createElement(nT,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const hT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mn=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=iT(e,aT),{basename:y}=v.useContext(lr),b,w=!1;if(typeof u=="string"&&dT.test(u)&&(b=u,hT))try{let P=new URL(window.location.href),D=u.startsWith("//")?new URL(P.protocol+u):new URL(u),L=Hc(D.pathname,y);D.origin===P.origin&&L!=null?u=L+D.search+D.hash:w=!0}catch{}let x=Fx(u,{relative:i}),k=fT(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:i,viewTransition:f});function S(P){r&&r(P),P.defaultPrevented||k(P)}return v.createElement("a",Gl({},p,{href:b||x,onClick:w||s?r:S,ref:n,target:c}))});var Vd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Vd||(Vd={}));var Dd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dd||(Dd={}));function fT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=Ux(),u=fs(),h=eg(t,{relative:o});return v.useCallback(f=>{if(oT(f,n)){f.preventDefault();let p=r!==void 0?r:Co(u)===Co(h);c(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,c,h,r,i,n,t,s,o,a])}function rg(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rg(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ig(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rg(t))&&(r&&(r+=" "),r+=e);return r}function mT(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=sg(e))&&(r&&(r+=" "),r+=n);return r}function sg(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=sg(t[r]))&&(n&&(n+=" "),n+=e);return n}var qc="-";function pT(t){var e=yT(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var c=a.split(qc);return c[0]===""&&c.length!==1&&c.shift(),og(c,e)||gT(a)}function o(a,c){var u=n[a]||[];return c&&i[a]?[].concat(u,i[a]):u}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function og(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?og(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(qc);return(o=e.validators.find(function(a){var c=a.validator;return c(s)}))==null?void 0:o.classGroupId}}var Od=/^\[(.+)\]$/;function gT(t){if(Od.test(t)){var e=Od.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function yT(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=_T(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];Kl(a,r,o,e)}),r}function Kl(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:Md(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(vT(i)){Kl(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],c=o[1];Kl(c,Md(e,a),n,r)})})}function Md(t,e){var n=t;return e.split(qc).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function vT(t){return t.isThemeGetter}function _T(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var c=a[0],u=a[1];return[e+c,u]})):o});return[r,s]}):t}function wT(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var ag="!";function xT(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],c=0,u=0,h,f=0;f<o.length;f++){var p=o[f];if(c===0){if(p===r&&(n||o.slice(f,f+i)===e)){a.push(o.slice(u,f)),u=f+i;continue}if(p==="/"){h=f;continue}}p==="["?c++:p==="]"&&c--}var y=a.length===0?o:o.substring(u),b=y.startsWith(ag),w=b?y.substring(1):y,x=h&&h>u?h-u:void 0;return{modifiers:a,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:x}}}function TT(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function bT(t){return{cache:wT(t.cacheSize),splitModifiers:xT(t),...pT(t)}}var ET=/\s+/;function IT(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(ET).map(function(o){var a=n(o),c=a.modifiers,u=a.hasImportantModifier,h=a.baseClassName,f=a.maybePostfixModifierPosition,p=r(f?h.substring(0,f):h),y=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:o};if(p=r(h),!p)return{isTailwindClass:!1,originalClassName:o};y=!1}var b=TT(c).join(":"),w=u?b+ag:b;return{isTailwindClass:!0,modifierId:w,classGroupId:p,originalClassName:o,hasPostfixModifier:y}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,h=a+c;return s.has(h)?!1:(s.add(h),i(c,u).forEach(function(f){return s.add(a+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function AT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=a;function a(u){var h=e[0],f=e.slice(1),p=f.reduce(function(y,b){return b(y)},h());return r=bT(p),i=r.cache.get,s=r.cache.set,o=c,c(u)}function c(u){var h=i(u);if(h)return h;var f=IT(u,r);return s(u,f),f}return function(){return o(mT.apply(null,arguments))}}function fe(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var lg=/^\[(?:([a-z-]+):)?(.+)\]$/i,CT=/^\d+\/\d+$/,ST=new Set(["px","full","screen"]),PT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NT=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function mt(t){return Wn(t)||ST.has(t)||CT.test(t)||Yl(t)}function Yl(t){return ur(t,"length",jT)}function kT(t){return ur(t,"size",cg)}function VT(t){return ur(t,"position",cg)}function DT(t){return ur(t,"url",LT)}function Gs(t){return ur(t,"number",Wn)}function Wn(t){return!Number.isNaN(Number(t))}function OT(t){return t.endsWith("%")&&Wn(t.slice(0,-1))}function Ci(t){return jd(t)||ur(t,"number",jd)}function ee(t){return lg.test(t)}function Si(){return!0}function tn(t){return PT.test(t)}function MT(t){return ur(t,"",FT)}function ur(t,e,n){var r=lg.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function jT(t){return RT.test(t)}function cg(){return!1}function LT(t){return t.startsWith("url(")}function jd(t){return Number.isInteger(Number(t))}function FT(t){return NT.test(t)}function UT(){var t=fe("colors"),e=fe("spacing"),n=fe("blur"),r=fe("brightness"),i=fe("borderColor"),s=fe("borderRadius"),o=fe("borderSpacing"),a=fe("borderWidth"),c=fe("contrast"),u=fe("grayscale"),h=fe("hueRotate"),f=fe("invert"),p=fe("gap"),y=fe("gradientColorStops"),b=fe("gradientColorStopPositions"),w=fe("inset"),x=fe("margin"),k=fe("opacity"),S=fe("padding"),P=fe("saturate"),D=fe("scale"),L=fe("sepia"),U=fe("skew"),I=fe("space"),T=fe("translate"),E=function(){return["auto","contain","none"]},C=function(){return["auto","hidden","clip","visible","scroll"]},N=function(){return["auto",ee,e]},R=function(){return[ee,e]},A=function(){return["",mt]},$=function(){return["auto",Wn,ee]},le=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ie=function(){return["solid","dashed","dotted","double","none"]},ve=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Ee=function(){return["start","end","center","between","around","evenly","stretch"]},Ie=function(){return["","0",ee]},xt=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},se=function(){return[Wn,Gs]},_e=function(){return[Wn,ee]};return{cacheSize:500,theme:{colors:[Si],spacing:[mt],blur:["none","",tn,ee],brightness:se(),borderColor:[t],borderRadius:["none","","full",tn,ee],borderSpacing:R(),borderWidth:A(),contrast:se(),grayscale:Ie(),hueRotate:_e(),invert:Ie(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[OT,Yl],inset:N(),margin:N(),opacity:se(),padding:R(),saturate:se(),scale:se(),sepia:Ie(),skew:_e(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[tn]}],"break-after":[{"break-after":xt()}],"break-before":[{"break-before":xt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(le(),[ee])}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ci]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:Ie()}],shrink:[{shrink:Ie()}],order:[{order:["first","last","none",Ci]}],"grid-cols":[{"grid-cols":[Si]}],"col-start-end":[{col:["auto",{span:["full",Ci]},ee]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Si]}],"row-start-end":[{row:["auto",{span:[Ci]},ee]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(Ee())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Ee(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Ee(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ee,e]}],"min-w":[{"min-w":["min","max","fit",ee,mt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[tn]},tn,ee]}],h:[{h:[ee,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ee,mt]}],"max-h":[{"max-h":[ee,e,"min","max","fit"]}],"font-size":[{text:["base",tn,Yl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gs]}],"font-family":[{font:[Si]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",Wn,Gs]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ee,mt]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ie(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",mt]}],"underline-offset":[{"underline-offset":["auto",ee,mt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(le(),[VT])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DT]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[].concat(ie(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(ie())}],"outline-offset":[{"outline-offset":[ee,mt]}],"outline-w":[{outline:[mt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[mt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",tn,MT]}],"shadow-color":[{shadow:[Si]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":ve()}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",tn,ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[P]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:_e()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:_e()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Ci,ee]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mt,Gs]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var BT=AT(UT);function tt(...t){return BT(ig(t))}function je(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Ld(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ug(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Ld(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Ld(t[i],null)}}}}function vt(...t){return v.useCallback(ug(...t),t)}function $T(t,e){const n=v.createContext(e),r=s=>{const{children:o,...a}=s,c=v.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Gc(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),c=n.length;n=[...n,o];const u=f=>{var k;const{scope:p,children:y,...b}=f,w=((k=p==null?void 0:p[t])==null?void 0:k[c])||a,x=v.useMemo(()=>b,Object.values(b));return d.jsx(w.Provider,{value:x,children:y})};u.displayName=s+"Provider";function h(f,p){var w;const y=((w=p==null?void 0:p[t])==null?void 0:w[c])||a,b=v.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,h]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,zT(i,...e)]}function zT(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Yi(t){const e=WT(t),n=v.forwardRef((r,i)=>{const{children:s,...o}=r,a=v.Children.toArray(s),c=a.find(GT);if(c){const u=c.props.children,h=a.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return d.jsx(e,{...o,ref:i,children:v.isValidElement(u)?v.cloneElement(u,void 0,h):null})}return d.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var HT=Yi("Slot");function WT(t){const e=v.forwardRef((n,r)=>{const{children:i,...s}=n;if(v.isValidElement(i)){const o=YT(i),a=KT(s,i.props);return i.type!==v.Fragment&&(a.ref=r?ug(r,o):o),v.cloneElement(i,a)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qT=Symbol("radix.slottable");function GT(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qT}function KT(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function YT(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function QT(t){const e=t+"CollectionProvider",[n,r]=Gc(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:x,children:k}=w,S=ye.useRef(null),P=ye.useRef(new Map).current;return d.jsx(i,{scope:x,itemMap:P,collectionRef:S,children:k})};o.displayName=e;const a=t+"CollectionSlot",c=Yi(a),u=ye.forwardRef((w,x)=>{const{scope:k,children:S}=w,P=s(a,k),D=vt(x,P.collectionRef);return d.jsx(c,{ref:D,children:S})});u.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Yi(h),y=ye.forwardRef((w,x)=>{const{scope:k,children:S,...P}=w,D=ye.useRef(null),L=vt(x,D),U=s(h,k);return ye.useEffect(()=>(U.itemMap.set(D,{ref:D,...P}),()=>void U.itemMap.delete(D))),d.jsx(p,{[f]:"",ref:L,children:S})});y.displayName=h;function b(w){const x=s(t+"CollectionConsumer",w);return ye.useCallback(()=>{const S=x.collectionRef.current;if(!S)return[];const P=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((U,I)=>P.indexOf(U.ref.current)-P.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:y},b,r]}var XT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=XT.reduce((t,e)=>{const n=Yi(`Primitive.${e}`),r=v.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function hg(t,e){t&&$c.flushSync(()=>t.dispatchEvent(e))}function $t(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function JT(t,e=globalThis==null?void 0:globalThis.document){const n=$t(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ZT="DismissableLayer",Ql="dismissableLayer.update",eb="dismissableLayer.pointerDownOutside",tb="dismissableLayer.focusOutside",Fd,dg=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kc=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=v.useContext(dg),[h,f]=v.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=v.useState({}),b=vt(e,I=>f(I)),w=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),k=w.indexOf(x),S=h?w.indexOf(h):-1,P=u.layersWithOutsidePointerEventsDisabled.size>0,D=S>=k,L=rb(I=>{const T=I.target,E=[...u.branches].some(C=>C.contains(T));!D||E||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),U=ib(I=>{const T=I.target;[...u.branches].some(C=>C.contains(T))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return JT(I=>{S===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),v.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Fd=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Ud(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Fd)}},[h,p,n,u]),v.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Ud())},[h,u]),v.useEffect(()=>{const I=()=>y({});return document.addEventListener(Ql,I),()=>document.removeEventListener(Ql,I)},[]),d.jsx($e.div,{...c,ref:b,style:{pointerEvents:P?D?"auto":"none":void 0,...t.style},onFocusCapture:je(t.onFocusCapture,U.onFocusCapture),onBlurCapture:je(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:je(t.onPointerDownCapture,L.onPointerDownCapture)})});Kc.displayName=ZT;var nb="DismissableLayerBranch",fg=v.forwardRef((t,e)=>{const n=v.useContext(dg),r=v.useRef(null),i=vt(e,r);return v.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),d.jsx($e.div,{...t,ref:i})});fg.displayName=nb;function rb(t,e=globalThis==null?void 0:globalThis.document){const n=$t(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){mg(eb,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ib(t,e=globalThis==null?void 0:globalThis.document){const n=$t(t),r=v.useRef(!1);return v.useEffect(()=>{const i=s=>{s.target&&!r.current&&mg(tb,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ud(){const t=new CustomEvent(Ql);document.dispatchEvent(t)}function mg(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?hg(i,s):i.dispatchEvent(s)}var sb=Kc,ob=fg,Br=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},ab="Portal",Yc=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=v.useState(!1);Br(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ix.createPortal(d.jsx($e.div,{...r,ref:e}),o):null});Yc.displayName=ab;function lb(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var ms=t=>{const{present:e,children:n}=t,r=cb(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),s=vt(r.ref,ub(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:s}):null};ms.displayName="Presence";function cb(t){const[e,n]=v.useState(),r=v.useRef(null),i=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[a,c]=lb(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Ks(r.current);s.current=a==="mounted"?u:"none"},[a]),Br(()=>{const u=r.current,h=i.current;if(h!==t){const p=s.current,y=Ks(u);t?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Br(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=y=>{const w=Ks(r.current).includes(y.animationName);if(y.target===e&&w&&(c("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=y=>{y.target===e&&(s.current=Ks(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ks(t){return(t==null?void 0:t.animationName)||"none"}function ub(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hb=zc[" useInsertionEffect ".trim().toString()]||Br;function pg({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=db({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const h=v.useRef(t!==void 0);v.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=v.useCallback(h=>{var f;if(a){const p=fb(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else s(h)},[a,t,s,o]);return[c,u]}function db({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),i=v.useRef(n),s=v.useRef(e);return hb(()=>{s.current=e},[e]),v.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function fb(t){return typeof t=="function"}var mb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pb="VisuallyHidden",Qc=v.forwardRef((t,e)=>d.jsx($e.span,{...t,ref:e,style:{...mb,...t.style}}));Qc.displayName=pb;var Xc="ToastProvider",[Jc,gb,yb]=QT("Toast"),[gg,ZO]=Gc("Toast",[yb]),[vb,aa]=gg(Xc),yg=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,c]=v.useState(null),[u,h]=v.useState(0),f=v.useRef(!1),p=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xc}\`. Expected non-empty \`string\`.`),d.jsx(Jc.Provider,{scope:e,children:d.jsx(vb,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:v.useCallback(()=>h(y=>y+1),[]),onToastRemove:v.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};yg.displayName=Xc;var vg="ToastViewport",_b=["F8"],Xl="toast.viewportPause",Jl="toast.viewportResume",_g=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=_b,label:i="Notifications ({hotkey})",...s}=t,o=aa(vg,n),a=gb(n),c=v.useRef(null),u=v.useRef(null),h=v.useRef(null),f=v.useRef(null),p=vt(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;v.useEffect(()=>{const x=k=>{var P;r.length!==0&&r.every(D=>k[D]||k.code===D)&&((P=f.current)==null||P.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),v.useEffect(()=>{const x=c.current,k=f.current;if(b&&x&&k){const S=()=>{if(!o.isClosePausedRef.current){const U=new CustomEvent(Xl);k.dispatchEvent(U),o.isClosePausedRef.current=!0}},P=()=>{if(o.isClosePausedRef.current){const U=new CustomEvent(Jl);k.dispatchEvent(U),o.isClosePausedRef.current=!1}},D=U=>{!x.contains(U.relatedTarget)&&P()},L=()=>{x.contains(document.activeElement)||P()};return x.addEventListener("focusin",S),x.addEventListener("focusout",D),x.addEventListener("pointermove",S),x.addEventListener("pointerleave",L),window.addEventListener("blur",S),window.addEventListener("focus",P),()=>{x.removeEventListener("focusin",S),x.removeEventListener("focusout",D),x.removeEventListener("pointermove",S),x.removeEventListener("pointerleave",L),window.removeEventListener("blur",S),window.removeEventListener("focus",P)}}},[b,o.isClosePausedRef]);const w=v.useCallback(({tabbingDirection:x})=>{const S=a().map(P=>{const D=P.ref.current,L=[D,...kb(D)];return x==="forwards"?L:L.reverse()});return(x==="forwards"?S.reverse():S).flat()},[a]);return v.useEffect(()=>{const x=f.current;if(x){const k=S=>{var L,U,I;const P=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!P){const T=document.activeElement,E=S.shiftKey;if(S.target===x&&E){(L=u.current)==null||L.focus();return}const R=w({tabbingDirection:E?"backwards":"forwards"}),A=R.findIndex($=>$===T);ol(R.slice(A+1))?S.preventDefault():E?(U=u.current)==null||U.focus():(I=h.current)==null||I.focus()}};return x.addEventListener("keydown",k),()=>x.removeEventListener("keydown",k)}},[a,w]),d.jsxs(ob,{ref:c,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&d.jsx(Zl,{ref:u,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"forwards"});ol(x)}}),d.jsx(Jc.Slot,{scope:n,children:d.jsx($e.ol,{tabIndex:-1,...s,ref:p})}),b&&d.jsx(Zl,{ref:h,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"backwards"});ol(x)}})]})});_g.displayName=vg;var wg="ToastFocusProxy",Zl=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=aa(wg,n);return d.jsx(Qc,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});Zl.displayName=wg;var ps="Toast",wb="toast.swipeStart",xb="toast.swipeMove",Tb="toast.swipeCancel",bb="toast.swipeEnd",xg=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,c]=pg({prop:r,defaultProp:i??!0,onChange:s,caller:ps});return d.jsx(ms,{present:n||a,children:d.jsx(Ab,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:$t(t.onPause),onResume:$t(t.onResume),onSwipeStart:je(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:je(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});xg.displayName=ps;var[Eb,Ib]=gg(ps,{onClose(){}}),Ab=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:y,...b}=t,w=aa(ps,n),[x,k]=v.useState(null),S=vt(e,$=>k($)),P=v.useRef(null),D=v.useRef(null),L=i||w.duration,U=v.useRef(0),I=v.useRef(L),T=v.useRef(0),{onToastAdd:E,onToastRemove:C}=w,N=$t(()=>{var le;(x==null?void 0:x.contains(document.activeElement))&&((le=w.viewport)==null||le.focus()),o()}),R=v.useCallback($=>{!$||$===1/0||(window.clearTimeout(T.current),U.current=new Date().getTime(),T.current=window.setTimeout(N,$))},[N]);v.useEffect(()=>{const $=w.viewport;if($){const le=()=>{R(I.current),u==null||u()},ie=()=>{const ve=new Date().getTime()-U.current;I.current=I.current-ve,window.clearTimeout(T.current),c==null||c()};return $.addEventListener(Xl,ie),$.addEventListener(Jl,le),()=>{$.removeEventListener(Xl,ie),$.removeEventListener(Jl,le)}}},[w.viewport,L,c,u,R]),v.useEffect(()=>{s&&!w.isClosePausedRef.current&&R(L)},[s,L,w.isClosePausedRef,R]),v.useEffect(()=>(E(),()=>C()),[E,C]);const A=v.useMemo(()=>x?Sg(x):null,[x]);return w.viewport?d.jsxs(d.Fragment,{children:[A&&d.jsx(Cb,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),d.jsx(Eb,{scope:n,onClose:N,children:$c.createPortal(d.jsx(Jc.ItemSlot,{scope:n,children:d.jsx(sb,{asChild:!0,onEscapeKeyDown:je(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||N(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx($e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:je(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:je(t.onPointerDown,$=>{$.button===0&&(P.current={x:$.clientX,y:$.clientY})}),onPointerMove:je(t.onPointerMove,$=>{if(!P.current)return;const le=$.clientX-P.current.x,ie=$.clientY-P.current.y,ve=!!D.current,Ee=["left","right"].includes(w.swipeDirection),Ie=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,xt=Ee?Ie(0,le):0,se=Ee?0:Ie(0,ie),_e=$.pointerType==="touch"?10:2,Z={x:xt,y:se},Dn={originalEvent:$,delta:Z};ve?(D.current=Z,Ys(xb,f,Dn,{discrete:!1})):Bd(Z,w.swipeDirection,_e)?(D.current=Z,Ys(wb,h,Dn,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(le)>_e||Math.abs(ie)>_e)&&(P.current=null)}),onPointerUp:je(t.onPointerUp,$=>{const le=D.current,ie=$.target;if(ie.hasPointerCapture($.pointerId)&&ie.releasePointerCapture($.pointerId),D.current=null,P.current=null,le){const ve=$.currentTarget,Ee={originalEvent:$,delta:le};Bd(le,w.swipeDirection,w.swipeThreshold)?Ys(bb,y,Ee,{discrete:!0}):Ys(Tb,p,Ee,{discrete:!0}),ve.addEventListener("click",Ie=>Ie.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),Cb=t=>{const{__scopeToast:e,children:n,...r}=t,i=aa(ps,e),[s,o]=v.useState(!1),[a,c]=v.useState(!1);return Rb(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(Yc,{asChild:!0,children:d.jsx(Qc,{...r,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",n]})})})},Sb="ToastTitle",Tg=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx($e.div,{...r,ref:e})});Tg.displayName=Sb;var Pb="ToastDescription",bg=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx($e.div,{...r,ref:e})});bg.displayName=Pb;var Eg="ToastAction",Ig=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(Cg,{altText:n,asChild:!0,children:d.jsx(Zc,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Eg}\`. Expected non-empty \`string\`.`),null)});Ig.displayName=Eg;var Ag="ToastClose",Zc=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Ib(Ag,n);return d.jsx(Cg,{asChild:!0,children:d.jsx($e.button,{type:"button",...r,ref:e,onClick:je(t.onClick,i.onClose)})})});Zc.displayName=Ag;var Cg=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return d.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Sg(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Nb(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Sg(r))}}),e}function Ys(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?hg(i,s):i.dispatchEvent(s)}var Bd=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Rb(t=()=>{}){const e=$t(t);Br(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Nb(t){return t.nodeType===t.ELEMENT_NODE}function kb(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ol(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Vb=yg,Pg=_g,Rg=xg,Ng=Tg,kg=bg,Vg=Ig,Dg=Zc;const $d=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zd=ig,eu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return zd(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const h=n==null?void 0:n[u],f=s==null?void 0:s[u];if(h===null)return null;const p=$d(h)||$d(f);return i[u][p]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:p,...y}=h;return Object.entries(y).every(b=>{let[w,x]=b;return Array.isArray(x)?x.includes({...s,...a}[w]):{...s,...a}[w]===x})?[...u,f,p]:u},[]);return zd(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};var Db={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ob=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ce=(t,e)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...c},u)=>v.createElement("svg",{ref:u,...Db,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${Ob(t)}`,...c},[...e.map(([h,f])=>v.createElement(h,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},Mb=Ce("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),jb=Ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Hd=Ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),pn=Ce("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Og=Ce("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Lb=Ce("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),Wd=Ce("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Mg=Ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),qd=Ce("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Fb=Ce("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),jg=Ce("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Ub=Ce("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Bb=Ce("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),$b=Ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Me=Ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),zb=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Lg=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Fg=Ce("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]),Ug=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Hb=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Bg=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Wb=Vb,$g=ye.forwardRef(({className:t,...e},n)=>d.jsx(Pg,{ref:n,className:tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));$g.displayName=Pg.displayName;const qb=eu("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-[rgba(255,107,53,0.15)] border border-[rgba(255,107,53,0.3)] backdrop-blur-md text-orange-900",destructive:"bg-[rgba(255,107,53,0.15)] border border-[rgba(255,107,53,0.3)] backdrop-blur-md text-orange-900"}},defaultVariants:{variant:"default"}}),zg=ye.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(Rg,{ref:r,className:tt(qb({variant:e}),t),...n}));zg.displayName=Rg.displayName;const Gb=ye.forwardRef(({className:t,...e},n)=>d.jsx(Vg,{ref:n,className:tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Gb.displayName=Vg.displayName;const Hg=ye.forwardRef(({className:t,...e},n)=>d.jsx(Dg,{ref:n,className:tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Bg,{className:"h-4 w-4"})}));Hg.displayName=Dg.displayName;const Wg=ye.forwardRef(({className:t,...e},n)=>d.jsx(Ng,{ref:n,className:tt("text-sm font-semibold",t),...e}));Wg.displayName=Ng.displayName;const qg=ye.forwardRef(({className:t,...e},n)=>d.jsx(kg,{ref:n,className:tt("text-sm opacity-90",t),...e}));qg.displayName=kg.displayName;const Kb=1;let al=0;function Yb(){return al=(al+1)%Number.MAX_VALUE,al.toString()}const Ze={state:{toasts:[]},listeners:[],getState:()=>Ze.state,setState:t=>{typeof t=="function"?Ze.state=t(Ze.state):Ze.state={...Ze.state,...t},Ze.listeners.forEach(e=>e(Ze.state))},subscribe:t=>(Ze.listeners.push(t),()=>{Ze.listeners=Ze.listeners.filter(e=>e!==t)})},ke=({...t})=>{const e=Yb(),n=i=>Ze.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>Ze.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return Ze.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,Kb)})),{id:e,dismiss:r,update:n}};function Qb(){const[t,e]=v.useState(Ze.getState());return v.useEffect(()=>Ze.subscribe(r=>{e(r)}),[]),v.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:ke,toasts:t.toasts}}function Xb(){const{toasts:t}=Qb();return d.jsxs(Wb,{children:[t.map(({id:e,title:n,description:r,action:i,...s})=>d.jsxs(zg,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(Wg,{children:n}),r&&d.jsx(qg,{children:r})]}),i,d.jsx(Hg,{})]},e)),d.jsx($g,{})]})}const Gg=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),la=v.createContext({}),ca=v.createContext(null),ua=typeof document<"u",tu=ua?v.useLayoutEffect:v.useEffect,Kg=v.createContext({strict:!1}),nu=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Jb="framerAppearId",Yg="data-"+nu(Jb);function Zb(t,e,n,r){const{visualElement:i}=v.useContext(la),s=v.useContext(Kg),o=v.useContext(ca),a=v.useContext(Gg).reducedMotion,c=v.useRef();r=r||s.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;v.useInsertionEffect(()=>{u&&u.update(n,o)});const h=v.useRef(!!(n[Yg]&&!window.HandoffComplete));return tu(()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),u}function Rr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eE(t,e,n){return v.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Rr(n)&&(n.current=r))},[e])}function Qi(t){return typeof t=="string"||Array.isArray(t)}function ha(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ru=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iu=["initial",...ru];function da(t){return ha(t.animate)||iu.some(e=>Qi(t[e]))}function Qg(t){return!!(da(t)||t.variants)}function tE(t,e){if(da(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Qi(n)?n:void 0,animate:Qi(r)?r:void 0}}return t.inherit!==!1?e:{}}function nE(t){const{initial:e,animate:n}=tE(t,v.useContext(la));return v.useMemo(()=>({initial:e,animate:n}),[Gd(e),Gd(n)])}function Gd(t){return Array.isArray(t)?t.join(" "):t}const Kd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xi={};for(const t in Kd)Xi[t]={isEnabled:e=>Kd[t].some(n=>!!e[n])};function rE(t){for(const e in t)Xi[e]={...Xi[e],...t[e]}}const su=v.createContext({}),Xg=v.createContext({}),iE=Symbol.for("motionComponentSymbol");function sE({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&rE(t);function s(a,c){let u;const h={...v.useContext(Gg),...a,layoutId:oE(a)},{isStatic:f}=h,p=nE(a),y=r(a,f);if(!f&&ua){p.visualElement=Zb(i,y,h,e);const b=v.useContext(Xg),w=v.useContext(Kg).strict;p.visualElement&&(u=p.visualElement.loadFeatures(h,w,t,b))}return v.createElement(la.Provider,{value:p},u&&p.visualElement?v.createElement(u,{visualElement:p.visualElement,...h}):null,n(i,a,eE(y,p.visualElement,c),y,f,p.visualElement))}const o=v.forwardRef(s);return o[iE]=i,o}function oE({layoutId:t}){const e=v.useContext(su).id;return e&&t!==void 0?e+"-"+t:t}function aE(t){function e(r,i={}){return sE(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const lE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ou(t){return typeof t!="string"||t.includes("-")?!1:!!(lE.indexOf(t)>-1||/[A-Z]/.test(t))}const Po={};function cE(t){Object.assign(Po,t)}const gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hr=new Set(gs);function Jg(t,{layout:e,layoutId:n}){return hr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Po[t]||t==="opacity")}const it=t=>!!(t&&t.getVelocity),uE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hE=gs.length;function dE(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<hE;o++){const a=gs[o];if(t[a]!==void 0){const c=uE[a]||a;s+=`${c}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const Zg=t=>e=>typeof e=="string"&&e.startsWith(t),ey=Zg("--"),ec=Zg("var(--"),fE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,mE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,En=(t,e,n)=>Math.min(Math.max(n,t),e),dr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ji={...dr,transform:t=>En(0,1,t)},Qs={...dr,default:1},Li=t=>Math.round(t*1e5)/1e5,fa=/(-)?([\d]*\.?[\d])+/g,ty=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ys(t){return typeof t=="string"}const vs=t=>({test:e=>ys(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),rn=vs("deg"),It=vs("%"),W=vs("px"),gE=vs("vh"),yE=vs("vw"),Yd={...It,parse:t=>It.parse(t)/100,transform:t=>It.transform(t*100)},Qd={...dr,transform:Math.round},ny={borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,radius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,size:W,top:W,right:W,bottom:W,left:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,rotate:rn,rotateX:rn,rotateY:rn,rotateZ:rn,scale:Qs,scaleX:Qs,scaleY:Qs,scaleZ:Qs,skew:rn,skewX:rn,skewY:rn,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:ji,originX:Yd,originY:Yd,originZ:W,zIndex:Qd,fillOpacity:ji,strokeOpacity:ji,numOctaves:Qd};function au(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let c=!1,u=!1,h=!0;for(const f in e){const p=e[f];if(ey(f)){s[f]=p;continue}const y=ny[f],b=mE(p,y);if(hr.has(f)){if(c=!0,o[f]=b,!h)continue;p!==(y.default||0)&&(h=!1)}else f.startsWith("origin")?(u=!0,a[f]=b):i[f]=b}if(e.transform||(c||r?i.transform=dE(t.transform,n,h,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:y=0}=a;i.transformOrigin=`${f} ${p} ${y}`}}const lu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ry(t,e,n){for(const r in e)!it(e[r])&&!Jg(r,n)&&(t[r]=e[r])}function vE({transformTemplate:t},e,n){return v.useMemo(()=>{const r=lu();return au(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function _E(t,e,n){const r=t.style||{},i={};return ry(i,r,t),Object.assign(i,vE(t,e,n)),t.transformValues?t.transformValues(i):i}function wE(t,e,n){const r={},i=_E(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const xE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ro(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xE.has(t)}let iy=t=>!Ro(t);function TE(t){t&&(iy=e=>e.startsWith("on")?!Ro(e):t(e))}try{TE(require("@emotion/is-prop-valid").default)}catch{}function bE(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(iy(i)||n===!0&&Ro(i)||!e&&!Ro(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Xd(t,e,n){return typeof t=="string"?t:W.transform(e+n*t)}function EE(t,e,n){const r=Xd(e,t.x,t.width),i=Xd(n,t.y,t.height);return`${r} ${i}`}const IE={offset:"stroke-dashoffset",array:"stroke-dasharray"},AE={offset:"strokeDashoffset",array:"strokeDasharray"};function CE(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?IE:AE;t[s.offset]=W.transform(-r);const o=W.transform(e),a=W.transform(n);t[s.array]=`${o} ${a}`}function cu(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},h,f,p){if(au(t,u,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:b,dimensions:w}=t;y.transform&&(w&&(b.transform=y.transform),delete y.transform),w&&(i!==void 0||s!==void 0||b.transform)&&(b.transformOrigin=EE(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&CE(y,o,a,c,!1)}const sy=()=>({...lu(),attrs:{}}),uu=t=>typeof t=="string"&&t.toLowerCase()==="svg";function SE(t,e,n,r){const i=v.useMemo(()=>{const s=sy();return cu(s,e,{enableHardwareAcceleration:!1},uu(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};ry(s,t.style,t),i.style={...s,...i.style}}return i}function PE(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(ou(n)?SE:wE)(r,s,o,n),h={...bE(r,typeof n=="string",t),...c,ref:i},{children:f}=r,p=v.useMemo(()=>it(f)?f.get():f,[f]);return v.createElement(n,{...h,children:p})}}function oy(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const ay=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ly(t,e,n,r){oy(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(ay.has(i)?i:nu(i),e.attrs[i])}function hu(t,e){const{style:n}=t,r={};for(const i in n)(it(n[i])||e.style&&it(e.style[i])||Jg(i,t))&&(r[i]=n[i]);return r}function cy(t,e){const n=hu(t,e);for(const r in t)if(it(t[r])||it(e[r])){const i=gs.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function du(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function uy(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const No=t=>Array.isArray(t),RE=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),NE=t=>No(t)?t[t.length-1]||0:t;function ho(t){const e=it(t)?t.get():t;return RE(e)?e.toValue():e}function kE({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:VE(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const hy=t=>(e,n)=>{const r=v.useContext(la),i=v.useContext(ca),s=()=>kE(t,e,r,i);return n?s():uy(s)};function VE(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=ho(s[p]);let{initial:o,animate:a}=t;const c=da(t),u=Qg(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!ha(f)&&(Array.isArray(f)?f:[f]).forEach(y=>{const b=du(t,y);if(!b)return;const{transitionEnd:w,transition:x,...k}=b;for(const S in k){let P=k[S];if(Array.isArray(P)){const D=h?P.length-1:0;P=P[D]}P!==null&&(i[S]=P)}for(const S in w)i[S]=w[S]}),i}const be=t=>t;class Jd{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function DE(t){let e=new Jd,n=new Jd,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(c,u=!1,h=!1)=>{const f=h&&i,p=f?e:n;return u&&o.add(c),p.add(c)&&f&&i&&(r=e.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const h=e.order[u];h(c),o.has(h)&&(a.schedule(h),t())}i=!1,s&&(s=!1,a.process(c))}};return a}const Xs=["prepare","read","update","preRender","render","postRender"],OE=40;function ME(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Xs.reduce((f,p)=>(f[p]=DE(()=>n=!0),f),{}),o=f=>s[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,OE),1),i.timestamp=f,i.isProcessing=!0,Xs.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},c=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Xs.reduce((f,p)=>{const y=s[p];return f[p]=(b,w=!1,x=!1)=>(n||c(),y.schedule(b,w,x)),f},{}),cancel:f=>Xs.forEach(p=>s[p].cancel(f)),state:i,steps:s}}const{schedule:he,cancel:zt,state:Ge,steps:ll}=ME(typeof requestAnimationFrame<"u"?requestAnimationFrame:be,!0),jE={useVisualState:hy({scrapeMotionValuesFromProps:cy,createRenderState:sy,onMount:(t,e,{renderState:n,latestValues:r})=>{he.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),he.render(()=>{cu(n,r,{enableHardwareAcceleration:!1},uu(e.tagName),t.transformTemplate),ly(e,n)})}})},LE={useVisualState:hy({scrapeMotionValuesFromProps:hu,createRenderState:lu})};function FE(t,{forwardMotionProps:e=!1},n,r){return{...ou(t)?jE:LE,preloadedFeatures:n,useRender:PE(e),createVisualElement:r,Component:t}}function Mt(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const dy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ma(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const UE=t=>e=>dy(e)&&t(e,ma(e));function Ut(t,e,n,r){return Mt(t,e,UE(n),r)}const BE=(t,e)=>n=>e(t(n)),gn=(...t)=>t.reduce(BE);function fy(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Zd=fy("dragHorizontal"),ef=fy("dragVertical");function my(t){let e=!1;if(t==="y")e=ef();else if(t==="x")e=Zd();else{const n=Zd(),r=ef();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function py(){const t=my(!0);return t?(t(),!1):!0}class kn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function tf(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||py())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&he.update(()=>a[r](s,o))};return Ut(t.current,n,i,{passive:!t.getProps()[r]})}class $E extends kn{mount(){this.unmount=gn(tf(this.node,!0),tf(this.node,!1))}unmount(){}}class zE extends kn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gn(Mt(this.node.current,"focus",()=>this.onFocus()),Mt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const gy=(t,e)=>e?t===e?!0:gy(t,e.parentElement):!1;function cl(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ma(n))}class HE extends kn{constructor(){super(...arguments),this.removeStartListeners=be,this.removeEndListeners=be,this.removeAccessibleListeners=be,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Ut(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h,globalTapTarget:f}=this.node.getProps();he.update(()=>{!f&&!gy(this.node.current,a.target)?h&&h(a,c):u&&u(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ut(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=gn(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||cl("up",(c,u)=>{const{onTap:h}=this.node.getProps();h&&he.update(()=>h(c,u))})};this.removeEndListeners(),this.removeEndListeners=Mt(this.node.current,"keyup",o),cl("down",(a,c)=>{this.startPress(a,c)})},n=Mt(this.node.current,"keydown",e),r=()=>{this.isPressing&&cl("cancel",(s,o)=>this.cancelPress(s,o))},i=Mt(this.node.current,"blur",r);this.removeAccessibleListeners=gn(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&he.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!py()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&he.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ut(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Mt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=gn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const tc=new WeakMap,ul=new WeakMap,WE=t=>{const e=tc.get(t.target);e&&e(t)},qE=t=>{t.forEach(WE)};function GE({root:t,...e}){const n=t||document;ul.has(n)||ul.set(n,{});const r=ul.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(qE,{root:t,...e})),r[i]}function KE(t,e,n){const r=GE(e);return tc.set(t,n),r.observe(t),()=>{tc.delete(t),r.unobserve(t)}}const YE={some:0,all:1};class QE extends kn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:YE[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=u?h:f;p&&p(c)};return KE(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XE(e,n))&&this.startObserver()}unmount(){}}function XE({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JE={inView:{Feature:QE},tap:{Feature:HE},focus:{Feature:zE},hover:{Feature:$E}};function yy(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ZE(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function eI(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function pa(t,e,n){const r=t.getProps();return du(r,e,n!==void 0?n:r.custom,ZE(t),eI(t))}let tI=be,fu=be;const yn=t=>t*1e3,Bt=t=>t/1e3,nI={current:!1},vy=t=>Array.isArray(t)&&typeof t[0]=="number";function _y(t){return!!(!t||typeof t=="string"&&wy[t]||vy(t)||Array.isArray(t)&&t.every(_y))}const Vi=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,wy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vi([0,.65,.55,1]),circOut:Vi([.55,0,1,.45]),backIn:Vi([.31,.01,.66,-.59]),backOut:Vi([.33,1.53,.69,.99])};function xy(t){if(t)return vy(t)?Vi(t):Array.isArray(t)?t.map(xy):wy[t]}function rI(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:c}={}){const u={[e]:n};c&&(u.offset=c);const h=xy(a);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function iI(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Ty=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sI=1e-7,oI=12;function aI(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Ty(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>sI&&++a<oI);return o}function _s(t,e,n,r){if(t===e&&n===r)return be;const i=s=>aI(s,0,1,t,n);return s=>s===0||s===1?s:Ty(i(s),e,r)}const lI=_s(.42,0,1,1),cI=_s(0,0,.58,1),by=_s(.42,0,.58,1),uI=t=>Array.isArray(t)&&typeof t[0]!="number",Ey=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Iy=t=>e=>1-t(1-e),mu=t=>1-Math.sin(Math.acos(t)),Ay=Iy(mu),hI=Ey(mu),Cy=_s(.33,1.53,.69,.99),pu=Iy(Cy),dI=Ey(pu),fI=t=>(t*=2)<1?.5*pu(t):.5*(2-Math.pow(2,-10*(t-1))),mI={linear:be,easeIn:lI,easeInOut:by,easeOut:cI,circIn:mu,circInOut:hI,circOut:Ay,backIn:pu,backInOut:dI,backOut:Cy,anticipate:fI},nf=t=>{if(Array.isArray(t)){fu(t.length===4);const[e,n,r,i]=t;return _s(e,n,r,i)}else if(typeof t=="string")return mI[t];return t},gu=(t,e)=>n=>!!(ys(n)&&pE.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Sy=(t,e,n)=>r=>{if(!ys(r))return r;const[i,s,o,a]=r.match(fa);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},pI=t=>En(0,255,t),hl={...dr,transform:t=>Math.round(pI(t))},qn={test:gu("rgb","red"),parse:Sy("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+hl.transform(t)+", "+hl.transform(e)+", "+hl.transform(n)+", "+Li(ji.transform(r))+")"};function gI(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const nc={test:gu("#"),parse:gI,transform:qn.transform},Nr={test:gu("hsl","hue"),parse:Sy("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+It.transform(Li(e))+", "+It.transform(Li(n))+", "+Li(ji.transform(r))+")"},et={test:t=>qn.test(t)||nc.test(t)||Nr.test(t),parse:t=>qn.test(t)?qn.parse(t):Nr.test(t)?Nr.parse(t):nc.parse(t),transform:t=>ys(t)?t:t.hasOwnProperty("red")?qn.transform(t):Nr.transform(t)},we=(t,e,n)=>-n*t+n*e+t;function dl(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yI({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=dl(c,a,t+1/3),s=dl(c,a,t),o=dl(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const fl=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},vI=[nc,qn,Nr],_I=t=>vI.find(e=>e.test(t));function rf(t){const e=_I(t);let n=e.parse(t);return e===Nr&&(n=yI(n)),n}const Py=(t,e)=>{const n=rf(t),r=rf(e),i={...n};return s=>(i.red=fl(n.red,r.red,s),i.green=fl(n.green,r.green,s),i.blue=fl(n.blue,r.blue,s),i.alpha=we(n.alpha,r.alpha,s),qn.transform(i))};function wI(t){var e,n;return isNaN(t)&&ys(t)&&(((e=t.match(fa))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ty))===null||n===void 0?void 0:n.length)||0)>0}const Ry={regex:fE,countKey:"Vars",token:"${v}",parse:be},Ny={regex:ty,countKey:"Colors",token:"${c}",parse:et.parse},ky={regex:fa,countKey:"Numbers",token:"${n}",parse:dr.parse};function ml(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function ko(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ml(n,Ry),ml(n,Ny),ml(n,ky),n}function Vy(t){return ko(t).values}function Dy(t){const{values:e,numColors:n,numVars:r,tokenised:i}=ko(t),s=e.length;return o=>{let a=i;for(let c=0;c<s;c++)c<r?a=a.replace(Ry.token,o[c]):c<r+n?a=a.replace(Ny.token,et.transform(o[c])):a=a.replace(ky.token,Li(o[c]));return a}}const xI=t=>typeof t=="number"?0:t;function TI(t){const e=Vy(t);return Dy(t)(e.map(xI))}const In={test:wI,parse:Vy,createTransformer:Dy,getAnimatableNone:TI},Oy=(t,e)=>n=>`${n>0?e:t}`;function My(t,e){return typeof t=="number"?n=>we(t,e,n):et.test(t)?Py(t,e):t.startsWith("var(")?Oy(t,e):Ly(t,e)}const jy=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>My(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},bI=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=My(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},Ly=(t,e)=>{const n=In.createTransformer(e),r=ko(t),i=ko(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?gn(jy(r.values,i.values),n):Oy(t,e)},Ji=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},sf=(t,e)=>n=>we(t,e,n);function EI(t){return typeof t=="number"?sf:typeof t=="string"?et.test(t)?Py:Ly:Array.isArray(t)?jy:typeof t=="object"?bI:sf}function II(t,e,n){const r=[],i=n||EI(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||be:e;a=gn(c,a)}r.push(a)}return r}function Fy(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(fu(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=II(e,r,i),a=o.length,c=u=>{let h=0;if(a>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=Ji(t[h],t[h+1],u);return o[h](f)};return n?u=>c(En(t[0],t[s-1],u)):c}function AI(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ji(0,e,r);t.push(we(n,1,i))}}function CI(t){const e=[0];return AI(e,t.length-1),e}function SI(t,e){return t.map(n=>n*e)}function PI(t,e){return t.map(()=>e||by).splice(0,t.length-1)}function Vo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=uI(r)?r.map(nf):nf(r),s={done:!1,value:e[0]},o=SI(n&&n.length===e.length?n:CI(e),t),a=Fy(o,e,{ease:Array.isArray(i)?i:PI(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}function Uy(t,e){return e?t*(1e3/e):0}const RI=5;function By(t,e,n){const r=Math.max(e-RI,0);return Uy(n-t(r),e-r)}const pl=.001,NI=.01,of=10,kI=.05,VI=1;function DI({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;tI(t<=yn(of));let o=1-e;o=En(kI,VI,o),t=En(NI,of,Bt(t)),o<1?(i=u=>{const h=u*o,f=h*t,p=h-n,y=rc(u,o),b=Math.exp(-f);return pl-p/y*b},s=u=>{const f=u*o*t,p=f*n+n,y=Math.pow(o,2)*Math.pow(u,2)*t,b=Math.exp(-f),w=rc(Math.pow(u,2),o);return(-i(u)+pl>0?-1:1)*((p-y)*b)/w}):(i=u=>{const h=Math.exp(-u*t),f=(u-n)*t+1;return-pl+h*f},s=u=>{const h=Math.exp(-u*t),f=(n-u)*(t*t);return h*f});const a=5/t,c=MI(i,s,a);if(t=yn(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const OI=12;function MI(t,e,n){let r=n;for(let i=1;i<OI;i++)r=r-t(r)/e(r);return r}function rc(t,e){return t*Math.sqrt(1-e*e)}const jI=["duration","bounce"],LI=["stiffness","damping","mass"];function af(t,e){return e.some(n=>t[n]!==void 0)}function FI(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!af(t,LI)&&af(t,jI)){const n=DI(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function $y({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:p}=FI({...r,velocity:-Bt(r.velocity||0)}),y=f||0,b=c/(2*Math.sqrt(a*u)),w=s-i,x=Bt(Math.sqrt(a/u)),k=Math.abs(w)<5;n||(n=k?.01:2),e||(e=k?.005:.5);let S;if(b<1){const P=rc(x,b);S=D=>{const L=Math.exp(-b*x*D);return s-L*((y+b*x*w)/P*Math.sin(P*D)+w*Math.cos(P*D))}}else if(b===1)S=P=>s-Math.exp(-x*P)*(w+(y+x*w)*P);else{const P=x*Math.sqrt(b*b-1);S=D=>{const L=Math.exp(-b*x*D),U=Math.min(P*D,300);return s-L*((y+b*x*w)*Math.sinh(U)+P*w*Math.cosh(U))/P}}return{calculatedDuration:p&&h||null,next:P=>{const D=S(P);if(p)o.done=P>=h;else{let L=y;P!==0&&(b<1?L=By(S,P,D):L=0);const U=Math.abs(L)<=n,I=Math.abs(s-D)<=e;o.done=U&&I}return o.value=o.done?s:D,o}}}function lf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},y=T=>a!==void 0&&T<a||c!==void 0&&T>c,b=T=>a===void 0?c:c===void 0||Math.abs(a-T)<Math.abs(c-T)?a:c;let w=n*e;const x=f+w,k=o===void 0?x:o(x);k!==x&&(w=k-f);const S=T=>-w*Math.exp(-T/r),P=T=>k+S(T),D=T=>{const E=S(T),C=P(T);p.done=Math.abs(E)<=u,p.value=p.done?k:C};let L,U;const I=T=>{y(p.value)&&(L=T,U=$y({keyframes:[p.value,b(p.value)],velocity:By(P,T,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return I(0),{calculatedDuration:null,next:T=>{let E=!1;return!U&&L===void 0&&(E=!0,D(T),I(T)),L!==void 0&&T>L?U.next(T-L):(!E&&D(T),p)}}}const UI=t=>{const e=({timestamp:n})=>t(n);return{start:()=>he.update(e,!0),stop:()=>zt(e),now:()=>Ge.isProcessing?Ge.timestamp:performance.now()}},cf=2e4;function uf(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cf;)e+=n,r=t.next(e);return e>=cf?1/0:e}const BI={decay:lf,inertia:lf,tween:Vo,keyframes:Vo,spring:$y};function Do({autoplay:t=!0,delay:e=0,driver:n=UI,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:h,onUpdate:f,...p}){let y=1,b=!1,w,x;const k=()=>{x=new Promise(se=>{w=se})};k();let S;const P=BI[i]||Vo;let D;P!==Vo&&typeof r[0]!="number"&&(D=Fy([0,100],r,{clamp:!1}),r=[0,100]);const L=P({...p,keyframes:r});let U;a==="mirror"&&(U=P({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let I="idle",T=null,E=null,C=null;L.calculatedDuration===null&&s&&(L.calculatedDuration=uf(L));const{calculatedDuration:N}=L;let R=1/0,A=1/0;N!==null&&(R=N+o,A=R*(s+1)-o);let $=0;const le=se=>{if(E===null)return;y>0&&(E=Math.min(E,se)),y<0&&(E=Math.min(se-A/y,E)),T!==null?$=T:$=Math.round(se-E)*y;const _e=$-e*(y>=0?1:-1),Z=y>=0?_e<0:_e>A;$=Math.max(_e,0),I==="finished"&&T===null&&($=A);let Dn=$,Qt=L;if(s){const fi=Math.min($,A)/R;let kt=Math.floor(fi),at=fi%1;!at&&fi>=1&&(at=1),at===1&&kt--,kt=Math.min(kt,s+1),!!(kt%2)&&(a==="reverse"?(at=1-at,o&&(at-=o/R)):a==="mirror"&&(Qt=U)),Dn=En(0,1,at)*R}const On=Z?{done:!1,value:r[0]}:Qt.next(Dn);D&&(On.value=D(On.value));let{done:Xt}=On;!Z&&N!==null&&(Xt=y>=0?$>=A:$<=0);const Oa=T===null&&(I==="finished"||I==="running"&&Xt);return f&&f(On.value),Oa&&Ee(),On},ie=()=>{S&&S.stop(),S=void 0},ve=()=>{I="idle",ie(),w(),k(),E=C=null},Ee=()=>{I="finished",h&&h(),ie(),w()},Ie=()=>{if(b)return;S||(S=n(le));const se=S.now();c&&c(),T!==null?E=se-T:(!E||I==="finished")&&(E=se),I==="finished"&&k(),C=E,T=null,I="running",S.start()};t&&Ie();const xt={then(se,_e){return x.then(se,_e)},get time(){return Bt($)},set time(se){se=yn(se),$=se,T!==null||!S||y===0?T=se:E=S.now()-se/y},get duration(){const se=L.calculatedDuration===null?uf(L):L.calculatedDuration;return Bt(se)},get speed(){return y},set speed(se){se===y||!S||(y=se,xt.time=Bt($))},get state(){return I},play:Ie,pause:()=>{I="paused",T=$},stop:()=>{b=!0,I!=="idle"&&(I="idle",u&&u(),ve())},cancel:()=>{C!==null&&le(C),ve()},complete:()=>{I="finished"},sample:se=>(E=0,le(se))};return xt}function $I(t){let e;return()=>(e===void 0&&(e=t()),e)}const zI=$I(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),HI=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Js=10,WI=2e4,qI=(t,e)=>e.type==="spring"||t==="backgroundColor"||!_y(e.ease);function GI(t,e,{onUpdate:n,onComplete:r,...i}){if(!(zI()&&HI.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,c,u=!1;const h=()=>{c=new Promise(P=>{a=P})};h();let{keyframes:f,duration:p=300,ease:y,times:b}=i;if(qI(e,i)){const P=Do({...i,repeat:0,delay:0});let D={done:!1,value:f[0]};const L=[];let U=0;for(;!D.done&&U<WI;)D=P.sample(U),L.push(D.value),U+=Js;b=void 0,f=L,p=U-Js,y="linear"}const w=rI(t.owner.current,e,f,{...i,duration:p,ease:y,times:b}),x=()=>{u=!1,w.cancel()},k=()=>{u=!0,he.update(x),a(),h()};return w.onfinish=()=>{u||(t.set(iI(f,i)),r&&r(),k())},{then(P,D){return c.then(P,D)},attachTimeline(P){return w.timeline=P,w.onfinish=null,be},get time(){return Bt(w.currentTime||0)},set time(P){w.currentTime=yn(P)},get speed(){return w.playbackRate},set speed(P){w.playbackRate=P},get duration(){return Bt(p)},play:()=>{o||(w.play(),zt(x))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:P}=w;if(P){const D=Do({...i,autoplay:!1});t.setWithVelocity(D.sample(P-Js).value,D.sample(P).value,Js)}k()},complete:()=>{u||w.finish()},cancel:k}}function KI({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:be,pause:be,stop:be,then:s=>(s(),Promise.resolve()),cancel:be,complete:be});return e?Do({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const YI={type:"spring",stiffness:500,damping:25,restSpeed:10},QI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XI={type:"keyframes",duration:.8},JI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZI=(t,{keyframes:e})=>e.length>2?XI:hr.has(t)?t.startsWith("scale")?QI(e[1]):YI:JI,ic=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(In.test(e)||e==="0")&&!e.startsWith("url(")),eA=new Set(["brightness","contrast","saturate","opacity"]);function tA(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fa)||[];if(!r)return t;const i=n.replace(r,"");let s=eA.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const nA=/([a-z-]*)\(.*?\)/g,sc={...In,getAnimatableNone:t=>{const e=t.match(nA);return e?e.map(tA).join(" "):t}},rA={...ny,color:et,backgroundColor:et,outlineColor:et,fill:et,stroke:et,borderColor:et,borderTopColor:et,borderRightColor:et,borderBottomColor:et,borderLeftColor:et,filter:sc,WebkitFilter:sc},yu=t=>rA[t];function zy(t,e){let n=yu(t);return n!==sc&&(n=In),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Hy=t=>/^0[^.\s]+$/.test(t);function iA(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Hy(t)}function sA(t,e,n,r){const i=ic(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const c=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),iA(s[u])&&c.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&c.length&&a)for(let u=0;u<c.length;u++){const h=c[u];s[h]=zy(e,a)}return s}function oA({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...h}){return!!Object.keys(h).length}function vu(t,e){return t[e]||t.default||t}const aA={skipAnimations:!1},_u=(t,e,n,r={})=>i=>{const s=vu(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-yn(o);const c=sA(e,t,n,s),u=c[0],h=c[c.length-1],f=ic(t,u),p=ic(t,h);let y={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:b=>{e.set(b),s.onUpdate&&s.onUpdate(b)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(oA(s)||(y={...y,...ZI(t,y)}),y.duration&&(y.duration=yn(y.duration)),y.repeatDelay&&(y.repeatDelay=yn(y.repeatDelay)),!f||!p||nI.current||s.type===!1||aA.skipAnimations)return KI(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const b=GI(e,t,y);if(b)return b}return Do(y)};function Oo(t){return!!(it(t)&&t.add)}const Wy=t=>/^\-?\d*\.?\d+$/.test(t);function wu(t,e){t.indexOf(e)===-1&&t.push(e)}function xu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Tu{constructor(){this.subscriptions=[]}add(e){return wu(this.subscriptions,e),()=>xu(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lA=t=>!isNaN(parseFloat(t));class cA{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Ge;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,he.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>he.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=lA(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Tu);const r=this.events[e].add(n);return e==="change"?()=>{r(),he.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Uy(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $r(t,e){return new cA(t,e)}const qy=t=>e=>e.test(t),uA={test:t=>t==="auto",parse:t=>t},Gy=[dr,W,It,rn,yE,gE,uA],Pi=t=>Gy.find(qy(t)),hA=[...Gy,et,In],dA=t=>hA.find(qy(t));function fA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$r(n))}function mA(t,e){const n=pa(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=NE(s[o]);fA(t,o,a)}}function pA(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const c=s[a],u=e[c];let h=null;Array.isArray(u)&&(h=u[0]),h===null&&(h=(i=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&i!==void 0?i:e[c]),h!=null&&(typeof h=="string"&&(Wy(h)||Hy(h))?h=parseFloat(h):!dA(h)&&In.test(u)&&(h=zy(c,u)),t.addValue(c,$r(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function gA(t,e){return e?(e[t]||e.default||e).from:void 0}function yA(t,e,n){const r={};for(const i in t){const s=gA(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function vA({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _A(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Ky(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(s=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const p=t.getValue(f),y=a[f];if(!p||y===void 0||h&&vA(h,f))continue;const b={delay:n,elapsed:0,...vu(s||{},f)};if(window.HandoffAppearAnimations){const k=t.getProps()[Yg];if(k){const S=window.HandoffAppearAnimations(k,f,p,he);S!==null&&(b.elapsed=S,b.isHandoff=!0)}}let w=!b.isHandoff&&!_A(p,y);if(b.type==="spring"&&(p.getVelocity()||b.velocity)&&(w=!1),p.animation&&(w=!1),w)continue;p.start(_u(f,p,y,t.shouldReduceMotion&&hr.has(f)?{type:!1}:b));const x=p.animation;Oo(c)&&(c.add(f),x.then(()=>c.remove(f))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&mA(t,o)}),u}function oc(t,e,n={}){const r=pa(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Ky(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return wA(t,e,u+c,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function wA(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(xA).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(oc(u,e,{...s,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function xA(t,e){return t.sortNodePosition(e)}function TA(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>oc(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=oc(t,e,n);else{const i=typeof e=="function"?pa(t,e,n.custom):e;r=Promise.all(Ky(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const bA=[...ru].reverse(),EA=ru.length;function IA(t){return e=>Promise.all(e.map(({animation:n,options:r})=>TA(t,n,r)))}function AA(t){let e=IA(t);const n=SA();let r=!0;const i=(c,u)=>{const h=pa(t,u);if(h){const{transition:f,transitionEnd:p,...y}=h;c={...c,...y,...p}}return c};function s(c){e=c(t)}function o(c,u){const h=t.getProps(),f=t.getVariantContext(!0)||{},p=[],y=new Set;let b={},w=1/0;for(let k=0;k<EA;k++){const S=bA[k],P=n[S],D=h[S]!==void 0?h[S]:f[S],L=Qi(D),U=S===u?P.isActive:null;U===!1&&(w=k);let I=D===f[S]&&D!==h[S]&&L;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),P.protectedKeys={...b},!P.isActive&&U===null||!D&&!P.prevProp||ha(D)||typeof D=="boolean")continue;let E=CA(P.prevProp,D)||S===u&&P.isActive&&!I&&L||k>w&&L,C=!1;const N=Array.isArray(D)?D:[D];let R=N.reduce(i,{});U===!1&&(R={});const{prevResolvedValues:A={}}=P,$={...A,...R},le=ie=>{E=!0,y.has(ie)&&(C=!0,y.delete(ie)),P.needsAnimating[ie]=!0};for(const ie in $){const ve=R[ie],Ee=A[ie];if(b.hasOwnProperty(ie))continue;let Ie=!1;No(ve)&&No(Ee)?Ie=!yy(ve,Ee):Ie=ve!==Ee,Ie?ve!==void 0?le(ie):y.add(ie):ve!==void 0&&y.has(ie)?le(ie):P.protectedKeys[ie]=!0}P.prevProp=D,P.prevResolvedValues=R,P.isActive&&(b={...b,...R}),r&&t.blockInitialAnimation&&(E=!1),E&&(!I||C)&&p.push(...N.map(ie=>({animation:ie,options:{type:S,...c}})))}if(y.size){const k={};y.forEach(S=>{const P=t.getBaseTarget(S);P!==void 0&&(k[S]=P)}),p.push({animation:k})}let x=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(c,u,h){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(y=>{var b;return(b=y.animationState)===null||b===void 0?void 0:b.setActive(c,u)}),n[c].isActive=u;const p=o(h,c);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function CA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yy(e,t):!1}function Un(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SA(){return{animate:Un(!0),whileInView:Un(),whileHover:Un(),whileTap:Un(),whileDrag:Un(),whileFocus:Un(),exit:Un()}}class PA extends kn{constructor(e){super(e),e.animationState||(e.animationState=AA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ha(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let RA=0;class NA extends kn{constructor(){super(...arguments),this.id=RA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kA={animation:{Feature:PA},exit:{Feature:NA}},hf=(t,e)=>Math.abs(t-e);function VA(t,e){const n=hf(t.x,e.x),r=hf(t.y,e.y);return Math.sqrt(n**2+r**2)}class Yy{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=yl(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=VA(f.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:b}=f,{timestamp:w}=Ge;this.history.push({...b,timestamp:w});const{onStart:x,onMove:k}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=gl(p,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=yl(f.type==="pointercancel"?this.lastMoveEventInfo:gl(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,x),b&&b(f,x)},!dy(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=ma(e),a=gl(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=Ge;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,yl(a,this.history)),this.removeListeners=gn(Ut(this.contextWindow,"pointermove",this.handlePointerMove),Ut(this.contextWindow,"pointerup",this.handlePointerUp),Ut(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zt(this.updatePoint)}}function gl(t,e){return e?{point:e(t.point)}:t}function df(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yl({point:t},e){return{point:t,delta:df(t,Qy(e)),offset:df(t,DA(e)),velocity:OA(e,.1)}}function DA(t){return t[0]}function Qy(t){return t[t.length-1]}function OA(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Qy(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>yn(e)));)n--;if(!r)return{x:0,y:0};const s=Bt(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ot(t){return t.max-t.min}function ac(t,e=0,n=.01){return Math.abs(t-e)<=n}function ff(t,e,n,r=.5){t.origin=r,t.originPoint=we(e.min,e.max,t.origin),t.scale=ot(n)/ot(e),(ac(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=we(n.min,n.max,t.origin)-t.originPoint,(ac(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Fi(t,e,n,r){ff(t.x,e.x,n.x,r?r.originX:void 0),ff(t.y,e.y,n.y,r?r.originY:void 0)}function mf(t,e,n){t.min=n.min+e.min,t.max=t.min+ot(e)}function MA(t,e,n){mf(t.x,e.x,n.x),mf(t.y,e.y,n.y)}function pf(t,e,n){t.min=e.min-n.min,t.max=t.min+ot(e)}function Ui(t,e,n){pf(t.x,e.x,n.x),pf(t.y,e.y,n.y)}function jA(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?we(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?we(n,t,r.max):Math.min(t,n)),t}function gf(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function LA(t,{top:e,left:n,bottom:r,right:i}){return{x:gf(t.x,n,i),y:gf(t.y,e,r)}}function yf(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function FA(t,e){return{x:yf(t.x,e.x),y:yf(t.y,e.y)}}function UA(t,e){let n=.5;const r=ot(t),i=ot(e);return i>r?n=Ji(e.min,e.max-r,t.min):r>i&&(n=Ji(t.min,t.max-i,e.min)),En(0,1,n)}function BA(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const lc=.35;function $A(t=lc){return t===!1?t=0:t===!0&&(t=lc),{x:vf(t,"left","right"),y:vf(t,"top","bottom")}}function vf(t,e,n){return{min:_f(t,e),max:_f(t,n)}}function _f(t,e){return typeof t=="number"?t:t[e]||0}const wf=()=>({translate:0,scale:1,origin:0,originPoint:0}),kr=()=>({x:wf(),y:wf()}),xf=()=>({min:0,max:0}),Pe=()=>({x:xf(),y:xf()});function ct(t){return[t("x"),t("y")]}function Xy({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function zA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function HA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vl(t){return t===void 0||t===1}function cc({scale:t,scaleX:e,scaleY:n}){return!vl(t)||!vl(e)||!vl(n)}function Bn(t){return cc(t)||Jy(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Jy(t){return Tf(t.x)||Tf(t.y)}function Tf(t){return t&&t!=="0%"}function Mo(t,e,n){const r=t-n,i=e*r;return n+i}function bf(t,e,n,r,i){return i!==void 0&&(t=Mo(t,i,r)),Mo(t,n,r)+e}function uc(t,e=0,n=1,r,i){t.min=bf(t.min,e,n,r,i),t.max=bf(t.max,e,n,r,i)}function Zy(t,{x:e,y:n}){uc(t.x,e.translate,e.scale,e.originPoint),uc(t.y,n.translate,n.scale,n.originPoint)}function WA(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Vr(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Zy(t,o)),r&&Bn(s.latestValues)&&Vr(t,s.latestValues))}e.x=Ef(e.x),e.y=Ef(e.y)}function Ef(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function on(t,e){t.min=t.min+e,t.max=t.max+e}function If(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=we(t.min,t.max,s);uc(t,e[n],e[r],o,e.scale)}const qA=["x","scaleX","originX"],GA=["y","scaleY","originY"];function Vr(t,e){If(t.x,e,qA),If(t.y,e,GA)}function ev(t,e){return Xy(HA(t.getBoundingClientRect(),e))}function KA(t,e,n){const r=ev(t,n),{scroll:i}=e;return i&&(on(r.x,i.offset.x),on(r.y,i.offset.y)),r}const tv=({current:t})=>t?t.ownerDocument.defaultView:null,YA=new WeakMap;class QA{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ma(h,"page").point)},s=(h,f)=>{const{drag:p,dragPropagation:y,onDragStart:b}=this.getProps();if(p&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=my(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ct(x=>{let k=this.getAxisMotionValue(x).get()||0;if(It.test(k)){const{projection:S}=this.visualElement;if(S&&S.layout){const P=S.layout.layoutBox[x];P&&(k=ot(P)*(parseFloat(k)/100))}}this.originPoint[x]=k}),b&&he.update(()=>b(h,f),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:b,onDrag:w}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=f;if(y&&this.currentDirection===null){this.currentDirection=XA(x),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),w&&w(h,f)},a=(h,f)=>this.stop(h,f),c=()=>ct(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Yy(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:tv(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&he.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Zs(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=jA(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Rr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=LA(i.layoutBox,n):this.constraints=!1,this.elastic=$A(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ct(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=BA(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Rr(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=KA(r,i.root,this.visualElement.getTransformPagePoint());let o=FA(i.layout.layoutBox,s);if(n){const a=n(zA(o));this.hasMutatedConstraints=!!a,a&&(o=Xy(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=ct(h=>{if(!Zs(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,b={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,b)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(_u(e,r,0,n))}stopAnimation(){ct(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ct(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ct(n=>{const{drag:r}=this.getProps();if(!Zs(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-we(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Rr(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ct(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();i[o]=UA({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ct(o=>{if(!Zs(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(we(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;YA.set(this.visualElement,this);const e=this.visualElement.current,n=Ut(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Rr(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Mt(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ct(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=lc,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Zs(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XA(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class JA extends kn{constructor(e){super(e),this.removeGroupControls=be,this.removeListeners=be,this.controls=new QA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||be}unmount(){this.removeGroupControls(),this.removeListeners()}}const Af=t=>(e,n)=>{t&&he.update(()=>t(e,n))};class ZA extends kn{constructor(){super(...arguments),this.removePointerDownListener=be}onPointerDown(e){this.session=new Yy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Af(e),onStart:Af(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&he.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ut(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function e1(){const t=v.useContext(ca);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=v.useId();return v.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const fo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cf(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ri={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(W.test(t))t=parseFloat(t);else return t;const n=Cf(t,e.target.x),r=Cf(t,e.target.y);return`${n}% ${r}%`}},t1={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=In.parse(t);if(i.length>5)return r;const s=In.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=we(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class n1 extends ye.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;cE(r1),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||he.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nv(t){const[e,n]=e1(),r=v.useContext(su);return ye.createElement(n1,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(Xg),isPresent:e,safeToRemove:n})}const r1={borderRadius:{...Ri,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ri,borderTopRightRadius:Ri,borderBottomLeftRadius:Ri,borderBottomRightRadius:Ri,boxShadow:t1},rv=["TopLeft","TopRight","BottomLeft","BottomRight"],i1=rv.length,Sf=t=>typeof t=="string"?parseFloat(t):t,Pf=t=>typeof t=="number"||W.test(t);function s1(t,e,n,r,i,s){i?(t.opacity=we(0,n.opacity!==void 0?n.opacity:1,o1(r)),t.opacityExit=we(e.opacity!==void 0?e.opacity:1,0,a1(r))):s&&(t.opacity=we(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<i1;o++){const a=`border${rv[o]}Radius`;let c=Rf(e,a),u=Rf(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Pf(c)===Pf(u)?(t[a]=Math.max(we(Sf(c),Sf(u),r),0),(It.test(u)||It.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=we(e.rotate||0,n.rotate||0,r))}function Rf(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const o1=iv(0,.5,Ay),a1=iv(.5,.95,be);function iv(t,e,n){return r=>r<t?0:r>e?1:n(Ji(t,e,r))}function Nf(t,e){t.min=e.min,t.max=e.max}function lt(t,e){Nf(t.x,e.x),Nf(t.y,e.y)}function kf(t,e,n,r,i){return t-=e,t=Mo(t,1/n,r),i!==void 0&&(t=Mo(t,1/i,r)),t}function l1(t,e=0,n=1,r=.5,i,s=t,o=t){if(It.test(e)&&(e=parseFloat(e),e=we(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=we(s.min,s.max,r);t===s&&(a-=e),t.min=kf(t.min,e,n,a,i),t.max=kf(t.max,e,n,a,i)}function Vf(t,e,[n,r,i],s,o){l1(t,e[n],e[r],e[i],e.scale,s,o)}const c1=["x","scaleX","originX"],u1=["y","scaleY","originY"];function Df(t,e,n,r){Vf(t.x,e,c1,n?n.x:void 0,r?r.x:void 0),Vf(t.y,e,u1,n?n.y:void 0,r?r.y:void 0)}function Of(t){return t.translate===0&&t.scale===1}function sv(t){return Of(t.x)&&Of(t.y)}function h1(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function ov(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Mf(t){return ot(t.x)/ot(t.y)}class d1{constructor(){this.members=[]}add(e){wu(this.members,e),e.scheduleRender()}remove(e){if(xu(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jf(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:h}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const f1=(t,e)=>t.depth-e.depth;class m1{constructor(){this.children=[],this.isDirty=!1}add(e){wu(this.children,e),this.isDirty=!0}remove(e){xu(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(f1),this.isDirty=!1,this.children.forEach(e)}}function p1(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(zt(r),t(s-e))};return he.read(r,!0),()=>zt(r)}function g1(t){window.MotionDebug&&window.MotionDebug.record(t)}function y1(t){return t instanceof SVGElement&&t.tagName!=="svg"}function v1(t,e,n){const r=it(t)?t:$r(t);return r.start(_u("",r,e,n)),r.animation}const Lf=["","X","Y","Z"],_1={visibility:"hidden"},Ff=1e3;let w1=0;const $n={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function av({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=w1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$n.totalNodes=$n.resolvedTargetDeltas=$n.recalculatedProjection=0,this.nodes.forEach(b1),this.nodes.forEach(S1),this.nodes.forEach(P1),this.nodes.forEach(E1),g1($n)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new m1)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Tu),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=y1(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=p1(p,250),fo.hasAnimatedSinceResize&&(fo.hasAnimatedSinceResize=!1,this.nodes.forEach(Bf))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||D1,{onLayoutAnimationStart:x,onLayoutAnimationComplete:k}=h.getProps(),S=!this.targetLayout||!ov(this.targetLayout,b)||y,P=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||P||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,P);const D={...vu(w,"layout"),onPlay:x,onComplete:k};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else p||Bf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(R1),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uf);return}this.isUpdating||this.nodes.forEach(A1),this.isUpdating=!1,this.nodes.forEach(C1),this.nodes.forEach(x1),this.nodes.forEach(T1),this.clearAllSnapshots();const a=performance.now();Ge.delta=En(0,1e3/60,a-Ge.timestamp),Ge.timestamp=a,Ge.isProcessing=!0,ll.update.process(Ge),ll.preRender.process(Ge),ll.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(I1),this.sharedNodes.forEach(N1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!sv(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||Bn(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),O1(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Pe();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(on(a.x,c.offset.x),on(a.y,c.offset.y)),a}removeElementScroll(o){const a=Pe();lt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;if(u!==this.root&&h&&f.layoutScroll){if(h.isRoot){lt(a,o);const{scroll:p}=this.root;p&&(on(a.x,-p.offset.x),on(a.y,-p.offset.y))}on(a.x,h.offset.x),on(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const c=Pe();lt(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Vr(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Bn(h.latestValues)&&Vr(c,h.latestValues)}return Bn(this.latestValues)&&Vr(c,this.latestValues),c}removeTransform(o){const a=Pe();lt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Bn(u.latestValues))continue;cc(u.latestValues)&&u.updateSnapshot();const h=Pe(),f=u.measurePageBox();lt(h,f),Df(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Bn(this.latestValues)&&Df(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Ui(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),lt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pe(),this.targetWithTransforms=Pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lt(this.target,this.layout.layoutBox),Zy(this.target,this.targetDelta)):lt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Ui(this.relativeTargetOrigin,this.target,y.target),lt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$n.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cc(this.parent.latestValues)||Jy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;lt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;WA(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:b}=a;if(!b){this.projectionTransform&&(this.projectionDelta=kr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=kr(),this.projectionDeltaWithTransform=kr());const w=this.projectionTransform;Fi(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=jf(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==p||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),$n.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},f=kr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Pe(),y=c?c.source:void 0,b=this.layout?this.layout.source:void 0,w=y!==b,x=this.getStack(),k=!x||x.members.length<=1,S=!!(w&&!k&&this.options.crossfade===!0&&!this.path.some(V1));this.animationProgress=0;let P;this.mixTargetDelta=D=>{const L=D/1e3;$f(f.x,o.x,L),$f(f.y,o.y,L),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ui(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),k1(this.relativeTarget,this.relativeTargetOrigin,p,L),P&&h1(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Pe()),lt(P,this.relativeTarget)),w&&(this.animationValues=h,s1(h,u,this.latestValues,L,S,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{fo.hasAnimatedSinceResize=!0,this.currentAnimation=v1(0,Ff,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ff),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:h}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&lv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Pe();const f=ot(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=ot(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}lt(a,c),Vr(a,h),Fi(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new d1),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let h=0;h<Lf.length;h++){const f="rotate"+Lf[h];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const h in u)o.setStaticValue(h,u[h]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _1;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ho(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ho(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Bn(this.latestValues)&&(w.transform=h?h({},""):"none",this.hasProjected=!1),w}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=jf(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x:y,y:b}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Po){if(p[w]===void 0)continue;const{correct:x,applyTo:k}=Po[w],S=u.transform==="none"?p[w]:x(p[w],f);if(k){const P=k.length;for(let D=0;D<P;D++)u[k[D]]=S}else u[w]=S}return this.options.layoutId&&(u.pointerEvents=f===this?ho(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Uf),this.root.sharedNodes.clear()}}}function x1(t){t.updateLayout()}function T1(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ct(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],y=ot(p);p.min=r[f].min,p.max=p.min+y}):lv(s,n.layoutBox,r)&&ct(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],y=ot(r[f]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const a=kr();Fi(a,r,n.layoutBox);const c=kr();o?Fi(c,t.applyTransform(i,!0),n.measuredBox):Fi(c,r,n.layoutBox);const u=!sv(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const b=Pe();Ui(b,n.layoutBox,p.layoutBox);const w=Pe();Ui(w,r,y.layoutBox),ov(b,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=b,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function b1(t){$n.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function E1(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function I1(t){t.clearSnapshot()}function Uf(t){t.clearMeasurements()}function A1(t){t.isLayoutDirty=!1}function C1(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bf(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function S1(t){t.resolveTargetDelta()}function P1(t){t.calcProjection()}function R1(t){t.resetRotation()}function N1(t){t.removeLeadSnapshot()}function $f(t,e,n){t.translate=we(e.translate,0,n),t.scale=we(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zf(t,e,n,r){t.min=we(e.min,n.min,r),t.max=we(e.max,n.max,r)}function k1(t,e,n,r){zf(t.x,e.x,n.x,r),zf(t.y,e.y,n.y,r)}function V1(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const D1={duration:.45,ease:[.4,0,.1,1]},Hf=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Wf=Hf("applewebkit/")&&!Hf("chrome/")?Math.round:be;function qf(t){t.min=Wf(t.min),t.max=Wf(t.max)}function O1(t){qf(t.x),qf(t.y)}function lv(t,e,n){return t==="position"||t==="preserve-aspect"&&!ac(Mf(e),Mf(n),.2)}const M1=av({attachResizeListener:(t,e)=>Mt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_l={current:void 0},cv=av({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!_l.current){const t=new M1({});t.mount(window),t.setOptions({layoutScroll:!0}),_l.current=t}return _l.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),j1={pan:{Feature:ZA},drag:{Feature:JA,ProjectionNode:cv,MeasureLayout:nv}},L1=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function F1(t){const e=L1.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function hc(t,e,n=1){const[r,i]=F1(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Wy(o)?parseFloat(o):o}else return ec(i)?hc(i,e,n+1):i}function U1(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!ec(s))return;const o=hc(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!ec(s))continue;const o=hc(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const B1=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uv=t=>B1.has(t),$1=t=>Object.keys(t).some(uv),Gf=t=>t===dr||t===W,Kf=(t,e)=>parseFloat(t.split(", ")[e]),Yf=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Kf(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?Kf(s[1],t):0}},z1=new Set(["x","y","z"]),H1=gs.filter(t=>!z1.has(t));function W1(t){const e=[];return H1.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const zr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Yf(4,13),y:Yf(5,14)};zr.translateX=zr.x;zr.translateY=zr.y;const q1=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=zr[u](r,s)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const h=e.getValue(u);h&&h.jump(a[u]),t[u]=zr[u](c,s)}),t},G1=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(uv);let s=[],o=!1;const a=[];if(i.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],f=Pi(h);const p=e[c];let y;if(No(p)){const b=p.length,w=p[0]===null?1:0;h=p[w],f=Pi(h);for(let x=w;x<b&&p[x]!==null;x++)y?fu(Pi(p[x])===y):y=Pi(p[x])}else y=Pi(p);if(f!==y)if(Gf(f)&&Gf(y)){const b=u.get();typeof b=="string"&&u.set(parseFloat(b)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&y===W&&(e[c]=p.map(parseFloat))}else f!=null&&f.transform&&(y!=null&&y.transform)&&(h===0||p===0)?h===0?u.set(y.transform(h)):e[c]=f.transform(p):(o||(s=W1(t),o=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:e[c],u.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=q1(e,t,a);return s.length&&s.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),ua&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function K1(t,e,n,r){return $1(e)?G1(t,e,n,r):{target:e,transitionEnd:r}}const Y1=(t,e,n,r)=>{const i=U1(t,e,r);return e=i.target,r=i.transitionEnd,K1(t,e,n,r)},dc={current:null},hv={current:!1};function Q1(){if(hv.current=!0,!!ua)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dc.current=t.matches;t.addListener(e),e()}else dc.current=!1}function X1(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(it(s))t.addValue(i,s),Oo(r)&&r.add(i);else if(it(o))t.addValue(i,$r(s,{owner:t})),Oo(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,$r(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Qf=new WeakMap,dv=Object.keys(Xi),J1=dv.length,Xf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Z1=iu.length;class eC{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>he.render(this.render,!1,!0);const{latestValues:a,renderState:c}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=da(n),this.isVariantNode=Qg(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const p=h[f];a[f]!==void 0&&it(p)&&(p.set(a[f],!1),Oo(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Qf.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hv.current||Q1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Qf.delete(this.current),this.projection&&this.projection.unmount(),zt(this.notifyUpdate),zt(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=hr.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&he.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let c=0;c<J1;c++){const u=dv[c],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:y}=Xi[u];p&&(o=p),h(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:y}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!h||f&&Rr(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Xf.length;r++){const i=Xf[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=X1(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Z1;r++){const i=iu[r],s=this.props[i];(Qi(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=$r(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=du(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!it(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Tu),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class fv extends eC{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=yA(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){pA(this,r,o);const a=Y1(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function tC(t){return window.getComputedStyle(t)}class nC extends fv{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(hr.has(n)){const r=yu(n);return r&&r.default||0}else{const r=tC(e),i=(ey(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ev(e,n)}build(e,n,r,i){au(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return hu(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;it(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){oy(e,n,r,i)}}class rC extends fv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hr.has(n)){const r=yu(n);return r&&r.default||0}return n=ay.has(n)?n:nu(n),e.getAttribute(n)}measureInstanceViewportBox(){return Pe()}scrapeMotionValuesFromProps(e,n){return cy(e,n)}build(e,n,r,i){cu(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){ly(e,n,r,i)}mount(e){this.isSVGTag=uu(e.tagName),super.mount(e)}}const iC=(t,e)=>ou(t)?new rC(e,{enableHardwareAcceleration:!1}):new nC(e,{enableHardwareAcceleration:!0}),sC={layout:{ProjectionNode:cv,MeasureLayout:nv}},oC={...kA,...JE,...j1,...sC},Q=aE((t,e)=>FE(t,e,oC,iC));function mv(){const t=v.useRef(!1);return tu(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function aC(){const t=mv(),[e,n]=v.useState(0),r=v.useCallback(()=>{t.current&&n(e+1)},[e]);return[v.useCallback(()=>he.postRender(r),[r]),e]}class lC extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cC({children:t,isPresent:e}){const n=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:c}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),v.createElement(lC,{isPresent:e,childRef:r,sizeRef:i},v.cloneElement(t,{ref:r}))}const wl=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=uy(uC),c=v.useId(),u=v.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?void 0:[n]);return v.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),v.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=v.createElement(cC,{isPresent:n},t)),v.createElement(ca.Provider,{value:u},t)};function uC(){return new Map}function hC(t){return v.useEffect(()=>()=>t(),[])}const zn=t=>t.key||"";function dC(t,e){t.forEach(n=>{const r=zn(n);e.set(r,n)})}function fC(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const fc=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=v.useContext(su).forceRender||aC()[0],c=mv(),u=fC(t);let h=u;const f=v.useRef(new Map).current,p=v.useRef(h),y=v.useRef(new Map).current,b=v.useRef(!0);if(tu(()=>{b.current=!1,dC(u,y),p.current=h}),hC(()=>{b.current=!0,y.clear(),f.clear()}),b.current)return v.createElement(v.Fragment,null,h.map(S=>v.createElement(wl,{key:zn(S),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},S)));h=[...h];const w=p.current.map(zn),x=u.map(zn),k=w.length;for(let S=0;S<k;S++){const P=w[S];x.indexOf(P)===-1&&!f.has(P)&&f.set(P,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((S,P)=>{if(x.indexOf(P)!==-1)return;const D=y.get(P);if(!D)return;const L=w.indexOf(P);let U=S;if(!U){const I=()=>{f.delete(P);const T=Array.from(y.keys()).filter(E=>!x.includes(E));if(T.forEach(E=>y.delete(E)),p.current=u.filter(E=>{const C=zn(E);return C===P||T.includes(C)}),!f.size){if(c.current===!1)return;a(),r&&r()}};U=v.createElement(wl,{key:zn(D),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},D),f.set(P,U)}h.splice(L,0,U)}),h=h.map(S=>{const P=S.key;return f.has(P)?S:v.createElement(wl,{key:zn(S),isPresent:!0,presenceAffectsLayout:s,mode:o},S)}),v.createElement(v.Fragment,null,f.size?h:h.map(S=>v.cloneElement(S)))},mC=eu("inline-flex items-center justify-center rounded-xl text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=ye.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?HT:"button";return d.jsx(o,{className:tt(mC({variant:e,size:n,className:t})),ref:s,...i})});ue.displayName="Button";const pC=()=>{const[t,e]=v.useState(!1),n=fs(),{user:r}=ri(),{signOut:i}=sx(),s=()=>{e(!t)},o=[{name:"Home",path:"/"},{name:"About",path:"/learn"},{name:"Therapy",path:"/therapy"},{name:"Calculator",path:"/calculator"},{name:"Services",path:"/services"}];return d.jsx(d.Fragment,{children:d.jsxs("header",{className:"bg-white/80 backdrop-blur-lg shadow-lg sticky top-0 z-50",children:[d.jsx("div",{className:"container mx-auto px-4 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(mn,{to:"/",className:"flex items-center space-x-3",children:[d.jsx("img",{alt:"Logo",className:"h-16 w-auto",src:"/images/bhaggya darshhan.png"}),d.jsx("div",{className:"hidden sm:block",children:d.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"Vaastu Guru"})})]}),d.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:o.map(a=>d.jsx(mn,{to:a.path,className:`font-medium transition-colors duration-200 ${n.pathname===a.path?"text-orange-500":"text-gray-700 hover:text-orange-500"}`,children:a.name},a.name))}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx(Td,{children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("span",{className:"text-gray-700",children:["Welcome",r!=null&&r.fullName?`, ${r.fullName}`:""]}),d.jsx(bd,{afterSignOutUrl:"/"}),d.jsx(ue,{onClick:()=>i(),variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white rounded-xl transition-transform duration-300 ease-in-out hover:scale-105",children:"Logout"})]})}),d.jsx(Ed,{children:d.jsx(Ft,{mode:"modal",children:d.jsx(ue,{className:"orange-gradient text-white hover:orange-gradient-hover rounded-xl transition-transform duration-300 ease-in-out hover:scale-105",children:"Login / Sign Up"})})})]}),d.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[d.jsx(Td,{children:d.jsx(bd,{afterSignOutUrl:"/"})}),d.jsx(Ed,{children:d.jsx(Ft,{mode:"modal",children:d.jsx(ue,{size:"sm",className:"orange-gradient text-white hover:orange-gradient-hover rounded-xl transition-transform duration-300 ease-in-out hover:scale-105",children:"Login / Sign Up"})})}),d.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:d.jsx(Q.div,{animate:{rotate:t?90:0},transition:{duration:.3},children:d.jsx(Lb,{className:"h-6 w-6 text-orange-500"})})})]})]})}),d.jsx(fc,{children:t&&d.jsx(Q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden bg-white border-t border-gray-200",children:d.jsx("div",{className:"container mx-auto px-4 py-4 space-y-4",children:o.map(a=>d.jsx(mn,{to:a.path,onClick:()=>e(!1),className:`block py-2 font-medium transition-colors duration-200 ${n.pathname===a.path?"text-orange-500":"text-gray-700 hover:text-orange-500"}`,children:a.name},a.name))})})})]})})};var pv={exports:{}},gC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yC=gC,vC=yC;function gv(){}function yv(){}yv.resetWarningCache=gv;var _C=function(){function t(r,i,s,o,a,c){if(c!==vC){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yv,resetWarningCache:gv};return n.PropTypes=n,n};pv.exports=_C();var wC=pv.exports;const pe=ia(wC);function xC(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var vv=v,TC=xC(vv);function Jf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var EC=!!(typeof window<"u"&&window.document&&window.document.createElement);function IC(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function c(){a=t(o.map(function(h){return h.props})),u.canUseDOM?e(a):n&&(a=n(a))}var u=function(h){bC(f,h);function f(){return h.apply(this,arguments)||this}f.peek=function(){return a},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var b=a;return a=void 0,o=[],b};var p=f.prototype;return p.UNSAFE_componentWillMount=function(){o.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var b=o.indexOf(this);o.splice(b,1),c()},p.render=function(){return TC.createElement(s,this.props)},f}(vv.PureComponent);return Jf(u,"displayName","SideEffect("+r(s)+")"),Jf(u,"canUseDOM",EC),u}}var AC=IC;const CC=ia(AC);var SC=typeof Element<"u",PC=typeof Map=="function",RC=typeof Set=="function",NC=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function mo(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!mo(t[r],e[r]))return!1;return!0}var s;if(PC&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!mo(r.value[1],e.get(r.value[0])))return!1;return!0}if(RC&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(NC&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(SC&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!mo(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var kC=function(e,n){try{return mo(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const VC=ia(kC);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Zf=Object.getOwnPropertySymbols,DC=Object.prototype.hasOwnProperty,OC=Object.prototype.propertyIsEnumerable;function MC(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function jC(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var LC=jC()?Object.assign:function(t,e){for(var n,r=MC(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)DC.call(n,o)&&(r[o]=n[o]);if(Zf){i=Zf(n);for(var a=0;a<i.length;a++)OC.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const FC=ia(LC);var Kn={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},X={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(X).map(function(t){return X[t]});var ge={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},jo={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Zi={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},UC=Object.keys(jo).reduce(function(t,e){return t[jo[e]]=e,t},{}),BC=[X.NOSCRIPT,X.SCRIPT,X.STYLE],pt="data-react-helmet",$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zC=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},HC=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WC=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},em=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},qC=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},mc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},GC=function(e){var n=Or(e,X.TITLE),r=Or(e,Zi.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Or(e,Zi.DEFAULT_TITLE);return n||i||void 0},KC=function(e){return Or(e,Zi.ON_CHANGE_CLIENT_STATE)||function(){}},xl=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return nt({},r,i)},{})},YC=function(e,n){return n.filter(function(r){return typeof r[X.BASE]<"u"}).map(function(r){return r[X.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],c=a.toLowerCase();if(e.indexOf(c)!==-1&&i[c])return r.concat(i)}return r},[])},Ni=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&ZC("Helmet: "+e+' should be of type "Array". Instead found type "'+$C(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var a={};o.filter(function(p){for(var y=void 0,b=Object.keys(p),w=0;w<b.length;w++){var x=b[w],k=x.toLowerCase();n.indexOf(k)!==-1&&!(y===ge.REL&&p[y].toLowerCase()==="canonical")&&!(k===ge.REL&&p[k].toLowerCase()==="stylesheet")&&(y=k),n.indexOf(x)!==-1&&(x===ge.INNER_HTML||x===ge.CSS_TEXT||x===ge.ITEM_PROP)&&(y=x)}if(!y||!p[y])return!1;var S=p[y].toLowerCase();return i[y]||(i[y]={}),a[y]||(a[y]={}),i[y][S]?!1:(a[y][S]=!0,!0)}).reverse().forEach(function(p){return s.push(p)});for(var c=Object.keys(a),u=0;u<c.length;u++){var h=c[u],f=FC({},i[h],a[h]);i[h]=f}return s},[]).reverse()},Or=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},QC=function(e){return{baseTag:YC([ge.HREF,ge.TARGET],e),bodyAttributes:xl(Kn.BODY,e),defer:Or(e,Zi.DEFER),encode:Or(e,Zi.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:xl(Kn.HTML,e),linkTags:Ni(X.LINK,[ge.REL,ge.HREF],e),metaTags:Ni(X.META,[ge.NAME,ge.CHARSET,ge.HTTPEQUIV,ge.PROPERTY,ge.ITEM_PROP],e),noscriptTags:Ni(X.NOSCRIPT,[ge.INNER_HTML],e),onChangeClientState:KC(e),scriptTags:Ni(X.SCRIPT,[ge.SRC,ge.INNER_HTML],e),styleTags:Ni(X.STYLE,[ge.CSS_TEXT],e),title:GC(e),titleAttributes:xl(Kn.TITLE,e)}},pc=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){pc(e)},0)}}(),tm=function(e){return clearTimeout(e)},XC=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||pc:global.requestAnimationFrame||pc,JC=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||tm:global.cancelAnimationFrame||tm,ZC=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},ki=null,eS=function(e){ki&&JC(ki),e.defer?ki=XC(function(){nm(e,function(){ki=null})}):(nm(e),ki=null)},nm=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,h=e.scriptTags,f=e.styleTags,p=e.title,y=e.titleAttributes;gc(X.BODY,i),gc(X.HTML,s),tS(p,y);var b={baseTag:xr(X.BASE,r),linkTags:xr(X.LINK,o),metaTags:xr(X.META,a),noscriptTags:xr(X.NOSCRIPT,c),scriptTags:xr(X.SCRIPT,h),styleTags:xr(X.STYLE,f)},w={},x={};Object.keys(b).forEach(function(k){var S=b[k],P=S.newTags,D=S.oldTags;P.length&&(w[k]=P),D.length&&(x[k]=b[k].oldTags)}),n&&n(),u(e,w,x)},_v=function(e){return Array.isArray(e)?e.join(""):e},tS=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=_v(e)),gc(X.TITLE,n)},gc=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(pt),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),c=0;c<a.length;c++){var u=a[c],h=n[u]||"";r.getAttribute(u)!==h&&r.setAttribute(u,h),s.indexOf(u)===-1&&s.push(u);var f=o.indexOf(u);f!==-1&&o.splice(f,1)}for(var p=o.length-1;p>=0;p--)r.removeAttribute(o[p]);s.length===o.length?r.removeAttribute(pt):r.getAttribute(pt)!==a.join(",")&&r.setAttribute(pt,a.join(","))}},xr=function(e,n){var r=document.head||document.querySelector(X.HEAD),i=r.querySelectorAll(e+"["+pt+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var h in c)if(c.hasOwnProperty(h))if(h===ge.INNER_HTML)u.innerHTML=c.innerHTML;else if(h===ge.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[h]>"u"?"":c[h];u.setAttribute(h,f)}u.setAttribute(pt,"true"),s.some(function(p,y){return a=y,u.isEqualNode(p)})?s.splice(a,1):o.push(u)}),s.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:s,newTags:o}},wv=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},nS=function(e,n,r,i){var s=wv(r),o=_v(n);return s?"<"+e+" "+pt+'="true" '+s+">"+mc(o,i)+"</"+e+">":"<"+e+" "+pt+'="true">'+mc(o,i)+"</"+e+">"},rS=function(e,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(u){return!(u===ge.INNER_HTML||u===ge.CSS_TEXT)}).reduce(function(u,h){var f=typeof s[h]>"u"?h:h+'="'+mc(s[h],r)+'"';return u?u+" "+f:f},""),a=s.innerHTML||s.cssText||"",c=BC.indexOf(e)===-1;return i+"<"+e+" "+pt+'="true" '+o+(c?"/>":">"+a+"</"+e+">")},"")},xv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[jo[i]||i]=e[i],r},n)},iS=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[UC[i]||i]=e[i],r},n)},sS=function(e,n,r){var i,s=(i={key:n},i[pt]=!0,i),o=xv(r,s);return[ye.createElement(X.TITLE,o,n)]},oS=function(e,n){return n.map(function(r,i){var s,o=(s={key:i},s[pt]=!0,s);return Object.keys(r).forEach(function(a){var c=jo[a]||a;if(c===ge.INNER_HTML||c===ge.CSS_TEXT){var u=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=r[a]}),ye.createElement(e,o)})},Ot=function(e,n,r){switch(e){case X.TITLE:return{toComponent:function(){return sS(e,n.title,n.titleAttributes)},toString:function(){return nS(e,n.title,n.titleAttributes,r)}};case Kn.BODY:case Kn.HTML:return{toComponent:function(){return xv(n)},toString:function(){return wv(n)}};default:return{toComponent:function(){return oS(e,n)},toString:function(){return rS(e,n,r)}}}},Tv=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,c=e.noscriptTags,u=e.scriptTags,h=e.styleTags,f=e.title,p=f===void 0?"":f,y=e.titleAttributes;return{base:Ot(X.BASE,n,i),bodyAttributes:Ot(Kn.BODY,r,i),htmlAttributes:Ot(Kn.HTML,s,i),link:Ot(X.LINK,o,i),meta:Ot(X.META,a,i),noscript:Ot(X.NOSCRIPT,c,i),script:Ot(X.SCRIPT,u,i),style:Ot(X.STYLE,h,i),title:Ot(X.TITLE,{title:p,titleAttributes:y},i)}},aS=function(e){var n,r;return r=n=function(i){WC(s,i);function s(){return zC(this,s),qC(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!VC(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,c){if(!c)return null;switch(a.type){case X.SCRIPT:case X.NOSCRIPT:return{innerHTML:c};case X.STYLE:return{cssText:c}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var c,u=a.child,h=a.arrayTypeChildren,f=a.newChildProps,p=a.nestedChildren;return nt({},h,(c={},c[u.type]=[].concat(h[u.type]||[],[nt({},f,this.mapNestedChildrenToProps(u,p))]),c))},s.prototype.mapObjectTypeChildren=function(a){var c,u,h=a.child,f=a.newProps,p=a.newChildProps,y=a.nestedChildren;switch(h.type){case X.TITLE:return nt({},f,(c={},c[h.type]=y,c.titleAttributes=nt({},p),c));case X.BODY:return nt({},f,{bodyAttributes:nt({},p)});case X.HTML:return nt({},f,{htmlAttributes:nt({},p)})}return nt({},f,(u={},u[h.type]=nt({},p),u))},s.prototype.mapArrayTypeChildrenToProps=function(a,c){var u=nt({},c);return Object.keys(a).forEach(function(h){var f;u=nt({},u,(f={},f[h]=a[h],f))}),u},s.prototype.warnOnInvalidChildren=function(a,c){return!0},s.prototype.mapChildrenToProps=function(a,c){var u=this,h={};return ye.Children.forEach(a,function(f){if(!(!f||!f.props)){var p=f.props,y=p.children,b=em(p,["children"]),w=iS(b);switch(u.warnOnInvalidChildren(f,y),f.type){case X.LINK:case X.META:case X.NOSCRIPT:case X.SCRIPT:case X.STYLE:h=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:h,newChildProps:w,nestedChildren:y});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:w,nestedChildren:y});break}}}),c=this.mapArrayTypeChildrenToProps(h,c),c},s.prototype.render=function(){var a=this.props,c=a.children,u=em(a,["children"]),h=nt({},u);return c&&(h=this.mapChildrenToProps(c,h)),ye.createElement(e,h)},HC(s,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),s}(ye.Component),n.propTypes={base:pe.object,bodyAttributes:pe.object,children:pe.oneOfType([pe.arrayOf(pe.node),pe.node]),defaultTitle:pe.string,defer:pe.bool,encodeSpecialCharacters:pe.bool,htmlAttributes:pe.object,link:pe.arrayOf(pe.object),meta:pe.arrayOf(pe.object),noscript:pe.arrayOf(pe.object),onChangeClientState:pe.func,script:pe.arrayOf(pe.object),style:pe.arrayOf(pe.object),title:pe.string,titleAttributes:pe.object,titleTemplate:pe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=Tv({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},lS=function(){return null},cS=CC(QC,eS,Tv)(lS),Qn=aS(cS);Qn.renderStatic=Qn.rewind;var uS="Label",bv=v.forwardRef((t,e)=>d.jsx($e.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bv.displayName=uS;var Ev=bv;const hS=eu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xn=ye.forwardRef(({className:t,...e},n)=>d.jsx(Ev,{ref:n,className:tt(hS(),t),...e}));Xn.displayName=Ev.displayName;const es={_origin:"https://api.emailjs.com"},dS=(t,e="https://api.emailjs.com")=>{es._userID=t,es._origin=e},Iv=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class rm{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const Av=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new rm(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new rm(o))}),s.open("POST",es._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),fS=(t,e,n,r)=>{const i=r||es._userID;return Iv(i,t,e),Av("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},mS=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},pS=(t,e,n,r)=>{const i=r||es._userID,s=mS(n);Iv(i,t,e);const o=new FormData(s);return o.append("lib_version","3.12.1"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),Av("/api/v1.0/email/send-form",o)},gS={init:dS,send:fS,sendForm:pS},yS="service_cs2zlx7",vS="template_26pllzl",_S="MHJLn1TUuJZRK9NVz",wS=async({name:t,phone:e})=>{try{const n={to_email:"Rishabhg101@gmail.com",from_name:"Bhaggya Darshhan Website",name:t,phone:e,time:new Date().toLocaleString()};return await gS.send(yS,vS,n,_S),ke({title:"Request Sent!",description:"Our team will contact you shortly."}),!0}catch(n){return console.error("Failed to send email:",n),ke({title:"Error",description:"Could not send the request. Please try again later.",variant:"destructive"}),!1}},xS=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(p=64)),r.push(n[h],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new bS;const p=s<<2|a>>4;if(r.push(p),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ES=function(t){const e=Cv(t);return Sv.encodeByteArray(e,!0)},Lo=function(t){return ES(t).replace(/\./g,"")},Pv=function(t){try{return Sv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=()=>IS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pv(t[1]);return e&&JSON.parse(e)},ga=()=>{try{return xS()||AS()||CS()||SS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Rv=t=>{var e,n;return(n=(e=ga())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PS=t=>{const e=Rv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Nv=()=>{var t;return(t=ga())===null||t===void 0?void 0:t.config},kv=t=>{var e;return(e=ga())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return t.endsWith(".cloudworkstations.dev")}async function Vv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Lo(JSON.stringify(n)),Lo(JSON.stringify(o)),a].join(".")}const Bi={};function kS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bi))Bi[e]?t.emulator.push(e):t.prod.push(e);return t}function VS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let im=!1;function Dv(t,e){if(typeof window>"u"||typeof document>"u"||!si(window.location.host)||Bi[t]===e||Bi[t]||im)return;Bi[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=kS().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{im=!0,o()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=VS(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),k=n("preprendIcon"),S=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const P=p.element;a(P),h(x,w);const D=u();c(S,k),P.append(S,b,x,D),document.body.appendChild(P)}s?(b.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function OS(){var t;const e=(t=ga())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FS(){const t=Qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function US(){return!OS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="FirebaseError";class Yt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zS,Object.setPrototypeOf(this,Yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ws.prototype.create)}}class ws{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?HS(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yt(i,a,r)}}function HS(t,e){return t.replace(WS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const WS=/\{\$([^}]+)}/g;function qS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jn(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(sm(s)&&sm(o)){if(!Jn(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function GS(t,e){const n=new KS(t,e);return n.subscribe.bind(n)}class KS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YS(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tl),i.error===void 0&&(i.error=Tl),i.complete===void 0&&(i.complete=Tl);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class Zn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JS(e))try{this.getOrInitializeService({instanceIdentifier:Hn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Hn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hn){return this.instances.has(e)}getOptions(e=Hn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hn){return this.component?this.component.multipleInstances?e:Hn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XS(t){return t===Hn?void 0:t}function JS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const eP={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},tP=te.INFO,nP={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},rP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bu{constructor(e){this.name=e,this._logLevel=tP,this._logHandler=rP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const iP=(t,e)=>e.some(n=>t instanceof n);let om,am;function sP(){return om||(om=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oP(){return am||(am=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,yc=new WeakMap,Mv=new WeakMap,bl=new WeakMap,Eu=new WeakMap;function aP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ov.set(n,t)}).catch(()=>{}),Eu.set(e,t),e}function lP(t){if(yc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yc.set(t,e)}let vc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cP(t){vc=t(vc)}function uP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(El(this),e,...n);return Mv.set(r,e.sort?e.sort():[e]),vn(r)}:oP().includes(t)?function(...e){return t.apply(El(this),e),vn(Ov.get(this))}:function(...e){return vn(t.apply(El(this),e))}}function hP(t){return typeof t=="function"?uP(t):(t instanceof IDBTransaction&&lP(t),iP(t,sP())?new Proxy(t,vc):t)}function vn(t){if(t instanceof IDBRequest)return aP(t);if(bl.has(t))return bl.get(t);const e=hP(t);return e!==t&&(bl.set(t,e),Eu.set(e,t)),e}const El=t=>Eu.get(t);function dP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(vn(o.result),c.oldVersion,c.newVersion,vn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const fP=["get","getKey","getAll","getAllKeys","count"],mP=["put","add","delete","clear"],Il=new Map;function lm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Il.get(e))return Il.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fP.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Il.set(e,s),s}cP(t=>({...t,get:(e,n,r)=>lm(e,n)||t.get(e,n,r),has:(e,n)=>!!lm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _c="@firebase/app",cm="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht=new bu("@firebase/app"),yP="@firebase/app-compat",vP="@firebase/analytics-compat",_P="@firebase/analytics",wP="@firebase/app-check-compat",xP="@firebase/app-check",TP="@firebase/auth",bP="@firebase/auth-compat",EP="@firebase/database",IP="@firebase/data-connect",AP="@firebase/database-compat",CP="@firebase/functions",SP="@firebase/functions-compat",PP="@firebase/installations",RP="@firebase/installations-compat",NP="@firebase/messaging",kP="@firebase/messaging-compat",VP="@firebase/performance",DP="@firebase/performance-compat",OP="@firebase/remote-config",MP="@firebase/remote-config-compat",jP="@firebase/storage",LP="@firebase/storage-compat",FP="@firebase/firestore",UP="@firebase/ai",BP="@firebase/firestore-compat",$P="firebase",zP="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="[DEFAULT]",HP={[_c]:"fire-core",[yP]:"fire-core-compat",[_P]:"fire-analytics",[vP]:"fire-analytics-compat",[xP]:"fire-app-check",[wP]:"fire-app-check-compat",[TP]:"fire-auth",[bP]:"fire-auth-compat",[EP]:"fire-rtdb",[IP]:"fire-data-connect",[AP]:"fire-rtdb-compat",[CP]:"fire-fn",[SP]:"fire-fn-compat",[PP]:"fire-iid",[RP]:"fire-iid-compat",[NP]:"fire-fcm",[kP]:"fire-fcm-compat",[VP]:"fire-perf",[DP]:"fire-perf-compat",[OP]:"fire-rc",[MP]:"fire-rc-compat",[jP]:"fire-gcs",[LP]:"fire-gcs-compat",[FP]:"fire-fst",[BP]:"fire-fst-compat",[UP]:"fire-vertex","fire-js":"fire-js",[$P]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new Map,WP=new Map,xc=new Map;function um(t,e){try{t.container.addComponent(e)}catch(n){Ht.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hr(t){const e=t.name;if(xc.has(e))return Ht.debug(`There were multiple attempts to register component ${e}.`),!1;xc.set(e,t);for(const n of Fo.values())um(n,t);for(const n of WP.values())um(n,t);return!0}function Iu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_n=new ws("app","Firebase",qP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=zP;function jv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wc,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw _n.create("bad-app-name",{appName:String(i)});if(n||(n=Nv()),!n)throw _n.create("no-options");const s=Fo.get(i);if(s){if(Jn(n,s.options)&&Jn(r,s.config))return s;throw _n.create("duplicate-app",{appName:i})}const o=new ZS(i);for(const c of xc.values())o.addComponent(c);const a=new GP(n,r,o);return Fo.set(i,a),a}function Lv(t=wc){const e=Fo.get(t);if(!e&&t===wc&&Nv())return jv();if(!e)throw _n.create("no-app",{appName:t});return e}function wn(t,e,n){var r;let i=(r=HP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ht.warn(a.join(" "));return}Hr(new Zn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firebase-heartbeat-database",YP=1,ts="firebase-heartbeat-store";let Al=null;function Fv(){return Al||(Al=dP(KP,YP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ts)}catch(n){console.warn(n)}}}}).catch(t=>{throw _n.create("idb-open",{originalErrorMessage:t.message})})),Al}async function QP(t){try{const n=(await Fv()).transaction(ts),r=await n.objectStore(ts).get(Uv(t));return await n.done,r}catch(e){if(e instanceof Yt)Ht.warn(e.message);else{const n=_n.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ht.warn(n.message)}}}async function hm(t,e){try{const r=(await Fv()).transaction(ts,"readwrite");await r.objectStore(ts).put(e,Uv(t)),await r.done}catch(n){if(n instanceof Yt)Ht.warn(n.message);else{const r=_n.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ht.warn(r.message)}}}function Uv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=1024,JP=30;class ZP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>JP){const o=nR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ht.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dm(),{heartbeatsToSend:r,unsentEntries:i}=eR(this._heartbeatsCache.heartbeats),s=Lo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ht.warn(n),""}}}function dm(){return new Date().toISOString().substring(0,10)}function eR(t,e=XP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fm(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fm(t){return Lo(JSON.stringify({version:2,heartbeats:t})).length}function nR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){Hr(new Zn("platform-logger",e=>new pP(e),"PRIVATE")),Hr(new Zn("heartbeat",e=>new ZP(e),"PRIVATE")),wn(_c,cm,t),wn(_c,cm,"esm2017"),wn("fire-js","")}rR("");var mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xn,Bv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function E(){}E.prototype=T.prototype,I.D=T.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(C,N,R){for(var A=Array(arguments.length-2),$=2;$<arguments.length;$++)A[$-2]=arguments[$];return T.prototype[N].apply(C,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,E){E||(E=0);var C=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)C[N]=T.charCodeAt(E++)|T.charCodeAt(E++)<<8|T.charCodeAt(E++)<<16|T.charCodeAt(E++)<<24;else for(N=0;16>N;++N)C[N]=T[E++]|T[E++]<<8|T[E++]<<16|T[E++]<<24;T=I.g[0],E=I.g[1],N=I.g[2];var R=I.g[3],A=T+(R^E&(N^R))+C[0]+3614090360&4294967295;T=E+(A<<7&4294967295|A>>>25),A=R+(N^T&(E^N))+C[1]+3905402710&4294967295,R=T+(A<<12&4294967295|A>>>20),A=N+(E^R&(T^E))+C[2]+606105819&4294967295,N=R+(A<<17&4294967295|A>>>15),A=E+(T^N&(R^T))+C[3]+3250441966&4294967295,E=N+(A<<22&4294967295|A>>>10),A=T+(R^E&(N^R))+C[4]+4118548399&4294967295,T=E+(A<<7&4294967295|A>>>25),A=R+(N^T&(E^N))+C[5]+1200080426&4294967295,R=T+(A<<12&4294967295|A>>>20),A=N+(E^R&(T^E))+C[6]+2821735955&4294967295,N=R+(A<<17&4294967295|A>>>15),A=E+(T^N&(R^T))+C[7]+4249261313&4294967295,E=N+(A<<22&4294967295|A>>>10),A=T+(R^E&(N^R))+C[8]+1770035416&4294967295,T=E+(A<<7&4294967295|A>>>25),A=R+(N^T&(E^N))+C[9]+2336552879&4294967295,R=T+(A<<12&4294967295|A>>>20),A=N+(E^R&(T^E))+C[10]+4294925233&4294967295,N=R+(A<<17&4294967295|A>>>15),A=E+(T^N&(R^T))+C[11]+2304563134&4294967295,E=N+(A<<22&4294967295|A>>>10),A=T+(R^E&(N^R))+C[12]+1804603682&4294967295,T=E+(A<<7&4294967295|A>>>25),A=R+(N^T&(E^N))+C[13]+4254626195&4294967295,R=T+(A<<12&4294967295|A>>>20),A=N+(E^R&(T^E))+C[14]+2792965006&4294967295,N=R+(A<<17&4294967295|A>>>15),A=E+(T^N&(R^T))+C[15]+1236535329&4294967295,E=N+(A<<22&4294967295|A>>>10),A=T+(N^R&(E^N))+C[1]+4129170786&4294967295,T=E+(A<<5&4294967295|A>>>27),A=R+(E^N&(T^E))+C[6]+3225465664&4294967295,R=T+(A<<9&4294967295|A>>>23),A=N+(T^E&(R^T))+C[11]+643717713&4294967295,N=R+(A<<14&4294967295|A>>>18),A=E+(R^T&(N^R))+C[0]+3921069994&4294967295,E=N+(A<<20&4294967295|A>>>12),A=T+(N^R&(E^N))+C[5]+3593408605&4294967295,T=E+(A<<5&4294967295|A>>>27),A=R+(E^N&(T^E))+C[10]+38016083&4294967295,R=T+(A<<9&4294967295|A>>>23),A=N+(T^E&(R^T))+C[15]+3634488961&4294967295,N=R+(A<<14&4294967295|A>>>18),A=E+(R^T&(N^R))+C[4]+3889429448&4294967295,E=N+(A<<20&4294967295|A>>>12),A=T+(N^R&(E^N))+C[9]+568446438&4294967295,T=E+(A<<5&4294967295|A>>>27),A=R+(E^N&(T^E))+C[14]+3275163606&4294967295,R=T+(A<<9&4294967295|A>>>23),A=N+(T^E&(R^T))+C[3]+4107603335&4294967295,N=R+(A<<14&4294967295|A>>>18),A=E+(R^T&(N^R))+C[8]+1163531501&4294967295,E=N+(A<<20&4294967295|A>>>12),A=T+(N^R&(E^N))+C[13]+2850285829&4294967295,T=E+(A<<5&4294967295|A>>>27),A=R+(E^N&(T^E))+C[2]+4243563512&4294967295,R=T+(A<<9&4294967295|A>>>23),A=N+(T^E&(R^T))+C[7]+1735328473&4294967295,N=R+(A<<14&4294967295|A>>>18),A=E+(R^T&(N^R))+C[12]+2368359562&4294967295,E=N+(A<<20&4294967295|A>>>12),A=T+(E^N^R)+C[5]+4294588738&4294967295,T=E+(A<<4&4294967295|A>>>28),A=R+(T^E^N)+C[8]+2272392833&4294967295,R=T+(A<<11&4294967295|A>>>21),A=N+(R^T^E)+C[11]+1839030562&4294967295,N=R+(A<<16&4294967295|A>>>16),A=E+(N^R^T)+C[14]+4259657740&4294967295,E=N+(A<<23&4294967295|A>>>9),A=T+(E^N^R)+C[1]+2763975236&4294967295,T=E+(A<<4&4294967295|A>>>28),A=R+(T^E^N)+C[4]+1272893353&4294967295,R=T+(A<<11&4294967295|A>>>21),A=N+(R^T^E)+C[7]+4139469664&4294967295,N=R+(A<<16&4294967295|A>>>16),A=E+(N^R^T)+C[10]+3200236656&4294967295,E=N+(A<<23&4294967295|A>>>9),A=T+(E^N^R)+C[13]+681279174&4294967295,T=E+(A<<4&4294967295|A>>>28),A=R+(T^E^N)+C[0]+3936430074&4294967295,R=T+(A<<11&4294967295|A>>>21),A=N+(R^T^E)+C[3]+3572445317&4294967295,N=R+(A<<16&4294967295|A>>>16),A=E+(N^R^T)+C[6]+76029189&4294967295,E=N+(A<<23&4294967295|A>>>9),A=T+(E^N^R)+C[9]+3654602809&4294967295,T=E+(A<<4&4294967295|A>>>28),A=R+(T^E^N)+C[12]+3873151461&4294967295,R=T+(A<<11&4294967295|A>>>21),A=N+(R^T^E)+C[15]+530742520&4294967295,N=R+(A<<16&4294967295|A>>>16),A=E+(N^R^T)+C[2]+3299628645&4294967295,E=N+(A<<23&4294967295|A>>>9),A=T+(N^(E|~R))+C[0]+4096336452&4294967295,T=E+(A<<6&4294967295|A>>>26),A=R+(E^(T|~N))+C[7]+1126891415&4294967295,R=T+(A<<10&4294967295|A>>>22),A=N+(T^(R|~E))+C[14]+2878612391&4294967295,N=R+(A<<15&4294967295|A>>>17),A=E+(R^(N|~T))+C[5]+4237533241&4294967295,E=N+(A<<21&4294967295|A>>>11),A=T+(N^(E|~R))+C[12]+1700485571&4294967295,T=E+(A<<6&4294967295|A>>>26),A=R+(E^(T|~N))+C[3]+2399980690&4294967295,R=T+(A<<10&4294967295|A>>>22),A=N+(T^(R|~E))+C[10]+4293915773&4294967295,N=R+(A<<15&4294967295|A>>>17),A=E+(R^(N|~T))+C[1]+2240044497&4294967295,E=N+(A<<21&4294967295|A>>>11),A=T+(N^(E|~R))+C[8]+1873313359&4294967295,T=E+(A<<6&4294967295|A>>>26),A=R+(E^(T|~N))+C[15]+4264355552&4294967295,R=T+(A<<10&4294967295|A>>>22),A=N+(T^(R|~E))+C[6]+2734768916&4294967295,N=R+(A<<15&4294967295|A>>>17),A=E+(R^(N|~T))+C[13]+1309151649&4294967295,E=N+(A<<21&4294967295|A>>>11),A=T+(N^(E|~R))+C[4]+4149444226&4294967295,T=E+(A<<6&4294967295|A>>>26),A=R+(E^(T|~N))+C[11]+3174756917&4294967295,R=T+(A<<10&4294967295|A>>>22),A=N+(T^(R|~E))+C[2]+718787259&4294967295,N=R+(A<<15&4294967295|A>>>17),A=E+(R^(N|~T))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var E=T-this.blockSize,C=this.B,N=this.h,R=0;R<T;){if(N==0)for(;R<=E;)i(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<T;)if(C[N++]=I.charCodeAt(R++),N==this.blockSize){i(this,C),N=0;break}}else for(;R<T;)if(C[N++]=I[R++],N==this.blockSize){i(this,C),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var E=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=E&255,E/=256;for(this.u(I),I=Array(16),T=E=0;4>T;++T)for(var C=0;32>C;C+=8)I[E++]=this.g[T]>>>C&255;return I};function s(I,T){var E=a;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=T(I)}function o(I,T){this.h=T;for(var E=[],C=!0,N=I.length-1;0<=N;N--){var R=I[N]|0;C&&R==T||(E[N]=R,C=!1)}this.g=E}var a={};function c(I){return-128<=I&&128>I?s(I,function(T){return new o([T|0],0>T?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return x(u(-I));for(var T=[],E=1,C=0;I>=E;C++)T[C]=I/E|0,E*=4294967296;return new o(T,0)}function h(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return x(h(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(T,8)),C=f,N=0;N<I.length;N+=8){var R=Math.min(8,I.length-N),A=parseInt(I.substring(N,N+R),T);8>R?(R=u(Math.pow(T,R)),C=C.j(R).add(u(A))):(C=C.j(E),C=C.add(u(A)))}return C}var f=c(0),p=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-x(this).m();for(var I=0,T=1,E=0;E<this.g.length;E++){var C=this.i(E);I+=(0<=C?C:4294967296+C)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(w(this))return"-"+x(this).toString(I);for(var T=u(Math.pow(I,6)),E=this,C="";;){var N=D(E,T).g;E=k(E,N.j(T));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=N,b(E))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=k(this,I),w(I)?-1:b(I)?0:1};function x(I){for(var T=I.g.length,E=[],C=0;C<T;C++)E[C]=~I.g[C];return new o(E,~I.h).add(p)}t.abs=function(){return w(this)?x(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),E=[],C=0,N=0;N<=T;N++){var R=C+(this.i(N)&65535)+(I.i(N)&65535),A=(R>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);C=A>>>16,R&=65535,A&=65535,E[N]=A<<16|R}return new o(E,E[E.length-1]&-2147483648?-1:0)};function k(I,T){return I.add(x(T))}t.j=function(I){if(b(this)||b(I))return f;if(w(this))return w(I)?x(this).j(x(I)):x(x(this).j(I));if(w(I))return x(this.j(x(I)));if(0>this.l(y)&&0>I.l(y))return u(this.m()*I.m());for(var T=this.g.length+I.g.length,E=[],C=0;C<2*T;C++)E[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<I.g.length;N++){var R=this.i(C)>>>16,A=this.i(C)&65535,$=I.i(N)>>>16,le=I.i(N)&65535;E[2*C+2*N]+=A*le,S(E,2*C+2*N),E[2*C+2*N+1]+=R*le,S(E,2*C+2*N+1),E[2*C+2*N+1]+=A*$,S(E,2*C+2*N+1),E[2*C+2*N+2]+=R*$,S(E,2*C+2*N+2)}for(C=0;C<T;C++)E[C]=E[2*C+1]<<16|E[2*C];for(C=T;C<2*T;C++)E[C]=0;return new o(E,0)};function S(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function P(I,T){this.g=I,this.h=T}function D(I,T){if(b(T))throw Error("division by zero");if(b(I))return new P(f,f);if(w(I))return T=D(x(I),T),new P(x(T.g),x(T.h));if(w(T))return T=D(I,x(T)),new P(x(T.g),T.h);if(30<I.g.length){if(w(I)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var E=p,C=T;0>=C.l(I);)E=L(E),C=L(C);var N=U(E,1),R=U(C,1);for(C=U(C,2),E=U(E,2);!b(C);){var A=R.add(C);0>=A.l(I)&&(N=N.add(E),R=A),C=U(C,1),E=U(E,1)}return T=k(I,N.j(T)),new P(N,T)}for(N=f;0<=I.l(T);){for(E=Math.max(1,Math.floor(I.m()/T.m())),C=Math.ceil(Math.log(E)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=u(E),A=R.j(T);w(A)||0<A.l(I);)E-=C,R=u(E),A=R.j(T);b(R)&&(R=p),N=N.add(R),I=k(I,A)}return new P(N,I)}t.A=function(I){return D(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),E=[],C=0;C<T;C++)E[C]=this.i(C)&I.i(C);return new o(E,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),E=[],C=0;C<T;C++)E[C]=this.i(C)|I.i(C);return new o(E,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),E=[],C=0;C<T;C++)E[C]=this.i(C)^I.i(C);return new o(E,this.h^I.h)};function L(I){for(var T=I.g.length+1,E=[],C=0;C<T;C++)E[C]=I.i(C)<<1|I.i(C-1)>>>31;return new o(E,I.h)}function U(I,T){var E=T>>5;T%=32;for(var C=I.g.length-E,N=[],R=0;R<C;R++)N[R]=0<T?I.i(R+E)>>>T|I.i(R+E+1)<<32-T:I.i(R+E);return new o(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bv=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,xn=o}).apply(typeof mm<"u"?mm:typeof self<"u"?self:typeof window<"u"?window:{});var eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $v,Di,zv,po,Tc,Hv,Wv,qv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,g){return l==Array.prototype||l==Object.prototype||(l[m]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof eo=="object"&&eo];for(var m=0;m<l.length;++m){var g=l[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,m){if(m)e:{var g=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var V=l[_];if(!(V in g))break e;g=g[V]}l=l[l.length-1],_=g[l],m=m(_),m!=_&&m!=null&&e(g,l,{configurable:!0,writable:!0,value:m})}}function s(l,m){l instanceof String&&(l+="");var g=0,_=!1,V={next:function(){if(!_&&g<l.length){var O=g++;return{value:m(O,l[O]),done:!1}}return _=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(l){return l||function(){return s(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function u(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function h(l,m,g){return l.call.apply(l.bind,arguments)}function f(l,m,g){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,_),l.apply(m,V)}}return function(){return l.apply(m,arguments)}}function p(l,m,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function y(l,m){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function b(l,m){function g(){}g.prototype=m.prototype,l.aa=m.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(_,V,O){for(var F=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)F[ce-2]=arguments[ce];return m.prototype[V].apply(_,F)}}function w(l){const m=l.length;if(0<m){const g=Array(m);for(let _=0;_<m;_++)g[_]=l[_];return g}return[]}function x(l,m){for(let g=1;g<arguments.length;g++){const _=arguments[g];if(c(_)){const V=l.length||0,O=_.length||0;l.length=V+O;for(let F=0;F<O;F++)l[V+F]=_[F]}else l.push(_)}}class k{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function S(l){return/^[\s\xa0]*$/.test(l)}function P(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var L=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function U(l,m,g){for(const _ in l)m.call(g,l[_],_,l)}function I(l,m){for(const g in l)m.call(void 0,l[g],g,l)}function T(l){const m={};for(const g in l)m[g]=l[g];return m}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,m){let g,_;for(let V=1;V<arguments.length;V++){_=arguments[V];for(g in _)l[g]=_[g];for(let O=0;O<E.length;O++)g=E[O],Object.prototype.hasOwnProperty.call(_,g)&&(l[g]=_[g])}}function N(l){var m=1;l=l.split(":");const g=[];for(;0<m&&l.length;)g.push(l.shift()),m--;return l.length&&g.push(l.join(":")),g}function R(l){a.setTimeout(()=>{throw l},0)}function A(){var l=Ie;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class ${constructor(){this.h=this.g=null}add(m,g){const _=le.get();_.set(m,g),this.h?this.h.next=_:this.g=_,this.h=_}}var le=new k(()=>new ie,l=>l.reset());class ie{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Ee=!1,Ie=new $,xt=()=>{const l=a.Promise.resolve(void 0);ve=()=>{l.then(se)}};var se=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){R(g)}var m=le;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}Ee=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var Dn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return l}();function Qt(l,m){if(Z.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(L){e:{try{D(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else g=="mouseover"?m=l.fromElement:g=="mouseout"&&(m=l.toElement);this.relatedTarget=m,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:On[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Qt.aa.h.call(this)}}b(Qt,Z);var On={2:"touch",3:"pen",4:"mouse"};Qt.prototype.h=function(){Qt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Xt="closure_listenable_"+(1e6*Math.random()|0),Oa=0;function fi(l,m,g,_,V){this.listener=l,this.proxy=null,this.src=m,this.type=g,this.capture=!!_,this.ha=V,this.key=++Oa,this.da=this.fa=!1}function kt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function at(l){this.src=l,this.g={},this.h=0}at.prototype.add=function(l,m,g,_,V){var O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);var F=Ma(l,m,_,V);return-1<F?(m=l[F],g||(m.fa=!1)):(m=new fi(m,this.src,O,!!_,V),m.fa=g,l.push(m)),m};function Rs(l,m){var g=m.type;if(g in l.g){var _=l.g[g],V=Array.prototype.indexOf.call(_,m,void 0),O;(O=0<=V)&&Array.prototype.splice.call(_,V,1),O&&(kt(m),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Ma(l,m,g,_){for(var V=0;V<l.length;++V){var O=l[V];if(!O.da&&O.listener==m&&O.capture==!!g&&O.ha==_)return V}return-1}var ja="closure_lm_"+(1e6*Math.random()|0),La={};function Th(l,m,g,_,V){if(_&&_.once)return Eh(l,m,g,_,V);if(Array.isArray(m)){for(var O=0;O<m.length;O++)Th(l,m[O],g,_,V);return null}return g=$a(g),l&&l[Xt]?l.K(m,g,u(_)?!!_.capture:!!_,V):bh(l,m,g,!1,_,V)}function bh(l,m,g,_,V,O){if(!m)throw Error("Invalid event type");var F=u(V)?!!V.capture:!!V,ce=Ua(l);if(ce||(l[ja]=ce=new at(l)),g=ce.add(m,g,_,F,O),g.proxy)return g;if(_=Rw(),g.proxy=_,_.src=l,_.listener=g,l.addEventListener)Dn||(V=F),V===void 0&&(V=!1),l.addEventListener(m.toString(),_,V);else if(l.attachEvent)l.attachEvent(Ah(m.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Rw(){function l(g){return m.call(l.src,l.listener,g)}const m=Nw;return l}function Eh(l,m,g,_,V){if(Array.isArray(m)){for(var O=0;O<m.length;O++)Eh(l,m[O],g,_,V);return null}return g=$a(g),l&&l[Xt]?l.L(m,g,u(_)?!!_.capture:!!_,V):bh(l,m,g,!0,_,V)}function Ih(l,m,g,_,V){if(Array.isArray(m))for(var O=0;O<m.length;O++)Ih(l,m[O],g,_,V);else _=u(_)?!!_.capture:!!_,g=$a(g),l&&l[Xt]?(l=l.i,m=String(m).toString(),m in l.g&&(O=l.g[m],g=Ma(O,g,_,V),-1<g&&(kt(O[g]),Array.prototype.splice.call(O,g,1),O.length==0&&(delete l.g[m],l.h--)))):l&&(l=Ua(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Ma(m,g,_,V)),(g=-1<l?m[l]:null)&&Fa(g))}function Fa(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[Xt])Rs(m.i,l);else{var g=l.type,_=l.proxy;m.removeEventListener?m.removeEventListener(g,_,l.capture):m.detachEvent?m.detachEvent(Ah(g),_):m.addListener&&m.removeListener&&m.removeListener(_),(g=Ua(m))?(Rs(g,l),g.h==0&&(g.src=null,m[ja]=null)):kt(l)}}}function Ah(l){return l in La?La[l]:La[l]="on"+l}function Nw(l,m){if(l.da)l=!0;else{m=new Qt(m,this);var g=l.listener,_=l.ha||l.src;l.fa&&Fa(l),l=g.call(_,m)}return l}function Ua(l){return l=l[ja],l instanceof at?l:null}var Ba="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(l){return typeof l=="function"?l:(l[Ba]||(l[Ba]=function(m){return l.handleEvent(m)}),l[Ba])}function ze(){_e.call(this),this.i=new at(this),this.M=this,this.F=null}b(ze,_e),ze.prototype[Xt]=!0,ze.prototype.removeEventListener=function(l,m,g,_){Ih(this,l,m,g,_)};function Xe(l,m){var g,_=l.F;if(_)for(g=[];_;_=_.F)g.push(_);if(l=l.M,_=m.type||m,typeof m=="string")m=new Z(m,l);else if(m instanceof Z)m.target=m.target||l;else{var V=m;m=new Z(_,l),C(m,V)}if(V=!0,g)for(var O=g.length-1;0<=O;O--){var F=m.g=g[O];V=Ns(F,_,!0,m)&&V}if(F=m.g=l,V=Ns(F,_,!0,m)&&V,V=Ns(F,_,!1,m)&&V,g)for(O=0;O<g.length;O++)F=m.g=g[O],V=Ns(F,_,!1,m)&&V}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var g=l.g[m],_=0;_<g.length;_++)kt(g[_]);delete l.g[m],l.h--}}this.F=null},ze.prototype.K=function(l,m,g,_){return this.i.add(String(l),m,!1,g,_)},ze.prototype.L=function(l,m,g,_){return this.i.add(String(l),m,!0,g,_)};function Ns(l,m,g,_){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,O=0;O<m.length;++O){var F=m[O];if(F&&!F.da&&F.capture==g){var ce=F.listener,Le=F.ha||F.src;F.fa&&Rs(l.i,F),V=ce.call(Le,_)!==!1&&V}}return V&&!_.defaultPrevented}function Ch(l,m,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(l,m||0)}function Sh(l){l.g=Ch(()=>{l.g=null,l.i&&(l.i=!1,Sh(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class kw extends _e{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Sh(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(l){_e.call(this),this.h=l,this.g={}}b(mi,_e);var Ph=[];function Rh(l){U(l.g,function(m,g){this.g.hasOwnProperty(g)&&Fa(m)},l),l.g={}}mi.prototype.N=function(){mi.aa.N.call(this),Rh(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var za=a.JSON.stringify,Vw=a.JSON.parse,Dw=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Ha(){}Ha.prototype.h=null;function Nh(l){return l.h||(l.h=l.i())}function kh(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wa(){Z.call(this,"d")}b(Wa,Z);function qa(){Z.call(this,"c")}b(qa,Z);var Mn={},Vh=null;function ks(){return Vh=Vh||new ze}Mn.La="serverreachability";function Dh(l){Z.call(this,Mn.La,l)}b(Dh,Z);function gi(l){const m=ks();Xe(m,new Dh(m))}Mn.STAT_EVENT="statevent";function Oh(l,m){Z.call(this,Mn.STAT_EVENT,l),this.stat=m}b(Oh,Z);function Je(l){const m=ks();Xe(m,new Oh(m,l))}Mn.Ma="timingevent";function Mh(l,m){Z.call(this,Mn.Ma,l),this.size=m}b(Mh,Z);function yi(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},m)}function vi(){this.g=!0}vi.prototype.xa=function(){this.g=!1};function Ow(l,m,g,_,V,O){l.info(function(){if(l.g)if(O)for(var F="",ce=O.split("&"),Le=0;Le<ce.length;Le++){var oe=ce[Le].split("=");if(1<oe.length){var He=oe[0];oe=oe[1];var We=He.split("_");F=2<=We.length&&We[1]=="type"?F+(He+"="+oe+"&"):F+(He+"=redacted&")}}else F=null;else F=O;return"XMLHTTP REQ ("+_+") [attempt "+V+"]: "+m+`
`+g+`
`+F})}function Mw(l,m,g,_,V,O,F){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+V+"]: "+m+`
`+g+`
`+O+" "+F})}function yr(l,m,g,_){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lw(l,g)+(_?" "+_:"")})}function jw(l,m){l.info(function(){return"TIMEOUT: "+m})}vi.prototype.info=function(){};function Lw(l,m){if(!l.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var _=g[l];if(!(2>_.length)){var V=_[1];if(Array.isArray(V)&&!(1>V.length)){var O=V[0];if(O!="noop"&&O!="stop"&&O!="close")for(var F=1;F<V.length;F++)V[F]=""}}}}return za(g)}catch{return m}}var Vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ga;function Ds(){}b(Ds,Ha),Ds.prototype.g=function(){return new XMLHttpRequest},Ds.prototype.i=function(){return{}},Ga=new Ds;function Jt(l,m,g,_){this.j=l,this.i=m,this.l=g,this.R=_||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lh}function Lh(){this.i=null,this.g="",this.h=!1}var Fh={},Ka={};function Ya(l,m,g){l.L=1,l.v=Ls(Vt(m)),l.m=g,l.P=!0,Uh(l,null)}function Uh(l,m){l.F=Date.now(),Os(l),l.A=Vt(l.v);var g=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),ed(g.i,"t",_),l.C=0,g=l.j.J,l.h=new Lh,l.g=vd(l.j,g?m:null,!l.m),0<l.O&&(l.M=new kw(p(l.Y,l,l.g),l.O)),m=l.U,g=l.g,_=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(Ph[0]=V.toString()),V=Ph);for(var O=0;O<V.length;O++){var F=Th(g,V[O],_||m.handleEvent,!1,m.h||m);if(!F)break;m.g[F.key]=F}m=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),gi(),Ow(l.i,l.u,l.A,l.l,l.R,l.m)}Jt.prototype.ca=function(l){l=l.target;const m=this.M;m&&Dt(l)==3?m.j():this.Y(l)},Jt.prototype.Y=function(l){try{if(l==this.g)e:{const We=Dt(this.g);var m=this.g.Ba();const wr=this.g.Z();if(!(3>We)&&(We!=3||this.g&&(this.h.h||this.g.oa()||ad(this.g)))){this.J||We!=4||m==7||(m==8||0>=wr?gi(3):gi(2)),Qa(this);var g=this.g.Z();this.X=g;t:if(Bh(this)){var _=ad(this.g);l="";var V=_.length,O=Dt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),_i(this);var F="";break t}this.h.i=new a.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,l+=this.h.i.decode(_[m],{stream:!(O&&m==V-1)});_.length=0,this.h.g+=l,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=g==200,Mw(this.i,this.u,this.A,this.l,this.R,We,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ce,Le=this.g;if((ce=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(ce)){var oe=ce;break t}}oe=null}if(g=oe)yr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xa(this,g);else{this.o=!1,this.s=3,Je(12),jn(this),_i(this);break e}}if(this.P){g=!0;let ft;for(;!this.J&&this.C<F.length;)if(ft=Fw(this,F),ft==Ka){We==4&&(this.s=4,Je(14),g=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Fh){this.s=4,Je(15),yr(this.i,this.l,F,"[Invalid Chunk]"),g=!1;break}else yr(this.i,this.l,ft,null),Xa(this,ft);if(Bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||F.length!=0||this.h.h||(this.s=1,Je(16),g=!1),this.o=this.o&&g,!g)yr(this.i,this.l,F,"[Invalid Chunked Response]"),jn(this),_i(this);else if(0<F.length&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.ba&&!He.M&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),rl(He),He.M=!0,Je(11))}}else yr(this.i,this.l,F,null),Xa(this,F);We==4&&jn(this),this.o&&!this.J&&(We==4?md(this.j,this):(this.o=!1,Os(this)))}else nx(this.g),g==400&&0<F.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),jn(this),_i(this)}}}catch{}finally{}};function Bh(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Fw(l,m){var g=l.C,_=m.indexOf(`
`,g);return _==-1?Ka:(g=Number(m.substring(g,_)),isNaN(g)?Fh:(_+=1,_+g>m.length?Ka:(m=m.slice(_,_+g),l.C=_+g,m)))}Jt.prototype.cancel=function(){this.J=!0,jn(this)};function Os(l){l.S=Date.now()+l.I,$h(l,l.I)}function $h(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yi(p(l.ba,l),m)}function Qa(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Jt.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(jw(this.i,this.A),this.L!=2&&(gi(),Je(17)),jn(this),this.s=2,_i(this)):$h(this,this.S-l)};function _i(l){l.j.G==0||l.J||md(l.j,l)}function jn(l){Qa(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,Rh(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function Xa(l,m){try{var g=l.j;if(g.G!=0&&(g.g==l||Ja(g.h,l))){if(!l.K&&Ja(g.h,l)&&g.G==3){try{var _=g.Da.g.parse(m)}catch{_=null}if(Array.isArray(_)&&_.length==3){var V=_;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Hs(g),$s(g);else break e;nl(g),Je(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=yi(p(g.Za,g),6e3));if(1>=Wh(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Fn(g,11)}else if((l.K||g.g==l)&&Hs(g),!S(m))for(V=g.Da.g.parse(m),m=0;m<V.length;m++){let oe=V[m];if(g.T=oe[0],oe=oe[1],g.G==2)if(oe[0]=="c"){g.K=oe[1],g.ia=oe[2];const He=oe[3];He!=null&&(g.la=He,g.j.info("VER="+g.la));const We=oe[4];We!=null&&(g.Aa=We,g.j.info("SVER="+g.Aa));const wr=oe[5];wr!=null&&typeof wr=="number"&&0<wr&&(_=1.5*wr,g.L=_,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;const ft=l.g;if(ft){const qs=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var O=_.h;O.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Za(O,O.h),O.h=null))}if(_.D){const il=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(_.ya=il,de(_.I,_.D,il))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),_=g;var F=l;if(_.qa=yd(_,_.J?_.ia:null,_.W),F.K){qh(_.h,F);var ce=F,Le=_.L;Le&&(ce.I=Le),ce.B&&(Qa(ce),Os(ce)),_.g=F}else dd(_);0<g.i.length&&zs(g)}else oe[0]!="stop"&&oe[0]!="close"||Fn(g,7);else g.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?Fn(g,7):tl(g):oe[0]!="noop"&&g.l&&g.l.ta(oe),g.v=0)}}gi(4)}catch{}}var Uw=class{constructor(l,m){this.g=l,this.map=m}};function zh(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hh(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wh(l){return l.h?1:l.g?l.g.size:0}function Ja(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function Za(l,m){l.g?l.g.add(m):l.h=m}function qh(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}zh.prototype.cancel=function(){if(this.i=Gh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Gh(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const g of l.g.values())m=m.concat(g.D);return m}return w(l.i)}function Bw(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var m=[],g=l.length,_=0;_<g;_++)m.push(l[_]);return m}m=[],g=0;for(_ in l)m[g++]=l[_];return m}function $w(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var m=[];l=l.length;for(var g=0;g<l;g++)m.push(g);return m}m=[],g=0;for(const _ in l)m[g++]=_;return m}}}function Kh(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var g=$w(l),_=Bw(l),V=_.length,O=0;O<V;O++)m.call(void 0,_[O],g&&g[O],l)}var Yh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zw(l,m){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var _=l[g].indexOf("="),V=null;if(0<=_){var O=l[g].substring(0,_);V=l[g].substring(_+1)}else O=l[g];m(O,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ln(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ln){this.h=l.h,Ms(this,l.j),this.o=l.o,this.g=l.g,js(this,l.s),this.l=l.l;var m=l.i,g=new Ti;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Qh(this,g),this.m=l.m}else l&&(m=String(l).match(Yh))?(this.h=!1,Ms(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),js(this,m[4]),this.l=wi(m[5]||"",!0),Qh(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}Ln.prototype.toString=function(){var l=[],m=this.j;m&&l.push(xi(m,Xh,!0),":");var g=this.g;return(g||m=="file")&&(l.push("//"),(m=this.o)&&l.push(xi(m,Xh,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(xi(g,g.charAt(0)=="/"?qw:Ww,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",xi(g,Kw)),l.join("")};function Vt(l){return new Ln(l)}function Ms(l,m,g){l.j=g?wi(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function js(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function Qh(l,m,g){m instanceof Ti?(l.i=m,Yw(l.i,l.h)):(g||(m=xi(m,Gw)),l.i=new Ti(m,l.h))}function de(l,m,g){l.i.set(m,g)}function Ls(l){return de(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function wi(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function xi(l,m,g){return typeof l=="string"?(l=encodeURI(l).replace(m,Hw),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Hw(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Xh=/[#\/\?@]/g,Ww=/[#\?:]/g,qw=/[#\?]/g,Gw=/[#\?@]/g,Kw=/#/g;function Ti(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Zt(l){l.g||(l.g=new Map,l.h=0,l.i&&zw(l.i,function(m,g){l.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Ti.prototype,t.add=function(l,m){Zt(this),this.i=null,l=vr(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(m),this.h+=1,this};function Jh(l,m){Zt(l),m=vr(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function Zh(l,m){return Zt(l),m=vr(l,m),l.g.has(m)}t.forEach=function(l,m){Zt(this),this.g.forEach(function(g,_){g.forEach(function(V){l.call(m,V,_,this)},this)},this)},t.na=function(){Zt(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let _=0;_<m.length;_++){const V=l[_];for(let O=0;O<V.length;O++)g.push(m[_])}return g},t.V=function(l){Zt(this);let m=[];if(typeof l=="string")Zh(this,l)&&(m=m.concat(this.g.get(vr(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)m=m.concat(l[g])}return m},t.set=function(l,m){return Zt(this),this.i=null,l=vr(this,l),Zh(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function ed(l,m,g){Jh(l,m),0<g.length&&(l.i=null,l.g.set(vr(l,m),w(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var _=m[g];const O=encodeURIComponent(String(_)),F=this.V(_);for(_=0;_<F.length;_++){var V=O;F[_]!==""&&(V+="="+encodeURIComponent(String(F[_]))),l.push(V)}}return this.i=l.join("&")};function vr(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function Yw(l,m){m&&!l.j&&(Zt(l),l.i=null,l.g.forEach(function(g,_){var V=_.toLowerCase();_!=V&&(Jh(this,_),ed(this,V,g))},l)),l.j=m}function Qw(l,m){const g=new vi;if(a.Image){const _=new Image;_.onload=y(en,g,"TestLoadImage: loaded",!0,m,_),_.onerror=y(en,g,"TestLoadImage: error",!1,m,_),_.onabort=y(en,g,"TestLoadImage: abort",!1,m,_),_.ontimeout=y(en,g,"TestLoadImage: timeout",!1,m,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else m(!1)}function Xw(l,m){const g=new vi,_=new AbortController,V=setTimeout(()=>{_.abort(),en(g,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:_.signal}).then(O=>{clearTimeout(V),O.ok?en(g,"TestPingServer: ok",!0,m):en(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),en(g,"TestPingServer: error",!1,m)})}function en(l,m,g,_,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),_(g)}catch{}}function Jw(){this.g=new Dw}function Zw(l,m,g){const _=g||"";try{Kh(l,function(V,O){let F=V;u(V)&&(F=za(V)),m.push(_+O+"="+encodeURIComponent(F))})}catch(V){throw m.push(_+"type="+encodeURIComponent("_badmap")),V}}function Fs(l){this.l=l.Ub||null,this.j=l.eb||!1}b(Fs,Ha),Fs.prototype.g=function(){return new Us(this.l,this.j)},Fs.prototype.i=function(l){return function(){return l}}({});function Us(l,m){ze.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Us,ze),t=Us.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,Ei(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;td(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function td(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?bi(this):Ei(this),this.readyState==3&&td(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,bi(this))},t.Qa=function(l){this.g&&(this.response=l,bi(this))},t.ga=function(){this.g&&bi(this)};function bi(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ei(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=m.next();return l.join(`\r
`)};function Ei(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function nd(l){let m="";return U(l,function(g,_){m+=_,m+=":",m+=g,m+=`\r
`}),m}function el(l,m,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=nd(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):de(l,m,g))}function Te(l){ze.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Te,ze);var ex=/^https?$/i,tx=["POST","PUT"];t=Te.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ga.g(),this.v=this.o?Nh(this.o):Nh(Ga),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(O){rd(this,O);return}if(l=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var V in _)g.set(V,_[V]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const O of _.keys())g.set(O,_.get(O));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(g.keys()).find(O=>O.toLowerCase()=="content-type"),V=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tx,m,void 0))||_||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,F]of g)this.g.setRequestHeader(O,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{od(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){rd(this,O)}};function rd(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,id(l),Bs(l)}function id(l){l.A||(l.A=!0,Xe(l,"complete"),Xe(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Xe(this,"complete"),Xe(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sd(this):this.bb())},t.bb=function(){sd(this)};function sd(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Dt(l)!=4||l.Z()!=2)){if(l.u&&Dt(l)==4)Ch(l.Ea,0,l);else if(Xe(l,"readystatechange"),Dt(l)==4){l.h=!1;try{const F=l.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var _;if(_=F===0){var V=String(l.D).match(Yh)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),_=!ex.test(V?V.toLowerCase():"")}g=_}if(g)Xe(l,"complete"),Xe(l,"success");else{l.m=6;try{var O=2<Dt(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",id(l)}}finally{Bs(l)}}}}function Bs(l,m){if(l.g){od(l);const g=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||Xe(l,"ready");try{g.onreadystatechange=_}catch{}}}function od(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Dt(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Dt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),Vw(m)}};function ad(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function nx(l){const m={};l=(l.g&&2<=Dt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(S(l[_]))continue;var g=N(l[_]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const O=m[V]||[];m[V]=O,O.push(g)}I(m,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(l,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||m}function ld(l){this.Aa=0,this.i=[],this.j=new vi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ii("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ii("baseRetryDelayMs",5e3,l),this.cb=Ii("retryDelaySeedMs",1e4,l),this.Wa=Ii("forwardChannelMaxRetries",2,l),this.wa=Ii("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new zh(l&&l.concurrentRequestLimit),this.Da=new Jw,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ld.prototype,t.la=8,t.G=1,t.connect=function(l,m,g,_){Je(0),this.W=l,this.H=m||{},g&&_!==void 0&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=yd(this,null,this.W),zs(this)};function tl(l){if(cd(l),l.G==3){var m=l.U++,g=Vt(l.I);if(de(g,"SID",l.K),de(g,"RID",m),de(g,"TYPE","terminate"),Ai(l,g),m=new Jt(l,l.j,m),m.L=2,m.v=Ls(Vt(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=vd(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Os(m)}gd(l)}function $s(l){l.g&&(rl(l),l.g.cancel(),l.g=null)}function cd(l){$s(l),l.u&&(a.clearTimeout(l.u),l.u=null),Hs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function zs(l){if(!Hh(l.h)&&!l.s){l.s=!0;var m=l.Ga;ve||xt(),Ee||(ve(),Ee=!0),Ie.add(m,l),l.B=0}}function rx(l,m){return Wh(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yi(p(l.Ga,l,m),pd(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new Jt(this,this.j,l);let O=this.o;if(this.S&&(O?(O=T(O),C(O,this.S)):O=this.S),this.m!==null||this.O||(V.H=O,O=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var _=this.i[g];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(m+=_,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=hd(this,V,m),g=Vt(this.I),de(g,"RID",l),de(g,"CVER",22),this.D&&de(g,"X-HTTP-Session-Id",this.D),Ai(this,g),O&&(this.O?m="headers="+encodeURIComponent(String(nd(O)))+"&"+m:this.m&&el(g,this.m,O)),Za(this.h,V),this.Ua&&de(g,"TYPE","init"),this.P?(de(g,"$req",m),de(g,"SID","null"),V.T=!0,Ya(V,g,null)):Ya(V,g,m),this.G=2}}else this.G==3&&(l?ud(this,l):this.i.length==0||Hh(this.h)||ud(this))};function ud(l,m){var g;m?g=m.l:g=l.U++;const _=Vt(l.I);de(_,"SID",l.K),de(_,"RID",g),de(_,"AID",l.T),Ai(l,_),l.m&&l.o&&el(_,l.m,l.o),g=new Jt(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),m&&(l.i=m.D.concat(l.i)),m=hd(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Za(l.h,g),Ya(g,_,m)}function Ai(l,m){l.H&&U(l.H,function(g,_){de(m,_,g)}),l.l&&Kh({},function(g,_){de(m,_,g)})}function hd(l,m,g){g=Math.min(l.i.length,g);var _=l.l?p(l.l.Na,l.l,l):null;e:{var V=l.i;let O=-1;for(;;){const F=["count="+g];O==-1?0<g?(O=V[0].g,F.push("ofs="+O)):O=0:F.push("ofs="+O);let ce=!0;for(let Le=0;Le<g;Le++){let oe=V[Le].g;const He=V[Le].map;if(oe-=O,0>oe)O=Math.max(0,V[Le].g-100),ce=!1;else try{Zw(He,F,"req"+oe+"_")}catch{_&&_(He)}}if(ce){_=F.join("&");break e}}}return l=l.i.splice(0,g),m.D=l,_}function dd(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;ve||xt(),Ee||(ve(),Ee=!0),Ie.add(m,l),l.v=0}}function nl(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yi(p(l.Fa,l),pd(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,fd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yi(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),$s(this),fd(this))};function rl(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function fd(l){l.g=new Jt(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=Vt(l.qa);de(m,"RID","rpc"),de(m,"SID",l.K),de(m,"AID",l.T),de(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&de(m,"TO",l.ja),de(m,"TYPE","xmlhttp"),Ai(l,m),l.m&&l.o&&el(m,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Ls(Vt(m)),g.m=null,g.P=!0,Uh(g,l)}t.Za=function(){this.C!=null&&(this.C=null,$s(this),nl(this),Je(19))};function Hs(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function md(l,m){var g=null;if(l.g==m){Hs(l),rl(l),l.g=null;var _=2}else if(Ja(l.h,m))g=m.D,qh(l.h,m),_=1;else return;if(l.G!=0){if(m.o)if(_==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var V=l.B;_=ks(),Xe(_,new Mh(_,g)),zs(l)}else dd(l);else if(V=m.s,V==3||V==0&&0<m.X||!(_==1&&rx(l,m)||_==2&&nl(l)))switch(g&&0<g.length&&(m=l.h,m.i=m.i.concat(g)),V){case 1:Fn(l,5);break;case 4:Fn(l,10);break;case 3:Fn(l,6);break;default:Fn(l,2)}}}function pd(l,m){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*m}function Fn(l,m){if(l.j.info("Error code "+m),m==2){var g=p(l.fb,l),_=l.Xa;const V=!_;_=new Ln(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ms(_,"https"),Ls(_),V?Qw(_.toString(),g):Xw(_.toString(),g)}else Je(2);l.G=0,l.l&&l.l.sa(m),gd(l),cd(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function gd(l){if(l.G=0,l.ka=[],l.l){const m=Gh(l.h);(m.length!=0||l.i.length!=0)&&(x(l.ka,m),x(l.ka,l.i),l.h.i.length=0,w(l.i),l.i.length=0),l.l.ra()}}function yd(l,m,g){var _=g instanceof Ln?Vt(g):new Ln(g);if(_.g!="")m&&(_.g=m+"."+_.g),js(_,_.s);else{var V=a.location;_=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var O=new Ln(null);_&&Ms(O,_),m&&(O.g=m),V&&js(O,V),g&&(O.l=g),_=O}return g=l.D,m=l.ya,g&&m&&de(_,g,m),de(_,"VER",l.la),Ai(l,_),_}function vd(l,m,g){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new Te(new Fs({eb:g})):new Te(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _d(){}t=_d.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ws(){}Ws.prototype.g=function(l,m){return new st(l,m)};function st(l,m){ze.call(this),this.g=new ld(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!S(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new _r(this)}b(st,ze),st.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},st.prototype.close=function(){tl(this.g)},st.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=za(l),l=g);m.i.push(new Uw(m.Ya++,l)),m.G==3&&zs(m)},st.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,st.aa.N.call(this)};function wd(l){Wa.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const g in m){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}b(wd,Wa);function xd(){qa.call(this),this.status=1}b(xd,qa);function _r(l){this.g=l}b(_r,_d),_r.prototype.ua=function(){Xe(this.g,"a")},_r.prototype.ta=function(l){Xe(this.g,new wd(l))},_r.prototype.sa=function(l){Xe(this.g,new xd)},_r.prototype.ra=function(){Xe(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,st.prototype.send=st.prototype.o,st.prototype.open=st.prototype.m,st.prototype.close=st.prototype.close,qv=function(){return new Ws},Wv=function(){return ks()},Hv=Mn,Tc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,po=Vs,jh.COMPLETE="complete",zv=jh,kh.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",ze.prototype.listen=ze.prototype.K,Di=kh,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,$v=Te}).apply(typeof eo<"u"?eo:typeof self<"u"?self:typeof window<"u"?window:{});const pm="@firebase/firestore",gm="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ai="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new bu("@firebase/firestore");function Ar(){return er.logLevel}function B(t,...e){if(er.logLevel<=te.DEBUG){const n=e.map(Au);er.debug(`Firestore (${ai}): ${t}`,...n)}}function Wt(t,...e){if(er.logLevel<=te.ERROR){const n=e.map(Au);er.error(`Firestore (${ai}): ${t}`,...n)}}function Wr(t,...e){if(er.logLevel<=te.WARN){const n=e.map(Au);er.warn(`Firestore (${ai}): ${t}`,...n)}}function Au(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Gv(t,r,n)}function Gv(t,e,n){let r=`FIRESTORE (${ai}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wt(r),new Error(r)}function ae(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Gv(e,i,r)}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends Yt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class sR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oR{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ae(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Tn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string",31837,{l:r}),new Kv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class aR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new aR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ym{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ae(this.o===void 0,3512);const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ym(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ym(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=uR(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function bc(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return J(r,i);{const s=Yv(),o=hR(s.encode(vm(t,n)),s.encode(vm(e,n)));return o!==0?o:J(r,i)}}n+=r>65535?2:1}return J(t.length,e.length)}function vm(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function hR(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return J(t[n],e[n]);return J(t.length,e.length)}function qr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=-62135596800,wm=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wm);return new Ve(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_m)throw new z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wm}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_m;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{static fromTimestamp(e){return new K(e)}static min(){return new K(new Ve(0,0))}static max(){return new K(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="__name__";class Tt{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Tt.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return J(e.length,n.length)}static compareSegments(e,n){const r=Tt.isNumericId(e),i=Tt.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Tt.extractNumericId(e).compare(Tt.extractNumericId(n)):bc(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xn.fromString(e.substring(4,e.length-2))}}class me extends Tt{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const dR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ue extends Tt{construct(e,n,r){return new Ue(e,n,r)}static isValidIdentifier(e){return dR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ue.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xm}static keyField(){return new Ue([xm])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new z(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ue(n)}static emptyPath(){return new Ue([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(me.fromString(e))}static fromName(e){return new H(me.fromString(e).popFirst(5))}static empty(){return new H(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new me(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=-1;function fR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new An(i,H.empty(),e)}function mR(t){return new An(t.readTime,t.key,ns)}class An{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new An(K.min(),H.empty(),ns)}static max(){return new An(K.max(),H.empty(),ns)}}function pR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:J(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function li(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==gR)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function vR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ci(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ya.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=-1;function va(t){return t==null}function Uo(t){return t===0&&1/t==-1/0}function _R(t){return typeof t=="number"&&Number.isInteger(t)&&!Uo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="";function wR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Tm(e)),e=xR(t.get(n),e);return Tm(e)}function xR(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Xv:n+="";break;default:n+=s}}return n}function Tm(t){return t+Xv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n){this.comparator=e,this.root=n||Fe.EMPTY}insert(e,n){return new xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new to(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new to(this.root,e,this.comparator,!1)}getReverseIterator(){return new to(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new to(this.root,e,this.comparator,!0)}}class to{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Fe.RED,this.left=i??Fe.EMPTY,this.right=s??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Fe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Fe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Fe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Em(this.data.getIterator())}getIteratorFrom(e){return new Em(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new De(this.comparator);return n.data=e,n}}class Em{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.fields=e,e.sort(Ue.comparator)}static empty(){return new gt([])}unionWith(e){let n=new De(Ue.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Zv("Invalid base64 string: "+s):s}}(e);return new Be(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Be(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const TR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cn(t){if(ae(!!t,39018),typeof t=="string"){let e=0;const n=TR.exec(t);if(ae(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sn(t){return typeof t=="string"?Be.fromBase64String(t):Be.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="server_timestamp",t0="__type__",n0="__previous_value__",r0="__local_write_time__";function Su(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[t0])===null||n===void 0?void 0:n.stringValue)===e0}function _a(t){const e=t.mapValue.fields[n0];return Su(e)?_a(e):e}function rs(t){const e=Cn(t.mapValue.fields[r0].timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,i,s,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Bo="(default)";class is{constructor(e,n){this.projectId=e,this.database=n||Bo}static empty(){return new is("","")}get isDefaultDatabase(){return this.database===Bo}isEqual(e){return e instanceof is&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__type__",s0="__max__",no={mapValue:{fields:{__type__:{stringValue:s0}}}},o0="__vector__",$o="value";function Pn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Su(t)?4:IR(t)?9007199254740991:ER(t)?10:11:q(28295,{value:t})}function Nt(t,e){if(t===e)return!0;const n=Pn(t);if(n!==Pn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rs(t).isEqual(rs(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Cn(i.timestampValue),a=Cn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Sn(i.bytesValue).isEqual(Sn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ae(i.geoPointValue.latitude)===Ae(s.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ae(i.integerValue)===Ae(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ae(i.doubleValue),a=Ae(s.doubleValue);return o===a?Uo(o)===Uo(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qr(t.arrayValue.values||[],e.arrayValue.values||[],Nt);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(bm(o)!==bm(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Nt(o[c],a[c])))return!1;return!0}(t,e);default:return q(52216,{left:t})}}function ss(t,e){return(t.values||[]).find(n=>Nt(n,e))!==void 0}function Gr(t,e){if(t===e)return 0;const n=Pn(t),r=Pn(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ae(s.integerValue||s.doubleValue),c=Ae(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Im(t.timestampValue,e.timestampValue);case 4:return Im(rs(t),rs(e));case 5:return bc(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Sn(s),c=Sn(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=J(a[u],c[u]);if(h!==0)return h}return J(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=J(Ae(s.latitude),Ae(o.latitude));return a!==0?a:J(Ae(s.longitude),Ae(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Am(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,h;const f=s.fields||{},p=o.fields||{},y=(a=f[$o])===null||a===void 0?void 0:a.arrayValue,b=(c=p[$o])===null||c===void 0?void 0:c.arrayValue,w=J(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:Am(y,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===no.mapValue&&o===no.mapValue)return 0;if(s===no.mapValue)return 1;if(o===no.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=bc(c[f],h[f]);if(p!==0)return p;const y=Gr(a[c[f]],u[h[f]]);if(y!==0)return y}return J(c.length,h.length)}(t.mapValue,e.mapValue);default:throw q(23264,{Pe:n})}}function Im(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return J(t,e);const n=Cn(t),r=Cn(e),i=J(n.seconds,r.seconds);return i!==0?i:J(n.nanos,r.nanos)}function Am(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Gr(n[i],r[i]);if(s)return s}return J(n.length,r.length)}function Kr(t){return Ec(t)}function Ec(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ec(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ec(n.fields[o])}`;return i+"}"}(t.mapValue):q(61005,{value:t})}function go(t){switch(Pn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_a(t);return e?16+go(e):16;case 5:return 2*t.stringValue.length;case 6:return Sn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+go(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return fr(r.fields,(s,o)=>{i+=s.length+go(o)}),i}(t.mapValue);default:throw q(13486,{value:t})}}function Cm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ic(t){return!!t&&"integerValue"in t}function Pu(t){return!!t&&"arrayValue"in t}function Sm(t){return!!t&&"nullValue"in t}function Pm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yo(t){return!!t&&"mapValue"in t}function ER(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[i0])===null||n===void 0?void 0:n.stringValue)===o0}function $i(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$i(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$i(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===s0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.value=e}static empty(){return new ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$i(n)}setAll(e){let n=Ue.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$i(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());yo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yo(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ut($i(this.value))}}function a0(t){const e=[];return fr(t.fields,(n,r)=>{const i=new Ue([n]);if(yo(r)){const s=a0(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ye(e,0,K.min(),K.min(),K.min(),ut.empty(),0)}static newFoundDocument(e,n,r,i){return new Ye(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new Ye(e,2,n,K.min(),K.min(),ut.empty(),0)}static newUnknownDocument(e,n){return new Ye(e,3,n,K.min(),K.min(),ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n){this.position=e,this.inclusive=n}}function Rm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Gr(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Nm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n="asc"){this.field=e,this.dir=n}}function AR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{}class Re extends l0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SR(e,n,r):n==="array-contains"?new NR(e,r):n==="in"?new kR(e,r):n==="not-in"?new VR(e,r):n==="array-contains-any"?new DR(e,r):new Re(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PR(e,r):new RR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gr(n,this.value)):n!==null&&Pn(this.value)===Pn(n)&&this.matchesComparison(Gr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _t extends l0{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new _t(e,n)}matches(e){return c0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function c0(t){return t.op==="and"}function u0(t){return CR(t)&&c0(t)}function CR(t){for(const e of t.filters)if(e instanceof _t)return!1;return!0}function Ac(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+Kr(t.value);if(u0(t))return t.filters.map(e=>Ac(e)).join(",");{const e=t.filters.map(n=>Ac(n)).join(",");return`${t.op}(${e})`}}function h0(t,e){return t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&Nt(r.value,i.value)}(t,e):t instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&h0(o,i.filters[a]),!0):!1}(t,e):void q(19439)}function d0(t){return t instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${Kr(n.value)}`}(t):t instanceof _t?function(n){return n.op.toString()+" {"+n.getFilters().map(d0).join(" ,")+"}"}(t):"Filter"}class SR extends Re{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class PR extends Re{constructor(e,n){super(e,"in",n),this.keys=f0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RR extends Re{constructor(e,n){super(e,"not-in",n),this.keys=f0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class NR extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pu(n)&&ss(n.arrayValue,this.value)}}class kR extends Re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ss(this.value.arrayValue,n)}}class VR extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(ss(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ss(this.value.arrayValue,n)}}class DR extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ss(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function km(t,e=null,n=[],r=[],i=null,s=null,o=null){return new OR(t,e,n,r,i,s,o)}function Ru(t){const e=Y(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ac(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),va(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Kr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Kr(r)).join(",")),e.Ie=n}return e.Ie}function Nu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!h0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nm(t.startAt,e.startAt)&&Nm(t.endAt,e.endAt)}function Cc(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function MR(t,e,n,r,i,s,o,a){return new ui(t,e,n,r,i,s,o,a)}function m0(t){return new ui(t)}function Vm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p0(t){return t.collectionGroup!==null}function zi(t){const e=Y(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new De(Ue.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new os(s,r))}),n.has(Ue.keyField().canonicalString())||e.Ee.push(new os(Ue.keyField(),r))}return e.Ee}function At(t){const e=Y(t);return e.de||(e.de=jR(e,zi(t))),e.de}function jR(t,e){if(t.limitType==="F")return km(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new os(i.field,s)});const n=t.endAt?new zo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zo(t.startAt.position,t.startAt.inclusive):null;return km(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sc(t,e){const n=t.filters.concat([e]);return new ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ho(t,e,n){return new ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wa(t,e){return Nu(At(t),At(e))&&t.limitType===e.limitType}function g0(t){return`${Ru(At(t))}|lt:${t.limitType}`}function Cr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>d0(i)).join(", ")}]`),va(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Kr(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Kr(i)).join(",")),`Target(${r})`}(At(t))}; limitType=${t.limitType})`}function xa(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of zi(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=Rm(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,zi(r),i)||r.endAt&&!function(o,a,c){const u=Rm(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,zi(r),i))}(t,e)}function LR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function y0(t){return(e,n)=>{let r=!1;for(const i of zi(t)){const s=FR(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function FR(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Gr(c,u):q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new xe(H.comparator);function qt(){return UR}const v0=new xe(H.comparator);function Oi(...t){let e=v0;for(const n of t)e=e.insert(n.key,n);return e}function _0(t){let e=v0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gn(){return Hi()}function w0(){return Hi()}function Hi(){return new mr(t=>t.toString(),(t,e)=>t.isEqual(e))}const BR=new xe(H.comparator),$R=new De(H.comparator);function ne(...t){let e=$R;for(const n of t)e=e.add(n);return e}const zR=new De(J);function HR(){return zR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uo(e)?"-0":e}}function x0(t){return{integerValue:""+t}}function WR(t,e){return _R(e)?x0(e):ku(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this._=void 0}}function qR(t,e,n){return t instanceof as?function(i,s){const o={fields:{[t0]:{stringValue:e0},[r0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Su(s)&&(s=_a(s)),s&&(o.fields[n0]=s),{mapValue:o}}(n,e):t instanceof ls?b0(t,e):t instanceof cs?E0(t,e):function(i,s){const o=T0(i,s),a=Dm(o)+Dm(i.Re);return Ic(o)&&Ic(i.Re)?x0(a):ku(i.serializer,a)}(t,e)}function GR(t,e,n){return t instanceof ls?b0(t,e):t instanceof cs?E0(t,e):n}function T0(t,e){return t instanceof Wo?function(r){return Ic(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class as extends Ta{}class ls extends Ta{constructor(e){super(),this.elements=e}}function b0(t,e){const n=I0(e);for(const r of t.elements)n.some(i=>Nt(i,r))||n.push(r);return{arrayValue:{values:n}}}class cs extends Ta{constructor(e){super(),this.elements=e}}function E0(t,e){let n=I0(e);for(const r of t.elements)n=n.filter(i=>!Nt(i,r));return{arrayValue:{values:n}}}class Wo extends Ta{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Dm(t){return Ae(t.integerValue||t.doubleValue)}function I0(t){return Pu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.field=e,this.transform=n}}function YR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ls&&i instanceof ls||r instanceof cs&&i instanceof cs?qr(r.elements,i.elements,Nt):r instanceof Wo&&i instanceof Wo?Nt(r.Re,i.Re):r instanceof as&&i instanceof as}(t.transform,e.transform)}class QR{constructor(e,n){this.version=e,this.transformResults=n}}class Ct{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ct}static exists(e){return new Ct(void 0,e)}static updateTime(e){return new Ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ba{}function A0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vu(t.key,Ct.none()):new Ts(t.key,t.data,Ct.none());{const n=t.data,r=ut.empty();let i=new De(Ue.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new pr(t.key,r,new gt(i.toArray()),Ct.none())}}function XR(t,e,n){t instanceof Ts?function(i,s,o){const a=i.value.clone(),c=Mm(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pr?function(i,s,o){if(!vo(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Mm(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(C0(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wi(t,e,n,r){return t instanceof Ts?function(s,o,a,c){if(!vo(s.precondition,o))return a;const u=s.value.clone(),h=jm(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof pr?function(s,o,a,c){if(!vo(s.precondition,o))return a;const u=jm(s.fieldTransforms,c,o),h=o.data;return h.setAll(C0(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return vo(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function JR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=T0(r.transform,i||null);s!=null&&(n===null&&(n=ut.empty()),n.set(r.field,s))}return n||null}function Om(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qr(r,i,(s,o)=>YR(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ts extends ba{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pr extends ba{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function C0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Mm(t,e,n){const r=new Map;ae(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,GR(o,a,n[i]))}return r}function jm(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,qR(s,o,e))}return r}class Vu extends ba{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZR extends ba{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&XR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=w0();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=A0(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&qr(this.mutations,e.mutations,(n,r)=>Om(n,r))&&qr(this.baseMutations,e.baseMutations,(n,r)=>Om(n,r))}}class Du{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ae(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return BR}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Du(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tN=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,re;function rN(t){switch(t){case j.OK:return q(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function S0(t){if(t===void 0)return Wt("GRPC error has no .code"),j.UNKNOWN;switch(t){case Se.OK:return j.OK;case Se.CANCELLED:return j.CANCELLED;case Se.UNKNOWN:return j.UNKNOWN;case Se.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Se.INTERNAL:return j.INTERNAL;case Se.UNAVAILABLE:return j.UNAVAILABLE;case Se.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Se.NOT_FOUND:return j.NOT_FOUND;case Se.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Se.ABORTED:return j.ABORTED;case Se.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Se.DATA_LOSS:return j.DATA_LOSS;default:return q(39323,{code:t})}}(re=Se||(Se={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new xn([4294967295,4294967295],0);function Lm(t){const e=Yv().encode(t),n=new Bv;return n.update(e),new Uint8Array(n.digest())}function Fm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xn([n,r],0),new xn([i,s],0)]}class Ou{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mi(`Invalid padding: ${n}`);if(r<0)throw new Mi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mi(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=xn.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(xn.fromNumber(r)));return i.compare(iN)===1&&(i=new xn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Lm(e),[r,i]=Fm(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ou(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Lm(e),[r,i]=Fm(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bs.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ea(K.min(),i,new xe(J),qt(),ne())}}class bs{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bs(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class P0{constructor(e,n){this.targetId=e,this.Ce=n}}class R0{constructor(e,n,r=Be.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Um{constructor(){this.Fe=0,this.Me=Bm(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ne(),n=ne(),r=ne();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:s})}}),new bs(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Bm()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sN{constructor(e){this.ze=e,this.je=new Map,this.He=qt(),this.Je=ro(),this.Ye=ro(),this.Ze=new xe(J)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(Cc(s))if(r===0){const o=new H(s.path);this.tt(n,o,Ye.newNoDocument(o,K.min()))}else ae(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),c=a?this.lt(a,e,o):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Sn(r).toUint8Array()}catch(c){if(c instanceof Zv)return Wr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Ou(o,i,s)}catch(c){return Wr(c instanceof Mi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Cc(a.target)){const c=new H(a.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Ye.newNoDocument(c,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=ne();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Ea(e,n,this.Ze,this.He,r);return this.He=qt(),this.Je=ro(),this.Ye=ro(),this.Ze=new xe(J),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Um,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new De(J),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new De(J),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Um),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ro(){return new xe(H.comparator)}function Bm(){return new xe(H.comparator)}const oN=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),aN=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),lN=(()=>({and:"AND",or:"OR"}))();class cN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pc(t,e){return t.useProto3Json||va(e)?e:{value:e}}function qo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uN(t,e){return qo(t,e.toTimestamp())}function St(t){return ae(!!t,49232),K.fromTimestamp(function(n){const r=Cn(n);return new Ve(r.seconds,r.nanos)}(t))}function Mu(t,e){return Rc(t,e).canonicalString()}function Rc(t,e){const n=function(i){return new me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function k0(t){const e=me.fromString(t);return ae(j0(e),10190,{key:e.toString()}),e}function Nc(t,e){return Mu(t.databaseId,e.path)}function Cl(t,e){const n=k0(e);if(n.get(1)!==t.databaseId.projectId)throw new z(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(D0(n))}function V0(t,e){return Mu(t.databaseId,e)}function hN(t){const e=k0(t);return e.length===4?me.emptyPath():D0(e)}function kc(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D0(t){return ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $m(t,e,n){return{name:Nc(t,e),fields:n.value.mapValue.fields}}function dN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:q(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(ae(h===void 0||typeof h=="string",58123),Be.fromBase64String(h||"")):(ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Be.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?j.UNKNOWN:S0(u.code);return new z(h,u.message||"")}(o);n=new R0(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cl(t,r.document.name),s=St(r.document.updateTime),o=r.document.createTime?St(r.document.createTime):K.min(),a=new ut({mapValue:{fields:r.document.fields}}),c=Ye.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new _o(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cl(t,r.document),s=r.readTime?St(r.readTime):K.min(),o=Ye.newNoDocument(i,s),a=r.removedTargetIds||[];n=new _o([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cl(t,r.document),s=r.removedTargetIds||[];n=new _o([],s,i,null)}else{if(!("filter"in e))return q(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nN(i,s),a=r.targetId;n=new P0(a,o)}}return n}function fN(t,e){let n;if(e instanceof Ts)n={update:$m(t,e.key,e.value)};else if(e instanceof Vu)n={delete:Nc(t,e.key)};else if(e instanceof pr)n={update:$m(t,e.key,e.data),updateMask:TN(e.fieldMask)};else{if(!(e instanceof ZR))return q(16599,{ft:e.type});n={verify:Nc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof as)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ls)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wo)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw q(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q(27497)}(t,e.precondition)),n}function mN(t,e){return t&&t.length>0?(ae(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?St(i.updateTime):St(s);return o.isEqual(K.min())&&(o=St(s)),new QR(o,i.transformResults||[])}(n,e))):[]}function pN(t,e){return{documents:[V0(t,e.path)]}}function gN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=V0(t,i);const s=function(u){if(u.length!==0)return M0(_t.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:Sr(p.field),direction:_N(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Pc(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function yN(t){let e=hN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ae(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=O0(f);return p instanceof _t&&u0(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(b){return new os(Pr(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,va(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,y=f.values||[];return new zo(y,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,y=f.values||[];return new zo(y,p)}(n.endAt)),MR(e,i,o,s,a,"F",c,u)}function vN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function O0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pr(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pr(n.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Pr(n.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pr(n.unaryFilter.field);return Re.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Re.create(Pr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _t.create(n.compositeFilter.filters.map(r=>O0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}}(n.compositeFilter.op))}(t):q(30097,{filter:t})}function _N(t){return oN[t]}function wN(t){return aN[t]}function xN(t){return lN[t]}function Sr(t){return{fieldPath:t.canonicalString()}}function Pr(t){return Ue.fromServerFormat(t.fieldPath)}function M0(t){return t instanceof Re?function(n){if(n.op==="=="){if(Pm(n.value))return{unaryFilter:{field:Sr(n.field),op:"IS_NAN"}};if(Sm(n.value))return{unaryFilter:{field:Sr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pm(n.value))return{unaryFilter:{field:Sr(n.field),op:"IS_NOT_NAN"}};if(Sm(n.value))return{unaryFilter:{field:Sr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sr(n.field),op:wN(n.op),value:n.value}}}(t):t instanceof _t?function(n){const r=n.getFilters().map(i=>M0(i));return r.length===1?r[0]:{compositeFilter:{op:xN(n.op),filters:r}}}(t):q(54877,{filter:t})}function TN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,i,s=K.min(),o=K.min(),a=Be.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new dn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.wt=e}}function EN(t){const e=yN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ho(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Cn=new AN}addToCollectionParentIndex(e,n){return this.Cn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(An.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(An.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class AN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new De(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new De(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L0=41943040;class rt{static withCacheSize(e){return new rt(e,rt.DEFAULT_COLLECTION_PERCENTILE,rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rt.DEFAULT_COLLECTION_PERCENTILE=10,rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rt.DEFAULT=new rt(L0,rt.DEFAULT_COLLECTION_PERCENTILE,rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rt.DISABLED=new rt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Yr(0)}static lr(){return new Yr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="LruGarbageCollector",CN=1048576;function Wm([t,e],[n,r]){const i=J(t,n);return i===0?J(e,r):i}class SN{constructor(e){this.Er=e,this.buffer=new De(Wm),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Wm(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){B(Hm,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ci(n)?B(Hm,"Ignoring IndexedDB error during garbage collection: ",n):await li(n)}await this.mr(3e5)})}}class RN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(ya.le);const r=new SN(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(zm)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zm):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ar()<=te.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function NN(t,e){return new RN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.changes=new mr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wi(r.mutation,i,gt.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=Gn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Oi();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=qt();const o=Hi(),a=function(){return Hi()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof pr)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Wi(h.mutation,u,h.mutation.getFieldMask(),Ve.now())):o.set(u.key,gt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new VN(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hi();let i=new xe((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||gt.empty();h=a.applyToLocalView(u,h),r.set(c,h);const f=(i.get(a.batchId)||ne()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,f=w0();h.forEach(p=>{if(!s.has(p)){const y=A0(n.get(p),r.get(p));y!==null&&f.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Gn());let a=ns,c=s;return o.next(u=>M.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ne())).next(h=>({batchId:a,changes:_0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Oi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Oi();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,c=>{const u=function(f,p){return new ui(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Ye.newInvalidDocument(h)))});let a=Oi();return o.forEach((c,u)=>{const h=s.get(c);h!==void 0&&Wi(h.mutation,u,gt.empty(),Ve.now()),xa(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return M.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:St(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:EN(i.bundledQuery),readTime:St(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.overlays=new xe(H.comparator),this.Qr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gn();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Gn(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xe((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Gn(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Gn(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return M.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tN(n,r));let s=this.Qr.get(n);s===void 0&&(s=ne(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.$r=new De(Oe.Ur),this.Kr=new De(Oe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Oe(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Oe(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new H(new me([])),r=new Oe(n,e),i=new Oe(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new H(new me([])),r=new Oe(n,e),i=new Oe(n,e+1);let s=ne();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Oe(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Oe{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return H.comparator(e.key,n.key)||J(e.Zr,n.Zr)}static Wr(e,n){return J(e.Zr,n.Zr)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new De(Oe.Ur)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new Oe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Cu:this.nr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(J);return n.forEach(i=>{const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),M.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new Oe(new H(s),0);let a=new De(J);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Zr)),!0)},o),M.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ae(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return M.forEach(n.mutations,i=>{const s=new Oe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Oe(n,0),i=this.Xr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.ii=e,this.docs=function(){return new xe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(e,n){let r=qt();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ye.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qt();const o=n.path,a=new H(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||pR(mR(h),r)<=0||(i.has(h.key)||xa(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){q(9500)}si(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UN(this)}getSize(e){return M.resolve(this.size)}}class UN extends kN{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.persistence=e,this.oi=new mr(n=>Ru(n),Nu),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this._i=0,this.ai=new ju,this.targetCount=0,this.ui=Yr.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),M.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Yr(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Tr(n),M.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.ci={},this.overlays={},this.li=new ya(0),this.hi=!1,this.hi=!0,this.Pi=new jN,this.referenceDelegate=e(this),this.Ti=new BN(this),this.indexManager=new IN,this.remoteDocumentCache=function(i){return new FN(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new bN(n),this.Ei=new ON(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new LN(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new $N(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return M.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class $N extends yR{constructor(e){super(),this.currentSequenceNumber=e}}class Lu{constructor(e){this.persistence=e,this.Vi=new ju,this.mi=null}static fi(e){return new Lu(e)}get gi(){if(this.mi)return this.mi;throw q(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.gi,r=>{const i=H.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,K.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return M.or([()=>M.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Go{constructor(e,n){this.persistence=e,this.yi=new mr(r=>wR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=NN(this,n)}static fi(e,n){return new Go(e,n)}di(){}Ai(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return M.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,K.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),M.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=go(e.data.value)),n}Dr(e,n,r){return M.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Fu(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return US()?8:vR(Qe())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zN;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Ar()<=te.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Cr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),M.resolve()):(Ar()<=te.DEBUG&&B("QueryEngine","Query:",Cr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ar()<=te.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Cr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,At(n))):M.resolve())}ws(e,n){if(Vm(n))return M.resolve(null);let r=At(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ho(n,null,"F"),r=At(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,a);return this.Cs(n,u,o,c.readTime)?this.ws(e,Ho(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,i){return Vm(n)||i.isEqual(K.min())?M.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?M.resolve(null):(Ar()<=te.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cr(n)),this.Fs(e,o,n,fR(i,ns)).next(a=>a))})}vs(e,n){let r=new De(y0(e));return n.forEach((i,s)=>{xa(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ar()<=te.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Cr(n)),this.ys.getDocumentsMatchingQuery(e,n,An.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="LocalStore",WN=3e8;class qN{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new xe(J),this.Os=new mr(s=>Ru(s),Nu),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function GN(t,e,n,r){return new qN(t,e,n,r)}async function U0(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ne();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function KN(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const f=u.batch,p=f.keys();let y=M.resolve();return p.forEach(b=>{y=y.next(()=>h.getEntry(c,b)).next(w=>{const x=u.docVersions.get(b);ae(x!==null,48541),w.version.compareTo(x)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function B0(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function YN(t,e){const n=Y(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.Ti.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(s,h.addedDocuments,f)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Be.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(f,y),function(w,x,k){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=WN?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(p,y,h)&&a.push(n.Ti.updateTargetData(s,y))});let c=qt(),u=ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(QN(s,o,e.documentUpdates).next(h=>{c=h.qs,u=h.Qs})),!r.isEqual(K.min())){const h=n.Ti.getLastRemoteSnapshotVersion(s).next(f=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.xs=i,s))}function QN(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=qt();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(K.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):B(Uu,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function XN(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cu),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JN(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new dn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Vc(t,e,n){const r=Y(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ci(o))throw o;B(Uu,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function qm(t,e,n){const r=Y(t);let i=K.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=Y(c),p=f.Os.get(h);return p!==void 0?M.resolve(f.xs.get(p)):f.Ti.getTargetData(u,h)}(r,o,At(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:K.min(),n?s:ne())).next(a=>(ZN(r,LR(e),a),{documents:a,$s:s})))}function ZN(t,e,n){let r=t.Ns.get(e)||K.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class Gm{constructor(){this.activeTargetIds=HR()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ek{constructor(){this.xo=new Gm,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Gm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="ConnectivityMonitor";class Ym{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){B(Km,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){B(Km,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io=null;function Dc(){return io===null?io=function(){return 268435456+Math.round(2147483648*Math.random())}():io++,"0x"+io.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="RestConnection",nk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Bo?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=Dc(),a=this.jo(e,n.toUriEncodedString());B(Sl,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,s);const{host:u}=new URL(a),h=si(u);return this.Jo(e,a,c,r,h).then(f=>(B(Sl,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Wr(Sl,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ai}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=nk[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe="WebChannelConnection";class sk extends rk{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Dc();return new Promise((a,c)=>{const u=new $v;u.setWithCredentials(!0),u.listenOnce(zv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case po.NO_ERROR:const f=u.getResponseJson();B(qe,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case po.TIMEOUT:B(qe,`RPC '${e}' ${o} timed out`),c(new z(j.DEADLINE_EXCEEDED,"Request time out"));break;case po.HTTP_ERROR:const p=u.getStatus();if(B(qe,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const w=function(k){const S=k.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(S)>=0?S:j.UNKNOWN}(b.status);c(new z(w,b.message))}else c(new z(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new z(j.UNAVAILABLE,"Connection failed."));break;default:q(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{B(qe,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);B(qe,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}I_(e,n,r){const i=Dc(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qv(),a=Wv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");B(qe,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=o.createWebChannel(h,c);this.E_(f);let p=!1,y=!1;const b=new ik({Zo:x=>{y?B(qe,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(B(qe,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),B(qe,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Xo:()=>f.close()}),w=(x,k,S)=>{x.listen(k,P=>{try{S(P)}catch(D){setTimeout(()=>{throw D},0)}})};return w(f,Di.EventType.OPEN,()=>{y||(B(qe,`RPC '${e}' stream ${i} transport opened.`),b.__())}),w(f,Di.EventType.CLOSE,()=>{y||(y=!0,B(qe,`RPC '${e}' stream ${i} transport closed`),b.u_(),this.d_(f))}),w(f,Di.EventType.ERROR,x=>{y||(y=!0,Wr(qe,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),b.u_(new z(j.UNAVAILABLE,"The operation could not be completed")))}),w(f,Di.EventType.MESSAGE,x=>{var k;if(!y){const S=x.data[0];ae(!!S,16349);const P=S,D=(P==null?void 0:P.error)||((k=P[0])===null||k===void 0?void 0:k.error);if(D){B(qe,`RPC '${e}' stream ${i} received error:`,D);const L=D.status;let U=function(E){const C=Se[E];if(C!==void 0)return S0(C)}(L),I=D.message;U===void 0&&(U=j.INTERNAL,I="Unknown error status: "+L+" with message "+D.message),y=!0,b.u_(new z(U,I)),f.close()}else B(qe,`RPC '${e}' stream ${i} received:`,S),b.c_(S)}}),w(a,Hv.STAT_EVENT,x=>{x.stat===Tc.PROXY?B(qe,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Tc.NOPROXY&&B(qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Pl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t){return new cN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="PersistentStream";class z0{constructor(e,n,r,i,s,o,a,c){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new $0(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Wt(n.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new z(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return B(Qm,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(B(Qm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ok extends z0{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=dN(this.serializer,e),r=function(s){if(!("targetChange"in s))return K.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?K.min():o.readTime?St(o.readTime):K.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=kc(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=Cc(c)?{documents:pN(s,c)}:{query:gN(s,c).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=N0(s,o.resumeToken);const u=Pc(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(K.min())>0){a.readTime=qo(s,o.snapshotVersion.toTimestamp());const u=Pc(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=vN(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=kc(this.serializer),n.removeTarget=e,this.Q_(n)}}class ak extends z0{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=mN(e.writeResults,e.commitTime),r=St(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=kc(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fN(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{}class ck extends lk{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new z(j.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,Rc(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(j.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Rc(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(j.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class uk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Wt(n),this.ua=!1):B("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="RemoteStore";class hk{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{r.enqueueAndForget(async()=>{gr(this)&&(B(tr,"Restarting streams for network reachability change."),await async function(c){const u=Y(c);u.da.add(4),await Es(u),u.Va.set("Unknown"),u.da.delete(4),await Aa(u)}(this))})}),this.Va=new uk(r,i)}}async function Aa(t){if(gr(t))for(const e of t.Aa)await e(!0)}async function Es(t){for(const e of t.Aa)await e(!1)}function H0(t,e){const n=Y(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Hu(n)?zu(n):hi(n).N_()&&$u(n,e))}function Bu(t,e){const n=Y(t),r=hi(n);n.Ea.delete(e),r.N_()&&W0(n,e),n.Ea.size===0&&(r.N_()?r.k_():gr(n)&&n.Va.set("Unknown"))}function $u(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(K.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hi(t).Z_(e)}function W0(t,e){t.ma.Ke(e),hi(t).X_(e)}function zu(t){t.ma=new sN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),hi(t).start(),t.Va.ca()}function Hu(t){return gr(t)&&!hi(t).O_()&&t.Ea.size>0}function gr(t){return Y(t).da.size===0}function q0(t){t.ma=void 0}async function dk(t){t.Va.set("Online")}async function fk(t){t.Ea.forEach((e,n)=>{$u(t,e)})}async function mk(t,e){q0(t),Hu(t)?(t.Va.Pa(e),zu(t)):t.Va.set("Unknown")}async function pk(t,e,n){if(t.Va.set("Online"),e instanceof R0&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){B(tr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ko(t,r)}else if(e instanceof _o?t.ma.Xe(e):e instanceof P0?t.ma.ot(e):t.ma.nt(e),!n.isEqual(K.min()))try{const r=await B0(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ma.It(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.Ea.get(u);h&&s.Ea.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=s.Ea.get(c);if(!h)return;s.Ea.set(c,h.withResumeToken(Be.EMPTY_BYTE_STRING,h.snapshotVersion)),W0(s,c);const f=new dn(h.target,c,u,h.sequenceNumber);$u(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){B(tr,"Failed to raise snapshot:",r),await Ko(t,r)}}async function Ko(t,e,n){if(!ci(e))throw e;t.da.add(1),await Es(t),t.Va.set("Offline"),n||(n=()=>B0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B(tr,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Aa(t)})}function G0(t,e){return e().catch(n=>Ko(t,n,e))}async function Ca(t){const e=Y(t),n=Rn(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Cu;for(;gk(e);)try{const i=await XN(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,yk(e,i)}catch(i){await Ko(e,i)}K0(e)&&Y0(e)}function gk(t){return gr(t)&&t.Ia.length<10}function yk(t,e){t.Ia.push(e);const n=Rn(t);n.N_()&&n.ea&&n.ta(e.mutations)}function K0(t){return gr(t)&&!Rn(t).O_()&&t.Ia.length>0}function Y0(t){Rn(t).start()}async function vk(t){Rn(t).ia()}async function _k(t){const e=Rn(t);for(const n of t.Ia)e.ta(n.mutations)}async function wk(t,e,n){const r=t.Ia.shift(),i=Du.from(r,e,n);await G0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ca(t)}async function xk(t,e){e&&Rn(t).ea&&await async function(r,i){if(function(o){return rN(o)&&o!==j.ABORTED}(i.code)){const s=r.Ia.shift();Rn(r).L_(),await G0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ca(r)}}(t,e),K0(t)&&Y0(t)}async function Xm(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),B(tr,"RemoteStore received new credentials");const r=gr(n);n.da.add(3),await Es(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Aa(n)}async function Tk(t,e){const n=Y(t);e?(n.da.delete(2),await Aa(n)):e||(n.da.add(2),await Es(n),n.Va.set("Unknown"))}function hi(t){return t.fa||(t.fa=function(n,r,i){const s=Y(n);return s.oa(),new ok(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:dk.bind(null,t),n_:fk.bind(null,t),i_:mk.bind(null,t),Y_:pk.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Hu(t)?zu(t):t.Va.set("Unknown")):(await t.fa.stop(),q0(t))})),t.fa}function Rn(t){return t.ga||(t.ga=function(n,r,i){const s=Y(n);return s.oa(),new ak(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:vk.bind(null,t),i_:xk.bind(null,t),na:_k.bind(null,t),ra:wk.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Ca(t)):(await t.ga.stop(),t.Ia.length>0&&(B(tr,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Wu(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qu(t,e){if(Wt("AsyncQueue",`${e}: ${t}`),ci(t))return new z(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{static emptySet(e){return new Mr(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Oi(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.pa=new xe(H.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):q(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qr{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qr(e,n,Mr.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Ek{constructor(){this.queries=Zm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Y(n),s=i.queries;i.queries=Zm(),s.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new z(j.ABORTED,"Firestore shutting down"))}}function Zm(){return new mr(t=>g0(t),wa)}async function Ik(t,e){const n=Y(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new bk,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=qu(o,`Initialization of query '${Cr(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&Gu(n)}async function Ak(t,e){const n=Y(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ck(t,e){const n=Y(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Ma(i)&&(r=!0);o.ba=i}}r&&Gu(n)}function Sk(t,e,n){const r=Y(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Gu(t){t.Ca.forEach(e=>{e.next()})}var Oc,ep;(ep=Oc||(Oc={})).xa="default",ep.Cache="cache";class Pk{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Qr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Oc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.key=e}}class X0{constructor(e){this.key=e}}class Rk{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ne(),this.mutatedKeys=ne(),this.Za=y0(e),this.Xa=new Mr(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new Jm,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const p=i.get(h),y=xa(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;p&&y?p.data.isEqual(y.data)?b!==w&&(r.track({type:3,doc:y}),x=!0):this.ru(p,y)||(r.track({type:2,doc:y}),x=!0,(c&&this.Za(y,c)>0||u&&this.Za(y,u)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),x=!0):p&&!y&&(r.track({type:1,doc:p}),x=!0,(c||u)&&(a=!0)),x&&(y?(o=o.add(y),s=w?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Xa:o,nu:r,Cs:a,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((h,f)=>function(y,b){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{Vt:x})}};return w(y)-w(b)}(h.type,f.type)||this.Za(h.doc,f.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Ja;return this.Ja=c,o.length!==0||u?{snapshot:new Qr(this.query,e.Xa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Jm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ne(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new X0(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Q0(r))}),n}au(e){this.Ha=e.$s,this.Ya=ne();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Qr.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ku="SyncEngine";class Nk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kk{constructor(e){this.key=e,this.cu=!1}}class Vk{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new mr(a=>g0(a),wa),this.Pu=new Map,this.Tu=new Set,this.Iu=new xe(H.comparator),this.Eu=new Map,this.du=new ju,this.Au={},this.Ru=new Map,this.Vu=Yr.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Dk(t,e,n=!0){const r=r_(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await J0(r,e,n,!0),i}async function Ok(t,e){const n=r_(t);await J0(n,e,!0,!1)}async function J0(t,e,n,r){const i=await JN(t.localStore,At(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Mk(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&H0(t.remoteStore,i),a}async function Mk(t,e,n,r,i){t.fu=(f,p,y)=>async function(w,x,k,S){let P=x.view.tu(k);P.Cs&&(P=await qm(w.localStore,x.query,!1).then(({documents:I})=>x.view.tu(I,P)));const D=S&&S.targetChanges.get(x.targetId),L=S&&S.targetMismatches.get(x.targetId)!=null,U=x.view.applyChanges(P,w.isPrimaryClient,D,L);return np(w,x.targetId,U.ou),U.snapshot}(t,f,p,y);const s=await qm(t.localStore,e,!0),o=new Rk(e,s.$s),a=o.tu(s.documents),c=bs.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);np(t,n,u.ou);const h=new Nk(e,n,o);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function jk(t,e,n){const r=Y(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(o=>!wa(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Bu(r.remoteStore,i.targetId),Mc(r,i.targetId)}).catch(li)):(Mc(r,i.targetId),await Vc(r.localStore,i.targetId,!0))}async function Lk(t,e){const n=Y(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bu(n.remoteStore,r.targetId))}async function Fk(t,e,n){const r=qk(t);try{const i=await function(o,a){const c=Y(o),u=Ve.now(),h=a.reduce((y,b)=>y.add(b.key),ne());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=qt(),w=ne();return c.Bs.getEntries(y,h).next(x=>{b=x,b.forEach((k,S)=>{S.isValidDocument()||(w=w.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,b)).next(x=>{f=x;const k=[];for(const S of a){const P=JR(S,f.get(S.key).overlayedDocument);P!=null&&k.push(new pr(S.key,P,a0(P.value.mapValue),Ct.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,k,a)}).next(x=>{p=x;const k=x.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(y,x.batchId,k)})}).then(()=>({batchId:p.batchId,changes:_0(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Au[o.currentUser.toKey()];u||(u=new xe(J)),u=u.insert(a,c),o.Au[o.currentUser.toKey()]=u}(r,i.batchId,n),await Is(r,i.changes),await Ca(r.remoteStore)}catch(i){const s=qu(i,"Failed to persist write");n.reject(s)}}async function Z0(t,e){const n=Y(t);try{const r=await YN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?ae(o.cu,14607):i.removedDocuments.size>0&&(ae(o.cu,42227),o.cu=!1))}),await Is(n,r,e)}catch(r){await li(r)}}function tp(t,e,n){const r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,o)=>{const a=o.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Y(o);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.Fa(a)&&(u=!0)}),u&&Gu(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Uk(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new xe(H.comparator);o=o.insert(s,Ye.newNoDocument(s,K.min()));const a=ne().add(s),c=new Ea(K.min(),new Map,new xe(J),o,a);await Z0(r,c),r.Iu=r.Iu.remove(s),r.Eu.delete(e),Yu(r)}else await Vc(r.localStore,e,!1).then(()=>Mc(r,e,n)).catch(li)}async function Bk(t,e){const n=Y(t),r=e.batch.batchId;try{const i=await KN(n.localStore,e);t_(n,r,null),e_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Is(n,i)}catch(i){await li(i)}}async function $k(t,e,n){const r=Y(t);try{const i=await function(o,a){const c=Y(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(ae(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);t_(r,e,n),e_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Is(r,i)}catch(i){await li(i)}}function e_(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function t_(t,e,n){const r=Y(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Mc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||n_(t,r)})}function n_(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Bu(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Yu(t))}function np(t,e,n){for(const r of n)r instanceof Q0?(t.du.addReference(r.key,e),zk(t,r)):r instanceof X0?(B(Ku,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||n_(t,r.key)):q(19791,{pu:r})}function zk(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(B(Ku,"New document in limbo: "+n),t.Tu.add(r),Yu(t))}function Yu(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new H(me.fromString(e)),r=t.Vu.next();t.Eu.set(r,new kk(n)),t.Iu=t.Iu.insert(n,r),H0(t.remoteStore,new dn(At(m0(n.path)),r,"TargetPurposeLimboResolution",ya.le))}}async function Is(t,e,n){const r=Y(t),i=[],s=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,c)=>{o.push(r.fu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Fu.Rs(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(c,u){const h=Y(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(u,p=>M.forEach(p.ds,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>M.forEach(p.As,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!ci(f))throw f;B(Uu,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const y=h.xs.get(p),b=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(b);h.xs=h.xs.insert(p,w)}}}(r.localStore,s))}async function Hk(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){B(Ku,"User change. New user:",e.toKey());const r=await U0(n.localStore,e);n.currentUser=e,function(s,o){s.Ru.forEach(a=>{a.forEach(c=>{c.reject(new z(j.CANCELLED,o))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Is(n,r.ks)}}function Wk(t,e){const n=Y(t),r=n.Eu.get(e);if(r&&r.cu)return ne().add(r.key);{let i=ne();const s=n.Pu.get(e);if(!s)return i;for(const o of s){const a=n.hu.get(o);i=i.unionWith(a.view.eu)}return i}}function r_(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uk.bind(null,e),e.lu.Y_=Ck.bind(null,e.eventManager),e.lu.gu=Sk.bind(null,e.eventManager),e}function qk(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$k.bind(null,e),e}class Yo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ia(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return GN(this.persistence,new HN,e.initialUser,this.serializer)}Su(e){return new F0(Lu.fi,this.serializer)}bu(e){return new ek}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yo.provider={build:()=>new Yo};class Gk extends Yo{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ae(this.persistence.referenceDelegate instanceof Go,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PN(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?rt.withCacheSize(this.cacheSizeBytes):rt.DEFAULT;return new F0(r=>Go.fi(r,n),this.serializer)}}class jc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hk.bind(null,this.syncEngine),await Tk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ek}()}createDatastore(e){const n=Ia(e.databaseInfo.databaseId),r=function(s){return new sk(s)}(e.databaseInfo);return function(s,o,a,c){return new ck(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new hk(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>tp(this.syncEngine,n,0),function(){return Ym.C()?new Ym:new tk}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,h){const f=new Vk(i,s,o,a,c,u);return h&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Y(i);B(tr,"RemoteStore shutting down."),s.da.add(5),await Es(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jc.provider={build:()=>new jc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="FirestoreClient";class Yk{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=Qv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{B(Nn,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(B(Nn,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rl(t,e){t.asyncQueue.verifyOperationInProgress(),B(Nn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await U0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Qk(t);B(Nn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Xm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Xm(e.remoteStore,i)),t._onlineComponents=e}async function Qk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B(Nn,"Using user provided OfflineComponentProvider");try{await Rl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Wr("Error using user provided cache. Falling back to memory cache: "+n),await Rl(t,new Yo)}}else B(Nn,"Using default OfflineComponentProvider"),await Rl(t,new Gk(void 0));return t._offlineComponents}async function i_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B(Nn,"Using user provided OnlineComponentProvider"),await rp(t,t._uninitializedComponentsProvider._online)):(B(Nn,"Using default OnlineComponentProvider"),await rp(t,new jc))),t._onlineComponents}function Xk(t){return i_(t).then(e=>e.syncEngine)}async function Jk(t){const e=await i_(t),n=e.eventManager;return n.onListen=Dk.bind(null,e.syncEngine),n.onUnlisten=jk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ok.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Lk.bind(null,e.syncEngine),n}function Zk(t,e,n={}){const r=new Tn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const h=new Kk({next:p=>{h.xu(),o.enqueueAndForget(()=>Ak(s,f)),p.fromCache&&c.source==="server"?u.reject(new z(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Pk(a,h,{includeMetadataChanges:!0,Qa:!0});return Ik(s,f)}(await Jk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t,e,n){if(!n)throw new z(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eV(t,e,n,r){if(e===!0&&r===!0)throw new z(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sp(t){if(!H.isDocumentKey(t))throw new z(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function op(t){if(H.isDocumentKey(t))throw new z(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sa(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function us(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sa(t);throw new z(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tV(t,e){if(e<=0)throw new z(j.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="firestore.googleapis.com",ap=!0;class lp{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a_,this.ssl=ap}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ap;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CN)throw new z(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pa{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iR;switch(r.type){case"firstParty":return new lR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ip.get(n);r&&(B("ComponentProvider","Removing Datastore"),ip.delete(n),r.terminate())}(this),Promise.resolve()}}function nV(t,e,n,r={}){var i;t=us(t,Pa);const s=si(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s&&(Vv(`https://${c}`),Dv("Firestore",!0)),o.host!==a_&&o.host!==c&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!Jn(u,a)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ke.MOCK_USER;else{h=NS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new z(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ke(p)}t._authCredentials=new sR(new Kv(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vn(this.firestore,e,this._query)}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}}class bn extends Vn{constructor(e,n,r){super(e,n,m0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new H(e))}withConverter(e){return new bn(this.firestore,e,this._path)}}function cp(t,e,...n){if(t=dt(t),o_("collection","path",e),t instanceof Pa){const r=me.fromString(e,...n);return op(r),new bn(t,null,r)}{if(!(t instanceof ht||t instanceof bn))throw new z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return op(r),new bn(t.firestore,null,r)}}function l_(t,e,...n){if(t=dt(t),arguments.length===1&&(e=Qv.newId()),o_("doc","path",e),t instanceof Pa){const r=me.fromString(e,...n);return sp(r),new ht(t,null,new H(r))}{if(!(t instanceof ht||t instanceof bn))throw new z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return sp(r),new ht(t.firestore,t instanceof bn?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="AsyncQueue";class hp{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new $0(this,"async_queue_retry"),this.rc=()=>{const r=Pl();r&&B(up,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Pl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Pl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Tn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ci(e))throw e;B(up,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Wt("INTERNAL UNHANDLED ERROR: ",dp(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=Wu.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&q(47125,{cc:dp(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function dp(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ra extends Pa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hp,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hp(e),this._firestoreClient=void 0,await e}}}function rV(t,e){const n=typeof t=="object"?t:Lv(),r=typeof t=="string"?t:e||Bo,i=Iu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=PS("firestore");s&&nV(i,...s)}return i}function c_(t){if(t._terminated)throw new z(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iV(t),t._firestoreClient}function iV(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,u,h){return new bR(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,s_(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Yk(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xr(Be.fromBase64String(e))}catch(n){throw new z(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xr(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ue(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=/^__.*__$/;class oV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ts(e,this.data,n,this.fieldTransforms)}}function u_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ic:t})}}class eh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new eh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Qo(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(u_(this.Ic)&&sV.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class aV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ia(e)}bc(e,n,r,i=!1){return new eh({Ic:e,methodName:n,wc:r,path:Ue.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h_(t){const e=t._freezeSettings(),n=Ia(t._databaseId);return new aV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lV(t,e,n,r,i,s={}){const o=t.bc(s.merge||s.mergeFields?2:0,e,n,i);m_("Data must be an object, but it was:",o,r);const a=d_(r,o);let c,u;if(s.merge)c=new gt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const p=uV(e,f,n);if(!o.contains(p))throw new z(j.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);dV(h,p)||h.push(p)}c=new gt(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new oV(new ut(a),c,u)}class th extends Xu{_toFieldTransform(e){return new KR(e.path,new as)}isEqual(e){return e instanceof th}}function cV(t,e,n,r=!1){return nh(n,t.bc(r?4:3,e))}function nh(t,e){if(f_(t=dt(t)))return m_("Unsupported field value:",e,t),d_(t,e);if(t instanceof Xu)return function(r,i){if(!u_(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=nh(a,i.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ve.fromDate(r);return{timestampValue:qo(i.serializer,s)}}if(r instanceof Ve){const s=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qo(i.serializer,s)}}if(r instanceof Ju)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xr)return{bytesValue:N0(i.serializer,r._byteString)};if(r instanceof ht){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Mu(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zu)return function(o,a){return{mapValue:{fields:{[i0]:{stringValue:o0},[$o]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return ku(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Sa(r)}`)}(t,e)}function d_(t,e){const n={};return Jv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fr(t,(r,i)=>{const s=nh(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function f_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof Ju||t instanceof Xr||t instanceof ht||t instanceof Xu||t instanceof Zu)}function m_(t,e,n){if(!f_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sa(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function uV(t,e,n){if((e=dt(e))instanceof Qu)return e._internalPath;if(typeof e=="string")return p_(t,e);throw Qo("Field path arguments must be of type string or ",t,!1,void 0,n)}const hV=new RegExp("[~\\*/\\[\\]]");function p_(t,e,n){if(e.search(hV)>=0)throw Qo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qu(...e.split("."))._internalPath}catch{throw Qo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qo(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new z(j.INVALID_ARGUMENT,a+t+c)}function dV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fV extends g_{data(){return super.data()}}function rh(t,e){return typeof e=="string"?p_(t,e):e instanceof Qu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ih{}class sh extends ih{}function pV(t,e,...n){let r=[];e instanceof ih&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof ah).length,a=s.filter(c=>c instanceof oh).length;if(o>1||o>0&&a>0)throw new z(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class oh extends sh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new oh(e,n,r)}_apply(e){const n=this._parse(e);return y_(e._query,n),new Vn(e.firestore,e.converter,Sc(e._query,n))}_parse(e){const n=h_(e.firestore);return function(s,o,a,c,u,h,f){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new z(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){mp(f,h);const b=[];for(const w of f)b.push(fp(c,s,w));p={arrayValue:{values:b}}}else p=fp(c,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||mp(f,h),p=cV(a,o,f,h==="in"||h==="not-in");return Re.create(u,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ah extends ih{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ah(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_t.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)y_(o,c),o=Sc(o,c)}(e._query,n),new Vn(e.firestore,e.converter,Sc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lh extends sh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lh(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new z(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new os(s,o)}(e._query,this._field,this._direction);return new Vn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ui(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function gV(t,e="asc"){const n=e,r=rh("orderBy",t);return lh._create(r,n)}class ch extends sh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ch(e,n,r)}_apply(e){return new Vn(e.firestore,e.converter,Ho(e._query,this._limit,this._limitType))}}function yV(t){return tV("limit",t),ch._create("limit",t,"F")}function fp(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new z(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p0(e)&&n.indexOf("/")!==-1)throw new z(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!H.isDocumentKey(r))throw new z(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cm(t,new H(r))}if(n instanceof ht)return Cm(t,n._key);throw new z(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sa(n)}.`)}function mp(t,e){if(!Array.isArray(t)||t.length===0)throw new z(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y_(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vV{convertValue(e,n="none"){switch(Pn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[$o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ae(o.doubleValue));return new Zu(s)}convertGeoPoint(e){return new Ju(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_a(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rs(e));default:return null}}convertTimestamp(e){const n=Cn(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);ae(j0(r),9688,{name:e});const i=new is(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Wt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wV extends g_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wo extends wV{data(e={}){return super.data(e)}}class xV{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new so(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wo(this._firestore,this._userDataWriter,r.key,r,new so(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new wo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new so(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new wo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new so(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:TV(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:t})}}class bV extends vV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function EV(t){t=us(t,Vn);const e=us(t.firestore,Ra),n=c_(e),r=new bV(e);return mV(t._query),Zk(n,t._query).then(i=>new xV(e,r,t,i))}function IV(t){return v_(us(t.firestore,Ra),[new Vu(t._key,Ct.none())])}function AV(t,e){const n=us(t.firestore,Ra),r=l_(t),i=_V(t.converter,e);return v_(n,[lV(h_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ct.exists(!1))]).then(()=>r)}function v_(t,e){return function(r,i){const s=new Tn;return r.asyncQueue.enqueueAndForget(async()=>Fk(await Xk(r),i,s)),s.promise}(c_(t),e)}function pp(){return new th("serverTimestamp")}(function(e,n=!0){(function(i){ai=i})(oi),Hr(new Zn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ra(new oR(r.getProvider("auth-internal")),new cR(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new z(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new is(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),wn(pm,gm,e),wn(pm,gm,"esm2017")})();var CV="firebase",SV="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn(CV,SV,"app");var Et=function(){return Et=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Et.apply(this,arguments)};function As(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function PV(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function __(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RV=__,w_=new ws("auth","Firebase",__());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new bu("@firebase/auth");function NV(t,...e){Xo.logLevel<=te.WARN&&Xo.warn(`Auth (${oi}): ${t}`,...e)}function xo(t,...e){Xo.logLevel<=te.ERROR&&Xo.error(`Auth (${oi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,...e){throw uh(t,...e)}function Pt(t,...e){return uh(t,...e)}function x_(t,e,n){const r=Object.assign(Object.assign({},RV()),{[e]:n});return new ws("auth","Firebase",r).create(e,{appName:t.name})}function Yn(t){return x_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return w_.create(t,...e)}function G(t,e,...n){if(!t)throw uh(e,...n)}function jt(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xo(e),new Error(e)}function Kt(t,e){t||jt(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kV(){return gp()==="http:"||gp()==="https:"}function gp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kV()||jS()||"connection"in navigator)?navigator.onLine:!0}function DV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kt(n>e,"Short delay should be less than long delay!"),this.isMobile=DS()||LS()}get(){return VV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t,e){Kt(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jV=new Cs(3e4,6e4);function dh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function di(t,e,n,r,i={}){return b_(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=xs(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return MS()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&si(t.emulatorConfig.host)&&(u.credentials="include"),T_.fetch()(await E_(t,t.config.apiHost,n,a),u)})}async function b_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OV),e);try{const i=new FV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw oo(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw oo(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw oo(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw oo(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw x_(t,h,u);Gt(t,h)}}catch(i){if(i instanceof Yt)throw i;Gt(t,"network-request-failed",{message:String(i)})}}async function LV(t,e,n,r,i={}){const s=await di(t,e,n,r,i);return"mfaPendingCredential"in s&&Gt(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function E_(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?hh(t.config,i):`${t.config.apiScheme}://${i}`;return MV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class FV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pt(this.auth,"network-request-failed")),jV.get())})}}function oo(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e){return di(t,"POST","/v1/accounts:delete",e)}async function Jo(t,e){return di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BV(t,e=!1){const n=dt(t),r=await n.getIdToken(e),i=fh(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qi(Nl(i.auth_time)),issuedAtTime:qi(Nl(i.iat)),expirationTime:qi(Nl(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Nl(t){return Number(t)*1e3}function fh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xo("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pv(n);return i?JSON.parse(i):(xo("Failed to decode base64 JWT payload"),null)}catch(i){return xo("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yp(t){const e=fh(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yt&&$V(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $V({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qi(this.lastLoginAt),this.creationTime=qi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hs(t,Jo(n,{idToken:r}));G(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?I_(s.providerUserInfo):[],a=WV(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function HV(t){const e=dt(t);await Zo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function I_(t){return t.map(e=>{var{providerId:n}=e,r=As(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e){const n=await b_(t,{},async()=>{const r=xs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await E_(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&si(t.emulatorConfig.host)&&(c.credentials="include"),T_.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GV(t,e){return di(t,"POST","/v2/accounts:revokeToken",dh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");const n=yp(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await qV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jr;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jr,this.toJSON())}_performRefresh(){return jt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yt{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=As(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fc(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hs(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BV(this,e)}reload(){return HV(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bt(this.auth.app))return Promise.reject(Yn(this.auth));const e=await this.getIdToken();return await hs(this,UV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,k=(u=n.createdAt)!==null&&u!==void 0?u:void 0,S=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:P,emailVerified:D,isAnonymous:L,providerData:U,stsTokenManager:I}=n;G(P&&I,e,"internal-error");const T=jr.fromJSON(this.name,I);G(typeof P=="string",e,"internal-error"),nn(f,e.name),nn(p,e.name),G(typeof D=="boolean",e,"internal-error"),G(typeof L=="boolean",e,"internal-error"),nn(y,e.name),nn(b,e.name),nn(w,e.name),nn(x,e.name),nn(k,e.name),nn(S,e.name);const E=new yt({uid:P,auth:e,email:p,emailVerified:D,displayName:f,isAnonymous:L,photoURL:b,phoneNumber:y,tenantId:w,stsTokenManager:T,createdAt:k,lastLoginAt:S});return U&&Array.isArray(U)&&(E.providerData=U.map(C=>Object.assign({},C))),x&&(E._redirectEventId=x),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new jr;i.updateFromServerResponse(n);const s=new yt({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zo(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];G(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?I_(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new jr;a.updateFromIdToken(r);const c=new yt({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Fc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new Map;function Lt(t){Kt(t instanceof Function,"Expected a class definition");let e=vp.get(t);return e?(Kt(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vp.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A_.type="NONE";const _p=A_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t,e,n){return`firebase:${t}:${e}:${n}`}class Lr{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=To(this.userKey,i.apiKey,s),this.fullPersistenceKey=To("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jo(this.auth,{idToken:e}).catch(()=>{});return n?yt._fromGetAccountInfoResponse(this.auth,n,e):null}return yt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lr(Lt(_p),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Lt(_p);const o=To(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const p=await Jo(e,{idToken:h}).catch(()=>{});if(!p)break;f=await yt._fromGetAccountInfoResponse(e,p,h)}else f=yt._fromJSON(e,h);u!==s&&(a=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Lr(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Lr(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k_(e))return"Blackberry";if(V_(e))return"Webos";if(S_(e))return"Safari";if((e.includes("chrome/")||P_(e))&&!e.includes("edge/"))return"Chrome";if(N_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function C_(t=Qe()){return/firefox\//i.test(t)}function S_(t=Qe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P_(t=Qe()){return/crios\//i.test(t)}function R_(t=Qe()){return/iemobile/i.test(t)}function N_(t=Qe()){return/android/i.test(t)}function k_(t=Qe()){return/blackberry/i.test(t)}function V_(t=Qe()){return/webos/i.test(t)}function mh(t=Qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KV(t=Qe()){var e;return mh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YV(){return FS()&&document.documentMode===10}function D_(t=Qe()){return mh(t)||N_(t)||V_(t)||k_(t)||/windows phone/i.test(t)||R_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e=[]){let n;switch(t){case"Browser":n=wp(Qe());break;case"Worker":n=`${wp(Qe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e={}){return di(t,"GET","/v2/passwordPolicy",dh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=6;class ZV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xp(this),this.idTokenSubscription=new xp(this),this.beforeStateQueue=new QV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lt(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Lr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jo(this,{idToken:e}),r=await yt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bt(this.app))return Promise.reject(Yn(this));const n=e?dt(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bt(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bt(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lt(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XV(this),n=new ZV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ws("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lt(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await Lr.create(this,[Lt(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(bt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ph(t){return dt(t)}class xp{constructor(e){this.auth=e,this.observer=null,this.addObserver=GS(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tD(t){gh=t}function nD(t){return gh.loadJS(t)}function rD(){return gh.gapiScript}function iD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e){const n=Iu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Jn(s,e??{}))return i;Gt(i,"already-initialized")}return n.initialize({options:e})}function oD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lt);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aD(t,e,n){const r=ph(t);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=M_(e),{host:o,port:a}=lD(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(Jn(u,r.config.emulator)&&Jn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,si(o)?(Vv(`${s}//${o}${c}`),Dv("Auth",!0)):i||cD()}function M_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lD(t){const e=M_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Tp(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Tp(o)}}}function Tp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jt("not implemented")}_getIdTokenResponse(e){return jt("not implemented")}_linkToIdToken(e,n){return jt("not implemented")}_getReauthenticationResolver(e){return jt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fr(t,e){return LV(t,"POST","/v1/accounts:signInWithIdp",dh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="http://localhost";class nr extends j_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new nr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=As(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new nr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fr(e,n)}buildRequest(){const e={requestUri:uD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends L_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends Ss{constructor(){super("facebook.com")}static credential(e){return nr._fromParams({providerId:an.PROVIDER_ID,signInMethod:an.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return an.credentialFromTaggedObject(e)}static credentialFromError(e){return an.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return an.credential(e.oauthAccessToken)}catch{return null}}}an.FACEBOOK_SIGN_IN_METHOD="facebook.com";an.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln extends Ss{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return nr._fromParams({providerId:ln.PROVIDER_ID,signInMethod:ln.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ln.credentialFromTaggedObject(e)}static credentialFromError(e){return ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ln.credential(n,r)}catch{return null}}}ln.GOOGLE_SIGN_IN_METHOD="google.com";ln.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends Ss{constructor(){super("github.com")}static credential(e){return nr._fromParams({providerId:cn.PROVIDER_ID,signInMethod:cn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cn.credentialFromTaggedObject(e)}static credentialFromError(e){return cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cn.credential(e.oauthAccessToken)}catch{return null}}}cn.GITHUB_SIGN_IN_METHOD="github.com";cn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un extends Ss{constructor(){super("twitter.com")}static credential(e,n){return nr._fromParams({providerId:un.PROVIDER_ID,signInMethod:un.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return un.credentialFromTaggedObject(e)}static credentialFromError(e){return un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return un.credential(n,r)}catch{return null}}}un.TWITTER_SIGN_IN_METHOD="twitter.com";un.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await yt._fromIdTokenResponse(e,r,i),o=bp(r);return new Jr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bp(r);return new Jr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Yt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ea.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ea(e,n,r,i)}}function F_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ea._fromErrorAndOperation(t,s,e,r):s})}async function hD(t,e,n=!1){const r=await hs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e,n=!1){const{auth:r}=t;if(bt(r.app))return Promise.reject(Yn(r));const i="reauthenticate";try{const s=await hs(t,F_(r,i,e,t),n);G(s.idToken,r,"internal-error");const o=fh(s.idToken);G(o,r,"internal-error");const{sub:a}=o;return G(t.uid===a,r,"user-mismatch"),Jr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e,n=!1){if(bt(t.app))return Promise.reject(Yn(t));const r="signIn",i=await F_(t,r,e),s=await Jr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function mD(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function pD(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}const ta="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ta,"1"),this.storage.removeItem(ta),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1e3,yD=10;class B_ extends U_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);YV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B_.type="LOCAL";const vD=B_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends U_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$_.type="SESSION";const z_=$_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Na(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await _D(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Na.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=yh("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return window}function xD(t){Rt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(){return typeof Rt().WorkerGlobalScope<"u"&&typeof Rt().importScripts=="function"}async function TD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ED(){return H_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="firebaseLocalStorageDb",ID=1,na="firebaseLocalStorage",q_="fbase_key";class Ps{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ka(t,e){return t.transaction([na],e?"readwrite":"readonly").objectStore(na)}function AD(){const t=indexedDB.deleteDatabase(W_);return new Ps(t).toPromise()}function Uc(){const t=indexedDB.open(W_,ID);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(na,{keyPath:q_})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(na)?e(r):(r.close(),await AD(),e(await Uc()))})})}async function Ep(t,e,n){const r=ka(t,!0).put({[q_]:e,value:n});return new Ps(r).toPromise()}async function CD(t,e){const n=ka(t,!1).get(e),r=await new Ps(n).toPromise();return r===void 0?null:r.value}function Ip(t,e){const n=ka(t,!0).delete(e);return new Ps(n).toPromise()}const SD=800,PD=3;class G_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Na._getInstance(ED()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TD(),!this.activeServiceWorker)return;this.sender=new wD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uc();return await Ep(e,ta,"1"),await Ip(e,ta),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ep(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ip(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ka(i,!1).getAll();return new Ps(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G_.type="LOCAL";const RD=G_;new Cs(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e){return e?Lt(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends j_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kD(t){return fD(t.auth,new vh(t),t.bypassAuthState)}function VD(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),dD(n,new vh(t),t.bypassAuthState)}async function DD(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),hD(n,new vh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kD;case"linkViaPopup":case"linkViaRedirect":return DD;case"reauthViaPopup":case"reauthViaRedirect":return VD;default:Gt(this.auth,"internal-error")}}resolve(e){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new Cs(2e3,1e4);class Dr extends K_{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Dr.currentPopupAction&&Dr.currentPopupAction.cancel(),Dr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){Kt(this.filter.length===1,"Popup operations only handle one event");const e=yh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OD.get())};e()}}Dr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="pendingRedirect",bo=new Map;class jD extends K_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bo.get(this.auth._key());if(!e){try{const r=await LD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bo.set(this.auth._key(),e)}return this.bypassAuthState||bo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LD(t,e){const n=BD(e),r=UD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function FD(t,e){bo.set(t._key(),e)}function UD(t){return Lt(t._redirectPersistence)}function BD(t){return To(MD,t.config.apiKey,t.name)}async function $D(t,e,n=!1){if(bt(t.app))return Promise.reject(Yn(t));const r=ph(t),i=ND(r,e),o=await new jD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=10*60*1e3;class HD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Y_(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ap(e))}saveEventToCache(e){this.cachedEventUids.add(Ap(e)),this.lastProcessedEventTime=Date.now()}}function Ap(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Y_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(t,e={}){return di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KD=/^https?/;async function YD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qD(t);for(const n of e)try{if(QD(n))return}catch{}Gt(t,"unauthorized-domain")}function QD(t){const e=Lc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KD.test(n))return!1;if(GD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Cs(3e4,6e4);function Cp(){const t=Rt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JD(t){return new Promise((e,n)=>{var r,i,s;function o(){Cp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cp(),n(Pt(t,"network-request-failed"))},timeout:XD.get()})}if(!((i=(r=Rt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Rt().gapi)===null||s===void 0)&&s.load)o();else{const a=iD("iframefcb");return Rt()[a]=()=>{gapi.load?o():n(Pt(t,"network-request-failed"))},nD(`${rD()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Eo=null,e})}let Eo=null;function ZD(t){return Eo=Eo||JD(t),Eo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Cs(5e3,15e3),t2="__/auth/iframe",n2="emulator/auth/iframe",r2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s2(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hh(e,n2):`https://${t.config.authDomain}/${t2}`,r={apiKey:e.apiKey,appName:t.name,v:oi},i=i2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xs(r).slice(1)}`}async function o2(t){const e=await ZD(t),n=Rt().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:s2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pt(t,"network-request-failed"),a=Rt().setTimeout(()=>{s(o)},e2.get());function c(){Rt().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l2=500,c2=600,u2="_blank",h2="http://localhost";class Sp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d2(t,e,n,r=l2,i=c2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},a2),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Qe().toLowerCase();n&&(a=P_(u)?u2:n),C_(u)&&(e=e||h2,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[y,b])=>`${p}${y}=${b},`,"");if(KV(u)&&a!=="_self")return f2(e||"",a),new Sp(null);const f=window.open(e||"",a,h);G(f,t,"popup-blocked");try{f.focus()}catch{}return new Sp(f)}function f2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="__/auth/handler",p2="emulator/auth/handler",g2=encodeURIComponent("fac");async function Pp(t,e,n,r,i,s){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oi,eventId:i};if(e instanceof L_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(s||{}))o[h]=f}if(e instanceof Ss){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${g2}=${encodeURIComponent(c)}`:"";return`${y2(t)}?${xs(a).slice(1)}${u}`}function y2({config:t}){return t.emulator?hh(t,p2):`https://${t.authDomain}/${m2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="webStorageSupport";class v2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z_,this._completeRedirectFn=$D,this._overrideRedirectResult=FD}async _openPopup(e,n,r,i){var s;Kt((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Pp(e,n,r,Lc(),i);return d2(e,o,yh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Pp(e,n,r,Lc(),i);return xD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kt(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o2(e),r=new HD(e);return n.register("authEvent",i=>(G(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kl,{type:kl},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[kl];o!==void 0&&n(!!o),Gt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D_()||S_()||mh()}}const _2=v2;var Rp="@firebase/auth",Np="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T2(t){Hr(new Zn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O_(t)},u=new eD(r,i,s,c);return oD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hr(new Zn("auth-internal",e=>{const n=ph(e.getProvider("auth").getImmediate());return(r=>new w2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wn(Rp,Np,x2(t)),wn(Rp,Np,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=5*60,E2=kv("authIdTokenMaxAge")||b2;let kp=null;const I2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>E2)return;const i=n==null?void 0:n.token;kp!==i&&(kp=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function A2(t=Lv()){const e=Iu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sD(t,{popupRedirectResolver:_2,persistence:[RD,vD,z_]}),r=kv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=I2(s.toString());pD(n,o,()=>o(n.currentUser)),mD(n,a=>o(a))}}const i=Rv("auth");return i&&aD(n,`http://${i}`),n}function C2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",C2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T2("Browser");const S2={apiKey:"AIzaSyBEkHEv31lTHHEMAyD2EJCMvZNXrtLd4Pw",authDomain:"vaastu-guru.firebaseapp.com",projectId:"vaastu-guru",storageBucket:"vaastu-guru.firebasestorage.app",messagingSenderId:"1014806685724",appId:"1:1014806685724:web:500d11f3252c1a080cd7d9",measurementId:"G-ZYCD6R3GJE"},Q_=jv(S2);A2(Q_);const Vl=rV(Q_),Zr=ye.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:tt("flex h-10 w-full rounded-xl border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Zr.displayName="Input";const ei=({onSuccess:t})=>{const[e,n]=v.useState(""),[r,i]=v.useState(""),[s,o]=v.useState(!1),a=async c=>{if(c.preventDefault(),!e||!r){ke({title:"Missing Information",description:"Please fill in all fields",variant:"destructive"});return}if(r.length!==10){ke({title:"Invalid Phone",description:"Please enter a 10-digit phone number",variant:"destructive"});return}o(!0);try{await wS({name:e,phone:r})&&(ke({title:"Success!",description:"Your consultation request has been submitted"}),t==null||t())}catch(u){console.error("Submission Error:",u),ke({title:"Error",description:"Failed to submit request. Please try again.",variant:"destructive"})}finally{o(!1)}};return d.jsxs("form",{onSubmit:a,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx(Xn,{htmlFor:"name",className:"text-gray-700 font-medium",children:"Your Name"}),d.jsx(Zr,{id:"name",value:e,onChange:c=>n(c.target.value),className:"border-gray-300 focus:border-orange-500 focus:ring-orange-500 rounded-xl",required:!0})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Xn,{htmlFor:"phone",className:"text-gray-700 font-medium",children:"Phone Number"}),d.jsx(Zr,{id:"phone",type:"tel",value:r,onChange:c=>i(c.target.value.replace(/\D/g,"")),className:"border-gray-300 focus:border-orange-500 focus:ring-orange-500 rounded-xl",maxLength:10,required:!0})]}),d.jsx(Q.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:d.jsx(ue,{type:"submit",className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-300 shadow-md hover:shadow-lg",disabled:s,children:s?d.jsxs("span",{className:"flex items-center justify-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Submit Request"})})]})};function P2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var R2=["color"],N2=v.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=P2(t,R2);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),v.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),k2=zc[" useId ".trim().toString()]||(()=>{}),V2=0;function Dl(t){const[e,n]=v.useState(k2());return Br(()=>{t||n(r=>r??String(V2++))},[t]),t||(e?`radix-${e}`:"")}var Ol="focusScope.autoFocusOnMount",Ml="focusScope.autoFocusOnUnmount",Vp={bubbles:!1,cancelable:!0},D2="FocusScope",X_=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=v.useState(null),u=$t(i),h=$t(s),f=v.useRef(null),p=vt(e,w=>c(w)),y=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let w=function(P){if(y.paused||!a)return;const D=P.target;a.contains(D)?f.current=D:sn(f.current,{select:!0})},x=function(P){if(y.paused||!a)return;const D=P.relatedTarget;D!==null&&(a.contains(D)||sn(f.current,{select:!0}))},k=function(P){if(document.activeElement===document.body)for(const L of P)L.removedNodes.length>0&&sn(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",x);const S=new MutationObserver(k);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",x),S.disconnect()}}},[r,a,y.paused]),v.useEffect(()=>{if(a){Op.add(y);const w=document.activeElement;if(!a.contains(w)){const k=new CustomEvent(Ol,Vp);a.addEventListener(Ol,u),a.dispatchEvent(k),k.defaultPrevented||(O2(U2(J_(a)),{select:!0}),document.activeElement===w&&sn(a))}return()=>{a.removeEventListener(Ol,u),setTimeout(()=>{const k=new CustomEvent(Ml,Vp);a.addEventListener(Ml,h),a.dispatchEvent(k),k.defaultPrevented||sn(w??document.body,{select:!0}),a.removeEventListener(Ml,h),Op.remove(y)},0)}}},[a,u,h,y]);const b=v.useCallback(w=>{if(!n&&!r||y.paused)return;const x=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,k=document.activeElement;if(x&&k){const S=w.currentTarget,[P,D]=M2(S);P&&D?!w.shiftKey&&k===D?(w.preventDefault(),n&&sn(P,{select:!0})):w.shiftKey&&k===P&&(w.preventDefault(),n&&sn(D,{select:!0})):k===S&&w.preventDefault()}},[n,r,y.paused]);return d.jsx($e.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});X_.displayName=D2;function O2(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(sn(r,{select:e}),document.activeElement!==n)return}function M2(t){const e=J_(t),n=Dp(e,t),r=Dp(e.reverse(),t);return[n,r]}function J_(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Dp(t,e){for(const n of t)if(!j2(n,{upTo:e}))return n}function j2(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function L2(t){return t instanceof HTMLInputElement&&"select"in t}function sn(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&L2(t)&&e&&t.select()}}var Op=F2();function F2(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Mp(t,e),t.unshift(e)},remove(e){var n;t=Mp(t,e),(n=t[0])==null||n.resume()}}}function Mp(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function U2(t){return t.filter(e=>e.tagName!=="A")}var jl=0;function B2(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??jp()),document.body.insertAdjacentElement("beforeend",t[1]??jp()),jl++,()=>{jl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jl--}},[])}function jp(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Io="right-scroll-bar-position",Ao="width-before-scroll-bar",$2="with-scroll-bars-hidden",z2="--removed-body-scroll-bar-size";function Ll(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function H2(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var W2=typeof window<"u"?v.useLayoutEffect:v.useEffect,Lp=new WeakMap;function q2(t,e){var n=H2(e||null,function(r){return t.forEach(function(i){return Ll(i,r)})});return W2(function(){var r=Lp.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Ll(a,null)}),s.forEach(function(a){i.has(a)||Ll(a,o)})}Lp.set(n,t)},[t]),n}function G2(t){return t}function K2(t,e){e===void 0&&(e=G2);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var h=o;o=[],h.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return i}function Y2(t){t===void 0&&(t={});var e=K2(null);return e.options=Et({async:!0,ssr:!1},t),e}var Z_=function(t){var e=t.sideCar,n=As(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Et({},n))};Z_.isSideCarExport=!0;function Q2(t,e){return t.useMedium(e),Z_}var ew=Y2(),Fl=function(){},Va=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Fl,onWheelCapture:Fl,onTouchMoveCapture:Fl}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,y=t.noRelative,b=t.noIsolation,w=t.inert,x=t.allowPinchZoom,k=t.as,S=k===void 0?"div":k,P=t.gapMode,D=As(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=p,U=q2([n,e]),I=Et(Et({},D),i);return v.createElement(v.Fragment,null,h&&v.createElement(L,{sideCar:ew,removeScrollBar:u,shards:f,noRelative:y,noIsolation:b,inert:w,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:P}),o?v.cloneElement(v.Children.only(a),Et(Et({},I),{ref:U})):v.createElement(S,Et({},I,{className:c,ref:U}),a))});Va.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Va.classNames={fullWidth:Ao,zeroRight:Io};var Fp,X2=function(){if(Fp)return Fp;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J2(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=X2();return e&&t.setAttribute("nonce",e),t}function Z2(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function eO(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var tO=function(){var t=0,e=null;return{add:function(n){t==0&&(e=J2())&&(Z2(e,n),eO(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nO=function(){var t=tO();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},tw=function(){var t=nO(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},rO={left:0,top:0,right:0,gap:0},Ul=function(t){return parseInt(t||"",10)||0},iO=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Ul(n),Ul(r),Ul(i)]},sO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return rO;var e=iO(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},oO=tw(),Ur="data-scroll-locked",aO=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat($2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ur,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Io,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ao,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Io," .").concat(Io,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ao," .").concat(Ao,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ur,`] {
    `).concat(z2,": ").concat(a,`px;
  }
`)},Up=function(){var t=parseInt(document.body.getAttribute(Ur)||"0",10);return isFinite(t)?t:0},lO=function(){v.useEffect(function(){return document.body.setAttribute(Ur,(Up()+1).toString()),function(){var t=Up()-1;t<=0?document.body.removeAttribute(Ur):document.body.setAttribute(Ur,t.toString())}},[])},cO=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;lO();var s=v.useMemo(function(){return sO(i)},[i]);return v.createElement(oO,{styles:aO(s,!e,i,n?"":"!important")})},Bc=!1;if(typeof window<"u")try{var ao=Object.defineProperty({},"passive",{get:function(){return Bc=!0,!0}});window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Bc=!1}var Tr=Bc?{passive:!1}:!1,uO=function(t){return t.tagName==="TEXTAREA"},nw=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!uO(t)&&n[e]==="visible")},hO=function(t){return nw(t,"overflowY")},dO=function(t){return nw(t,"overflowX")},Bp=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=rw(t,r);if(i){var s=iw(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},fO=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},mO=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},rw=function(t,e){return t==="v"?hO(e):dO(e)},iw=function(t,e){return t==="v"?fO(e):mO(e)},pO=function(t,e){return t==="h"&&e==="rtl"?-1:1},gO=function(t,e,n,r,i){var s=pO(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,c=e.contains(a),u=!1,h=o>0,f=0,p=0;do{if(!a)break;var y=iw(t,a),b=y[0],w=y[1],x=y[2],k=w-x-s*b;(b||k)&&rw(t,a)&&(f+=k,p+=b);var S=a.parentNode;a=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(i&&Math.abs(f)<1||!i&&o>f)||!h&&(i&&Math.abs(p)<1||!i&&-o>p))&&(u=!0),u},lo=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$p=function(t){return[t.deltaX,t.deltaY]},zp=function(t){return t&&"current"in t?t.current:t},yO=function(t,e){return t[0]===e[0]&&t[1]===e[1]},vO=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_O=0,br=[];function wO(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(_O++)[0],s=v.useState(tw)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=PV([t.lockRef.current],(t.shards||[]).map(zp),!0).filter(Boolean);return w.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(w,x){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var k=lo(w),S=n.current,P="deltaX"in w?w.deltaX:S[0]-k[0],D="deltaY"in w?w.deltaY:S[1]-k[1],L,U=w.target,I=Math.abs(P)>Math.abs(D)?"h":"v";if("touches"in w&&I==="h"&&U.type==="range")return!1;var T=Bp(I,U);if(!T)return!0;if(T?L=I:(L=I==="v"?"h":"v",T=Bp(I,U)),!T)return!1;if(!r.current&&"changedTouches"in w&&(P||D)&&(r.current=L),!L)return!0;var E=r.current||L;return gO(E,x,w,E==="h"?P:D,!0)},[]),c=v.useCallback(function(w){var x=w;if(!(!br.length||br[br.length-1]!==s)){var k="deltaY"in x?$p(x):lo(x),S=e.current.filter(function(L){return L.name===x.type&&(L.target===x.target||x.target===L.shadowParent)&&yO(L.delta,k)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var P=(o.current.shards||[]).map(zp).filter(Boolean).filter(function(L){return L.contains(x.target)}),D=P.length>0?a(x,P[0]):!o.current.noIsolation;D&&x.cancelable&&x.preventDefault()}}},[]),u=v.useCallback(function(w,x,k,S){var P={name:w,delta:x,target:k,should:S,shadowParent:xO(k)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(D){return D!==P})},1)},[]),h=v.useCallback(function(w){n.current=lo(w),r.current=void 0},[]),f=v.useCallback(function(w){u(w.type,$p(w),w.target,a(w,t.lockRef.current))},[]),p=v.useCallback(function(w){u(w.type,lo(w),w.target,a(w,t.lockRef.current))},[]);v.useEffect(function(){return br.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Tr),document.addEventListener("touchmove",c,Tr),document.addEventListener("touchstart",h,Tr),function(){br=br.filter(function(w){return w!==s}),document.removeEventListener("wheel",c,Tr),document.removeEventListener("touchmove",c,Tr),document.removeEventListener("touchstart",h,Tr)}},[]);var y=t.removeScrollBar,b=t.inert;return v.createElement(v.Fragment,null,b?v.createElement(s,{styles:vO(i)}):null,y?v.createElement(cO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function xO(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const TO=Q2(ew,wO);var sw=v.forwardRef(function(t,e){return v.createElement(Va,Et({},t,{ref:e,sideCar:TO}))});sw.classNames=Va.classNames;const bO=sw;var EO=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Er=new WeakMap,co=new WeakMap,uo={},Bl=0,ow=function(t){return t&&(t.host||ow(t.parentNode))},IO=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ow(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},AO=function(t,e,n,r){var i=IO(e,Array.isArray(t)?t:[t]);uo[n]||(uo[n]=new WeakMap);var s=uo[n],o=[],a=new Set,c=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var y=p.getAttribute(r),b=y!==null&&y!=="false",w=(Er.get(p)||0)+1,x=(s.get(p)||0)+1;Er.set(p,w),s.set(p,x),o.push(p),w===1&&b&&co.set(p,!0),x===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",p,k)}})};return h(e),a.clear(),Bl++,function(){o.forEach(function(f){var p=Er.get(f)-1,y=s.get(f)-1;Er.set(f,p),s.set(f,y),p||(co.has(f)||f.removeAttribute(r),co.delete(f)),y||f.removeAttribute(n)}),Bl--,Bl||(Er=new WeakMap,Er=new WeakMap,co=new WeakMap,uo={})}},CO=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||EO(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),AO(r,i,n,"aria-hidden")):function(){return null}},Da="Dialog",[aw,rM]=Gc(Da),[SO,wt]=aw(Da),lw=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=v.useRef(null),c=v.useRef(null),[u,h]=pg({prop:r,defaultProp:i??!1,onChange:s,caller:Da});return d.jsx(SO,{scope:e,triggerRef:a,contentRef:c,contentId:Dl(),titleId:Dl(),descriptionId:Dl(),open:u,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};lw.displayName=Da;var cw="DialogTrigger",uw=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=wt(cw,n),s=vt(e,i.triggerRef);return d.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xh(i.open),...r,ref:s,onClick:je(t.onClick,i.onOpenToggle)})});uw.displayName=cw;var _h="DialogPortal",[PO,hw]=aw(_h,{forceMount:void 0}),dw=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=wt(_h,e);return d.jsx(PO,{scope:e,forceMount:n,children:v.Children.map(r,o=>d.jsx(ms,{present:n||s.open,children:d.jsx(Yc,{asChild:!0,container:i,children:o})}))})};dw.displayName=_h;var ra="DialogOverlay",fw=v.forwardRef((t,e)=>{const n=hw(ra,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=wt(ra,t.__scopeDialog);return s.modal?d.jsx(ms,{present:r||s.open,children:d.jsx(NO,{...i,ref:e})}):null});fw.displayName=ra;var RO=Yi("DialogOverlay.RemoveScroll"),NO=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=wt(ra,n);return d.jsx(bO,{as:RO,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx($e.div,{"data-state":xh(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),rr="DialogContent",mw=v.forwardRef((t,e)=>{const n=hw(rr,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=wt(rr,t.__scopeDialog);return d.jsx(ms,{present:r||s.open,children:s.modal?d.jsx(kO,{...i,ref:e}):d.jsx(VO,{...i,ref:e})})});mw.displayName=rr;var kO=v.forwardRef((t,e)=>{const n=wt(rr,t.__scopeDialog),r=v.useRef(null),i=vt(e,n.contentRef,r);return v.useEffect(()=>{const s=r.current;if(s)return CO(s)},[]),d.jsx(pw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:je(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:je(t.onFocusOutside,s=>s.preventDefault())})}),VO=v.forwardRef((t,e)=>{const n=wt(rr,t.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return d.jsx(pw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),pw=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=wt(rr,n),c=v.useRef(null),u=vt(e,c);return B2(),d.jsxs(d.Fragment,{children:[d.jsx(X_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:d.jsx(Kc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":xh(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(DO,{titleId:a.titleId}),d.jsx(MO,{contentRef:c,descriptionId:a.descriptionId})]})]})}),wh="DialogTitle",gw=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=wt(wh,n);return d.jsx($e.h2,{id:i.titleId,...r,ref:e})});gw.displayName=wh;var yw="DialogDescription",vw=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=wt(yw,n);return d.jsx($e.p,{id:i.descriptionId,...r,ref:e})});vw.displayName=yw;var _w="DialogClose",ww=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=wt(_w,n);return d.jsx($e.button,{type:"button",...r,ref:e,onClick:je(t.onClick,()=>i.onOpenChange(!1))})});ww.displayName=_w;function xh(t){return t?"open":"closed"}var xw="DialogTitleWarning",[iM,Tw]=$T(xw,{contentName:rr,titleName:wh,docsSlug:"dialog"}),DO=({titleId:t})=>{const e=Tw(xw),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},OO="DialogDescriptionWarning",MO=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tw(OO).contentName}}.`;return v.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},jO=lw,LO=uw,bw=dw,Ew=fw,Iw=mw,Aw=gw,Cw=vw,FO=ww;const ti=jO,ni=LO,Sw=({className:t,children:e,...n})=>d.jsx(bw,{className:tt(t),...n,children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e})});Sw.displayName=bw.displayName;const Pw=v.forwardRef(({className:t,...e},n)=>d.jsx(Ew,{ref:n,className:tt("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm transition-all duration-300","data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in",t),...e}));Pw.displayName=Ew.displayName;const ir=v.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(Sw,{children:[d.jsx(Pw,{}),d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center justify-center w-full h-full",children:d.jsxs(Iw,{ref:r,className:tt("relative z-50 w-full max-w-md gap-4 rounded-2xl border border-orange-200 bg-gradient-to-br from-orange-50 to-white p-6 shadow-xl","animate-in data-[state=open]:fade-in-90 data-[state=open]:slide-in-from-bottom-10","sm:zoom-in-90 data-[state=open]:sm:slide-in-from-bottom-0",t),...n,children:[e,d.jsxs(FO,{className:"absolute right-4 top-4 rounded-sm p-1 opacity-70 transition-opacity hover:bg-orange-100 hover:opacity-100 focus:outline-none disabled:pointer-events-none",children:[d.jsx(N2,{className:"h-5 w-5 text-orange-600"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})})]}));ir.displayName=Iw.displayName;const sr=({className:t,...e})=>d.jsx("div",{className:tt("flex flex-col space-y-2 text-center",t),...e});sr.displayName="DialogHeader";const or=v.forwardRef(({className:t,...e},n)=>d.jsx(Aw,{ref:n,className:tt("text-2xl font-bold text-orange-600",t),...e}));or.displayName=Aw.displayName;const ar=v.forwardRef(({className:t,...e},n)=>d.jsx(Cw,{ref:n,className:tt("text-sm text-orange-500",t),...e}));ar.displayName=Cw.displayName;const UO=()=>{const[t,e]=v.useState([]),[n,r]=v.useState({rating:5,comment:""}),{isLoaded:i,isSignedIn:s,user:o}=ri(),[a,c]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const y=pV(cp(Vl,"reviews"),gV("createdAt","desc"),yV(50)),w=(await EV(y)).docs.map(x=>{var S;const k=x.data();return{id:x.id,...k,createdAt:(S=k.createdAt)!=null&&S.toDate?k.createdAt.toDate():null,isCurrentUser:s&&k.userId===(o==null?void 0:o.id)}});e(w)}catch(y){console.error("Error fetching reviews:",y),ke({title:"Error",description:"Could not load reviews",variant:"destructive"})}})()},[s,o==null?void 0:o.id]);const u=async p=>{if(!s){ke({title:"Not signed in",description:"Please sign in to delete your review",variant:"destructive"});return}try{await IV(l_(Vl,"reviews",p)),e(y=>y.filter(b=>b.id!==p)),ke({title:"Deleted",description:"Your review has been removed."})}catch(y){console.error("Error deleting review:",y),ke({title:"Error",description:"Could not delete review",variant:"destructive"})}},h=async p=>{if(p.preventDefault(),!s)return ke({title:"Please sign in",description:"You need to be logged in to submit a review",variant:"destructive"});const y=n.comment.trim();if(y.length<3)return ke({title:"Invalid comment",description:"Comment must be at least 3 characters",variant:"destructive"});if(n.rating<1||n.rating>5)return ke({title:"Invalid rating",description:"Rating must be between 1 and 5",variant:"destructive"});try{const b={name:o.fullName||o.username||"Anonymous",userId:o.id,rating:Number(n.rating),comment:y,createdAt:pp(),updatedAt:pp()},w=await AV(cp(Vl,"reviews"),b);e(x=>[{id:w.id,...b,createdAt:new Date,isCurrentUser:!0},...x]),r({rating:5,comment:""}),ke({title:"Success!",description:"Your review has been submitted"})}catch(b){console.error("Error adding review:",b),ke({title:"Error",description:b.message||"Failed to submit review",variant:"destructive"})}},f=(p,y=!1,b=null)=>d.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(w=>d.jsx(Me,{className:`h-5 w-5 ${w<=p?"text-yellow-400 fill-current":"text-gray-300"} ${y?"cursor-pointer hover:text-yellow-400":""}`,onClick:y?()=>b(w):void 0},w))});return i?d.jsxs(d.Fragment,{children:[d.jsxs(Qn,{children:[d.jsx("title",{children:"Vaastu Guru - Expert Numerology & Vaastu Consultancy"}),d.jsx("meta",{name:"description",content:"Get expert numerology and vaastu consultations from Yashraj Guruji and Rishabh Goel. Transform your life with ancient wisdom and modern insights."})]}),d.jsxs("div",{className:"min-h-screen",children:[d.jsx("section",{className:"relative py-20 px-4 text-center",children:d.jsx("div",{className:"container mx-auto max-w-6xl",children:d.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8",children:[d.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white text-shadow",children:["Welcome to ",d.jsx("span",{className:"text-black",children:"Vaastu Guru"})]}),d.jsx("p",{className:"text-xl md:text-2xl text-white max-w-3xl mx-auto",children:"Unlock the secrets of your destiny through ancient numerology and vaastu wisdom"}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[s?d.jsxs(ti,{open:a,onOpenChange:c,children:[d.jsx(ni,{asChild:!0,children:d.jsx(ue,{className:"orange-gradient text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105 px-8 py-3 text-lg rounded-xl",children:"Book Consultation"})}),d.jsxs(ir,{className:"sm:max-w-[425px]",children:[d.jsxs(sr,{children:[d.jsx(or,{children:"Book a Consultation"}),d.jsx(ar,{children:"Fill out the form below and we'll contact you shortly"})]}),d.jsx(ei,{onSuccess:()=>c(!1)})]})]}):d.jsx(Ft,{mode:"modal",children:d.jsx(ue,{className:"orange-gradient text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105 px-8 py-3 text-lg rounded-xl",children:"Book Consultation"})}),d.jsx(ue,{asChild:!0,variant:"outline",className:"border-white text-white hover:bg-white hover:text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 px-8 py-3 text-lg rounded-xl",children:d.jsx(mn,{to:"/services",children:"Learn More"})})]})]})})}),d.jsx("section",{className:"py-16 bg-white",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[d.jsxs(Q.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},className:"space-y-6",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold gradient-text",children:"Book Expert Consultation"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Get personalized guidance from our experts in numerology and vaastu shastra. Transform your life and spaces with ancient wisdom tailored to your needs."}),d.jsx("div",{className:"flex flex-wrap gap-4",children:s?d.jsxs(ti,{open:a,onOpenChange:c,children:[d.jsx(ni,{asChild:!0,children:d.jsx(ue,{className:"orange-gradient text-white hover:orange-gradient-hover px-8 py-3 text-lg rounded-xl hover:orange-gradient-hover transition-transform duration-300 ease-in-out",children:"Book Consultation"})}),d.jsxs(ir,{className:"sm:max-w-[425px]",children:[d.jsxs(sr,{children:[d.jsx(or,{children:"Book a Consultation"}),d.jsx(ar,{children:"Fill out the form below and we'll contact you shortly"})]}),d.jsx(ei,{onSuccess:()=>c(!1)})]})]}):d.jsx(Ft,{mode:"modal",children:d.jsx(ue,{className:"orange-gradient text-white hover:orange-gradient-hover px-8 py-3 text-lg rounded-xl hover:orange-gradient-hover transition-transform duration-300 ease-in-out",children:"Book Consultation"})})})]}),d.jsx(Q.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"flex justify-center",children:d.jsx("img",{src:"https://eugenixhairsciences.com/wp-content/uploads/2023/09/consultation.jpg",alt:"Consultation session",className:"rounded-xl shadow-lg w-full max-w-md"})})]})})}),d.jsx("section",{className:"py-16 bg-gradient-to-r from-orange-50 to-white",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[d.jsx(Q.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},className:"flex justify-center order-2 md:order-1",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Numerology calculator",className:"rounded-xl shadow-lg w-full max-w-md"})}),d.jsxs(Q.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"space-y-6 order-1 md:order-2",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold gradient-text",children:"Numerology Calculator"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Discover insights about yourself with our advanced numerology calculator:"}),d.jsxs("ul",{className:"space-y-4 text-gray-700",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx(pn,{className:"h-5 w-5 text-orange-500 mr-2 mt-1 flex-shrink-0"}),d.jsx("span",{children:"Analyzes your core personality traits and behaviors"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx(pn,{className:"h-5 w-5 text-orange-500 mr-2 mt-1 flex-shrink-0"}),d.jsx("span",{children:"Shows your current fortune meter"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx(pn,{className:"h-5 w-5 text-orange-500 mr-2 mt-1 flex-shrink-0"}),d.jsx("span",{children:"Checks name compatibility with person"})]})]}),d.jsx(ue,{asChild:!0,className:"orange-gradient text-white hover:orange-gradient-hover px-8 py-3 text-lg rounded-xl hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105",children:d.jsx(mn,{to:"/calculator",children:"Try Calculator"})})]})]})})}),d.jsx("section",{className:"py-16 bg-white",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[{icon:Hb,number:"10000+",label:"Happy Clients"},{icon:Og,number:"25+",label:"Years Experience"},{icon:Mb,number:"98%",label:"Success Rate"},{icon:Lg,number:"24/7",label:"Support"}].map((p,y)=>d.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:y*.1},className:"space-y-4",children:[d.jsx(p.icon,{className:"h-12 w-12 text-orange-500 mx-auto"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-3xl font-bold gradient-text",children:p.number}),d.jsx("div",{className:"text-gray-600",children:p.label})]})]},y))})})}),d.jsx("section",{className:"py-20 bg-gradient-to-r from-orange-50 to-white",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold gradient-text mb-4",children:"Meet Our Expert Consultants"}),d.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our experienced consultants combine ancient wisdom with modern insights to guide you"})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-5xl mx-auto",children:[d.jsxs(Q.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},className:"bg-white rounded-2xl shadow-lg p-8 text-center card-shadow",children:[d.jsx("img",{alt:"Yashraj Guruji - Numerology Expert",className:"w-32 h-32 rounded-full mx-auto mb-6 object-cover",src:"/images/Profile2.jpg"}),d.jsx("h3",{className:"text-2xl font-bold gradient-text mb-2",children:"Yashraj Guruji"}),d.jsx("p",{className:"text-orange-500 font-medium mb-2",children:"Senior Numerology Consultant"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"With over 20 years of experience in numerology, Yashraj Guruji has helped thousands discover their life path through numbers."}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-600 text-left mb-4",children:[d.jsx("p",{children:" Expert in Life Path Analysis"}),d.jsx("p",{children:" Residential Vaastu Specialist"}),d.jsx("p",{children:" Business Numerology Consultant"})]}),d.jsxs("div",{className:"text-left text-sm text-gray-700 mb-4",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Mobile:"})," +91-9650189822"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Address:"})," C1, Yamuna Vihar, Delhi-110053"]})]}),d.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[d.jsx("a",{href:"https://www.instagram.com/yashrajguruji/?igsh=b2U1aXpzcXh5amI%3D#",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:d.jsx(qd,{className:"text-pink-600 hover:text-pink-700 w-5 h-5"})}),d.jsx("a",{href:"https://www.facebook.com/yash.kumargoel.5?rdid=VHXOM0u9TtMFE7qH&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F16GB7zP53k%2F#",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:d.jsx(Wd,{className:"text-blue-600 hover:text-blue-700 w-5 h-5"})})]})]}),d.jsxs(Q.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8},className:"bg-white rounded-2xl shadow-lg p-8 text-center card-shadow",children:[d.jsx("img",{alt:"Rishabh Goel - Vaastu Consultant",className:"w-32 h-32 rounded-full mx-auto mb-6 object-cover",src:"/images/Profile.jpg"}),d.jsx("h3",{className:"text-2xl font-bold gradient-text mb-2",children:"Rishabh Goel"}),d.jsx("p",{className:"text-orange-500 font-medium mb-2",children:"Vaastu Consultant"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"A renowned Vaastu expert with 7+ years of experience, Rishabh Goel harmonizes spaces for prosperity and peace."}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-600 text-left mb-4",children:[d.jsx("p",{children:" Residential Vaastu Specialist"}),d.jsx("p",{children:" Commercial Space Consultant"}),d.jsx("p",{children:" Numerology Consultant"})]}),d.jsxs("div",{className:"text-left text-sm text-gray-700 mb-4",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Mobile:"})," +91-9650881509"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Address:"})," C1, Yamuna Vihar, Delhi-110053"]})]}),d.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[d.jsx("a",{href:"https://www.instagram.com/goel_bhaiji/?utm_source=qr&igsh=MTdmdTJseXdsbGV2cg%3D%3D#",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:d.jsx(qd,{className:"text-pink-600 hover:text-pink-700 w-5 h-5"})}),d.jsx("a",{href:"https://www.facebook.com/VaastuGuruBhaaiji?rdid=SUgkZb3o6ORBzvv3&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F1BTUVN8G2S%2F#",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:d.jsx(Wd,{className:"text-blue-600 hover:text-blue-700 w-5 h-5"})})]})]})]})]})}),d.jsx("section",{className:"py-20 bg-white",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold gradient-text mb-4",children:"What Our Clients Say"}),d.jsx("p",{className:"text-xl text-gray-600",children:"Real experiences from satisfied clients"})]}),d.jsx("div",{className:"overflow-x-auto pb-4",children:d.jsx("div",{className:"flex space-x-6 w-max",children:t.map((p,y)=>d.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:y*.1},className:"relative bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl shadow-lg min-w-[300px] max-w-[320px]",children:[d.jsx(Bb,{className:"h-8 w-8 text-orange-500 mb-4"}),d.jsx("div",{className:"mb-4",children:f(p.rating)}),d.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',p.comment,'"']}),d.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[d.jsx("span",{className:"font-medium",children:p.name}),d.jsx("span",{children:p.createdAt&&!isNaN(new Date(p.createdAt).getTime())?new Date(p.createdAt).toLocaleDateString():"No date"})]}),s&&(o==null?void 0:o.id)===p.userId&&d.jsx("button",{onClick:()=>u(p.id),className:"absolute top-3 right-3 text-red-500 hover:text-red-700 transition",title:"Delete Review",children:d.jsx(zb,{size:18})})]},p.id))})}),d.jsxs(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"max-w-2xl mx-auto bg-gradient-to-br from-orange-50 to-white p-8 rounded-2xl shadow-lg mt-16",children:[d.jsx("h3",{className:"text-2xl font-bold gradient-text mb-6 text-center",children:"Share Your Experience"}),!s&&d.jsxs("div",{className:"text-center mb-6 p-4 bg-orange-100 rounded-xl",children:[d.jsx("p",{className:"text-orange-700 mb-4",children:"Please login to submit a review"}),d.jsx(Ft,{mode:"modal",children:d.jsx(ue,{className:"orange-gradient text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105 rounded-xl",children:"Login / Sign Up"})})]}),d.jsxs("form",{onSubmit:h,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx(Xn,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Your Rating"}),f(n.rating,!0,p=>r({...n,rating:p}))]}),d.jsxs("div",{children:[d.jsx(Xn,{htmlFor:"comment",className:"text-sm font-medium text-gray-700 mb-2 block",children:"Your Review"}),d.jsx("textarea",{id:"comment",value:n.comment,onChange:p=>r({...n,comment:p.target.value}),placeholder:"Share your experience with our services...",className:"w-full p-3 border border-gray-300 rounded-xl focus:border-orange-500 focus:ring-orange-500 min-h-[120px] resize-none",disabled:!s,required:!0})]}),d.jsx(ue,{type:"submit",disabled:!s,className:"w-full orange-gradient text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105 rounded-xl",children:"Submit Review"})]})]})]})})]})]}):d.jsx("div",{children:"Loading..."})},BO=()=>{const[t,e]=v.useState("numerology"),[n,r]=v.useState(!1),{isSignedIn:i,user:s}=ri(),o=[{number:1,meaning:"Leadership",description:"Independent, driven, and natural leaders with a pioneering spirit.",color:"text-red-500"},{number:2,meaning:"Harmony",description:"Sensitive, diplomatic, and gifted at bringing people together.",color:"text-orange-500"},{number:3,meaning:"Knowledge",description:"Curious minds who value learning, insight, and intellectual growth.",color:"text-yellow-500"},{number:4,meaning:"Stability",description:"Practical, reliable, and hardworking with a love for order.",color:"text-green-500"},{number:5,meaning:"Freedom",description:"Adventurous and versatile individuals who thrive on change and express themselves with clarity and confidence.",color:"text-blue-500"},{number:6,meaning:"Luxury",description:"Caring, family-focused, and drawn to beauty, comfort, and elegance.",color:"text-indigo-500"},{number:7,meaning:"Spiritual",description:"Introspective, analytical, and seekers of deeper meaning.",color:"text-purple-500"},{number:8,meaning:"Ambition",description:"Confident, disciplined, and success-oriented with strong willpower.",color:"text-pink-500"},{number:9,meaning:"Compassion",description:"Kind, idealistic, and devoted to service and global harmony.",color:"text-teal-500"}],a=[{direction:"North",element:"Water",significance:"Wealth and Career",tips:"Keep this area clean and clutter-free. Place water features here.",icon:""},{direction:"Northeast",element:"Water + Earth",significance:"Spirituality and Knowledge",tips:"Ideal for prayer room or study area. Avoid heavy furniture.",icon:""},{direction:"East",element:"Air",significance:"Health and Family",tips:"Good for main entrance. Keep windows open for fresh air.",icon:""},{direction:"Southeast",element:"Fire",significance:"Energy and Passion",tips:"Perfect for kitchen placement. Avoid water elements here.",icon:""},{direction:"South",element:"Fire",significance:"Fame and Recognition",tips:"Display achievements and awards. Use red or orange colors.",icon:""},{direction:"Southwest",element:"Earth",significance:"Relationships and Stability",tips:"Master bedroom location. Use earth tones and heavy furniture.",icon:""},{direction:"West",element:"Metal",significance:"Children and Creativity",tips:"Good for children's room. Display creative works here.",icon:""},{direction:"Northwest",element:"Metal + Air",significance:"Travel and Helpful People",tips:"Guest room or office space. Keep travel photos here.",icon:""}];return d.jsxs(d.Fragment,{children:[d.jsxs(Qn,{children:[d.jsx("title",{children:"About Numerology & Vaastu"}),d.jsx("meta",{name:"description",content:"Explore the ancient sciences of numerology and vaastu shastra. Learn principles, meanings, and practical applications for a harmonious life."})]}),d.jsx("div",{className:"min-h-screen py-20",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[d.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white text-shadow mb-4",children:["About ",d.jsx("span",{className:"text-black",children:"Ancient Wisdom"})]}),d.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Discover the profound sciences of numerology and vaastu shastra that have guided humanity for millennia"})]}),d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex justify-center mb-12",children:d.jsxs("div",{className:"bg-white rounded-2xl p-2 shadow-lg",children:[d.jsxs("button",{onClick:()=>e("numerology"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="numerology"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[d.jsx(pn,{className:"inline-block w-5 h-5 mr-2"}),"Numerology"]}),d.jsxs("button",{onClick:()=>e("vaastu"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="vaastu"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[d.jsx(Mg,{className:"inline-block w-5 h-5 mr-2"}),"Vaastu Shastra"]})]})}),t==="numerology"&&d.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[d.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"What is Numerology?"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-700 mb-4",children:"Numerology is the ancient study of numbers and their mystical relationship with life events. It's based on the belief that numbers have vibrational frequencies that influence our lives, personalities, and destinies."}),d.jsx("p",{className:"text-gray-700 mb-6",children:"By analyzing your birth date and name, numerology reveals insights about your:"}),d.jsxs("ul",{className:"space-y-2 text-gray-700",children:[d.jsxs("li",{className:"flex items-center",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2"})," Life Path and Purpose"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2"})," Personality Traits"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2"})," Career Guidance"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2"})," Relationship Compatibility"]})]})]}),d.jsx("div",{className:"text-center",children:d.jsx("img",{alt:"Numerology chart with mystical numbers and symbols",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg",src:"https://images.unsplash.com/photo-1644212054093-e5924f084240"})})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[d.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Core Number Meanings"}),d.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:o.map((c,u)=>d.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("div",{className:`text-4xl font-bold ${c.color} mb-2`,children:c.number}),d.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:c.meaning})]}),d.jsx("p",{className:"text-gray-600 text-sm text-center",children:c.description})]},c.number))})]})]}),t==="vaastu"&&d.jsxs(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[d.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"What is Vaastu Shastra?"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-700 mb-4",children:"Vaastu Shastra is an ancient Indian science of architecture and space arrangement. It harmonizes human dwellings with natural forces and cosmic energies to promote prosperity, health, and happiness."}),d.jsx("p",{className:"text-gray-700 mb-6",children:"Based on the five elements (Panchamahabhuta), Vaastu principles help create:"}),d.jsxs("ul",{className:"space-y-2 text-gray-700",children:[d.jsxs("li",{className:"flex items-center",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2"})," Positive Energy Flow"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2"})," Enhanced Well-being"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2"})," Financial Prosperity"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2"})," Harmonious Relationships"]})]})]}),d.jsx("div",{className:"text-center",children:d.jsx("img",{alt:"Vaastu compass showing eight directions with elements",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg",src:"https://images.unsplash.com/photo-1598677128962-89d71838f39b"})})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[d.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Directional Principles"}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((c,u)=>d.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("div",{className:"text-3xl mb-2",children:c.icon}),d.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:c.direction}),d.jsx("p",{className:"text-sm text-orange-600 font-medium",children:c.element})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:c.significance}),d.jsx("p",{className:"text-xs text-gray-600",children:c.tips})]})]},c.direction))})]})]}),d.jsx(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mt-16",children:d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[d.jsx("h3",{className:"text-2xl font-bold gradient-text mb-4",children:"Ready to Apply This Knowledge?"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Use our calculator to get personalized insights or book a consultation with our experts"}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[d.jsx(ue,{asChild:!0,className:"orange-gradient text-white transition-transform duration-300 ease-in-out hover:scale-105 hover:orange-gradient-hover rounded-xl",children:d.jsx(mn,{to:"/calculator",children:"Try Calculator"})}),i?d.jsxs(ti,{open:n,onOpenChange:r,children:[d.jsx(ni,{asChild:!0,children:d.jsx(ue,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Consultation"})}),d.jsxs(ir,{className:"sm:max-w-[425px]",children:[d.jsxs(sr,{children:[d.jsx(or,{children:"Book a Consultation"}),d.jsx(ar,{children:"Fill out the form below and we'll contact you shortly"})]}),d.jsx(ei,{onSuccess:()=>r(!1)})]})]}):d.jsx(Ft,{mode:"modal",children:d.jsx(ue,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Consultation"})})]})]})})]})})]})},$O=(t,e)=>{let r=e.replace(/-/g,"").split("").map(Number).reduce((c,u)=>c+u,0);for(;r>9&&r!==11&&r!==22&&r!==33;)r=r.toString().split("").map(Number).reduce((c,u)=>c+u,0);const i={A:1,B:2,C:3,D:4,E:5,F:8,G:3,H:5,I:1,J:1,K:2,L:3,M:4,N:5,O:7,P:8,Q:6,R:2,S:3,T:4,U:6,V:6,W:6,X:5,Y:1,Z:7};let s=t.toUpperCase().replace(/[^A-Z]/g,"").split("").reduce((c,u)=>c+(i[u]||0),0);for(;s>9&&s!==11&&s!==22&&s!==33;)s=s.toString().split("").map(Number).reduce((c,u)=>c+u,0);const o="AEIOU";let a=t.toUpperCase().split("").reduce((c,u)=>o.includes(u)?c+(i[u]||0):c,0);for(;a>9&&a!==11&&a!==22&&a!==33;)a=a.toString().split("").map(Number).reduce((c,u)=>c+u,0);return{lifePathNumber:r,destinyNumber:s,soulUrgeNumber:a}},$l=(t,e)=>{var r;return((r={1:{lifePath:"You are a natural leader with strong independence and pioneering spirit. Your path involves initiating new projects and leading others.",destiny:"Your destiny is to lead and innovate. You're meant to be a trailblazer in your chosen field.",soulUrge:"Deep down, you desire to be first, to lead, and to achieve recognition for your unique contributions."},2:{lifePath:"You are a natural diplomat and peacemaker. Your path involves cooperation, partnership, and bringing harmony to situations.",destiny:"Your destiny is to work with others and create harmony. You excel in supportive roles and partnerships.",soulUrge:"Your soul craves peace, cooperation, and meaningful relationships. You want to help and support others."},3:{lifePath:"You are creative, expressive, and optimistic. Your path involves communication, creativity, and inspiring others through your talents.",destiny:"Your destiny is to express yourself creatively and inspire others. You're meant to be an artist, writer, or entertainer.",soulUrge:"Your soul desires creative expression and the joy of inspiring others through your artistic abilities."},4:{lifePath:"You are practical, organized, and hardworking. Your path involves building solid foundations and creating lasting structures.",destiny:"Your destiny is to build and organize. You're meant to create systems and structures that benefit others.",soulUrge:"Your soul craves stability, order, and the satisfaction of building something lasting and meaningful."},5:{lifePath:"You are adventurous, versatile, and freedom-loving. Your path involves exploration, change, and experiencing life's variety.",destiny:"Your destiny is to explore and experience freedom. You're meant to travel, learn, and share your experiences.",soulUrge:"Your soul desires freedom, adventure, and the excitement of new experiences and discoveries."},6:{lifePath:"You are nurturing, responsible, and family-oriented. Your path involves caring for others and creating harmony in relationships.",destiny:"Your destiny is to nurture and heal. You're meant to be a caregiver, counselor, or healer.",soulUrge:"Your soul craves the opportunity to care for others and create a loving, harmonious environment."},7:{lifePath:"You are analytical, introspective, and spiritually inclined. Your path involves seeking truth and deeper understanding.",destiny:"Your destiny is to seek wisdom and spiritual truth. You're meant to be a researcher, analyst, or spiritual teacher.",soulUrge:"Your soul desires knowledge, understanding, and spiritual growth. You seek the deeper meaning of life."},8:{lifePath:"You are ambitious, business-minded, and success-oriented. Your path involves material achievement and leadership in business.",destiny:"Your destiny is to achieve material success and lead in business. You're meant to be an executive or entrepreneur.",soulUrge:"Your soul desires material success, recognition, and the power to make significant changes in the world."},9:{lifePath:"You are humanitarian, generous, and wise. Your path involves serving humanity and making the world a better place.",destiny:"Your destiny is to serve humanity. You're meant to be a humanitarian, teacher, or healer on a global scale.",soulUrge:"Your soul desires to help humanity and make a positive impact on the world through compassion and service."},11:{lifePath:"You are highly intuitive and spiritually gifted. Your path involves inspiring others through your psychic abilities and spiritual insights.",destiny:"Your destiny is to be a spiritual teacher and inspire others. You have strong intuitive and psychic abilities.",soulUrge:"Your soul desires spiritual enlightenment and the ability to inspire others through your intuitive gifts."},22:{lifePath:"You are a master builder with the ability to turn dreams into reality. Your path involves creating something significant for humanity.",destiny:"Your destiny is to be a master builder. You can manifest great things and create lasting impact on a large scale.",soulUrge:"Your soul desires to build something magnificent that will benefit humanity for generations to come."},33:{lifePath:"You are a master teacher and healer. Your path involves teaching, healing, and uplifting humanity through compassion.",destiny:"Your destiny is to be a master teacher and healer. You're meant to guide and heal others with unconditional love.",soulUrge:"Your soul desires to teach, heal, and serve humanity with the highest form of love and compassion."}}[t])==null?void 0:r[e])||"This number carries special significance in your numerological profile."},zO=({user:t,isSignedIn:e,setFormData:n,setResults:r,formData:i})=>{const[s,o]=v.useState(!1),a=async u=>{if(u.preventDefault(),!e){ke({title:"Sign In Required",description:"Please sign in to use the calculator",variant:"destructive"});return}if(!i.name.trim()||!i.birthDate){ke({title:"Error",description:"Please fill in your name and birth date",variant:"destructive"});return}o(!0),setTimeout(()=>{const h=$O(i.name,i.birthDate);r(h);const f={...i,...h,timestamp:new Date().toISOString(),userId:t.id},p=JSON.parse(localStorage.getItem("bhaggya_calculations")||"[]");p.push(f),localStorage.setItem("bhaggya_calculations",JSON.stringify(p)),ke({title:"Success!",description:"Your numerology profile has been generated."}),o(!1)},1500)},c=u=>{n({...i,[u.target.name]:u.target.value})};return d.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"bg-white rounded-2xl shadow-xl p-8 card-shadow",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx(pn,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold gradient-text mb-2",children:"Personal Numerology Reading"}),d.jsx("p",{className:"text-gray-600",children:"Enter your details to unlock the secrets of your numbers"})]}),!e&&d.jsxs("div",{className:"text-center mb-8 p-6 bg-orange-50 rounded-xl border border-orange-200",children:[d.jsx("p",{className:"text-orange-700 mb-4 font-medium",children:" Sign in to calculate your results"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Create your account to get personalized numerology insights"}),d.jsx(Ft,{mode:"modal",children:d.jsx(ue,{className:"orange-gradient text-white hover:orange-gradient-hover transition-transform duration-300 ease-in-out hover:scale-105 rounded-xl",children:"Login / Sign Up"})})]}),d.jsxs("form",{onSubmit:a,className:"space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Xn,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ug,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx(Zr,{id:"name",name:"name",type:"text",value:i.name,onChange:c,placeholder:"Enter your full name",className:"pl-10",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Xn,{htmlFor:"birthDate",className:"text-sm font-medium text-gray-700",children:"Birth Date *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Og,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx(Zr,{id:"birthDate",name:"birthDate",type:"date",value:i.birthDate,onChange:c,className:"pl-10",required:!0})]})]})]}),d.jsx(ue,{type:"submit",disabled:s,className:"w-full orange-gradient text-white transition-transform duration-300 ease-in-out hover:scale-105 hover:orange-gradient-hover py-3 text-lg rounded-xl",children:s?"Calculating Your Numbers...":"Generate My Numerology Profile"})]})]})},zl=({icon:t,title:e,number:n,description:r,delay:i})=>d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i},className:"bg-white rounded-lg shadow-xl p-8 card-shadow flex flex-col",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx(t,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-bold gradient-text mb-2",children:e}),d.jsx("div",{className:"text-4xl font-bold text-orange-500",children:n})]}),d.jsx("p",{className:"text-gray-700 text-sm leading-relaxed flex-grow",children:r})]}),HO=({results:t,formData:e,onReset:n})=>{const[r,i]=v.useState(!1);return d.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center card-shadow",children:[d.jsx("h2",{className:"text-3xl font-bold gradient-text mb-4",children:"Your Numerology Profile"}),d.jsxs("p",{className:"text-gray-600 mb-2",children:["Generated for: ",d.jsx("strong",{children:e.name})]}),d.jsxs("p",{className:"text-gray-600",children:["Birth Date: ",d.jsx("strong",{children:new Date(e.birthDate).toLocaleDateString()})]})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsx(zl,{icon:Lg,title:"Life Path Number",number:t.lifePathNumber,description:$l(t.lifePathNumber,"lifePath"),delay:.1}),d.jsx(zl,{icon:Me,title:"Destiny Number",number:t.destinyNumber,description:$l(t.destinyNumber,"destiny"),delay:.2}),d.jsx(zl,{icon:Ug,title:"Soul Urge Number",number:t.soulUrgeNumber,description:$l(t.soulUrgeNumber,"soulUrge"),delay:.3})]}),d.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"bg-white rounded-lg shadow-xl p-8 text-center card-shadow",children:[d.jsx("h3",{className:"text-2xl font-bold gradient-text mb-4",children:"Want Deeper Insights?"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Our expert consultants will contact you soon for a detailed analysis and personalized guidance based on your unique numerology profile."}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[d.jsx(ue,{onClick:n,variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white",children:"Calculate Again"}),d.jsxs(ti,{open:r,onOpenChange:i,children:[d.jsx(ni,{asChild:!0,children:d.jsx(ue,{className:"orange-gradient text-white transition-transform duration-300 ease-in-out hover:scale-105 hover:orange-gradient-hover",children:"Book Consultation"})}),d.jsxs(ir,{className:"sm:max-w-[425px]",children:[d.jsxs(sr,{children:[d.jsx(or,{className:"text-2xl font-bold text-orange-600",children:"Book Consultation"}),d.jsx(ar,{className:"text-orange-500",children:"We'll contact you shortly to discuss your numerology profile"})]}),d.jsx(ei,{onSuccess:()=>i(!1),defaultName:e.name})]})]})]})]})]})},WO=()=>{const[t,e]=v.useState({name:"",birthDate:""}),[n,r]=v.useState(null),{isLoaded:i,isSignedIn:s,user:o}=ri();v.useState(!1);const a=()=>{r(null),e({name:"",birthDate:""})};return i?d.jsxs(d.Fragment,{children:[d.jsxs(Qn,{children:[d.jsx("title",{children:"Numerology Calculator - Get Your Personal Reading | Bhaggya Darshhan"}),d.jsx("meta",{name:"description",content:"Calculate your life path, destiny, and soul urge numbers with our advanced numerology calculator. Get personalized insights based on your name and birth date."})]}),d.jsx("div",{className:"min-h-screen py-20",children:d.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[d.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[d.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white text-shadow mb-4",children:["Numerology ",d.jsx("span",{className:"text-black",children:"Calculator"})]}),d.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Discover your life path, destiny, and soul purpose through the ancient science of numbers"})]}),n?d.jsx(HO,{results:n,formData:t,onReset:a}):d.jsx(zO,{user:o,isSignedIn:s,formData:t,setFormData:e,setResults:r})]})})]}):null},qO=()=>{const[t,e]=v.useState("color"),[n,r]=v.useState(!1),{isSignedIn:i,user:s}=ri(),o=[{color:"Red",meaning:"Energy & Passion",description:"Stimulates vitality, increases circulation, and boosts confidence.",hex:"#f87171"},{color:"Orange",meaning:"Creativity & Joy",description:"Enhances social interaction, stimulates creativity, and boosts mood.",hex:"#fb923c"},{color:"Blue",meaning:"Calm & Clarity",description:"Promotes peace, reduces stress, and enhances communication.",hex:"#60a5fa"},{color:"Green",meaning:"Balance & Healing",description:"Supports emotional balance, harmony, and rejuvenation.",hex:"#34d399"},{color:"Yellow",meaning:"Joy & Intellect",description:"Stimulates mental clarity, positivity, and learning.",hex:"#facc15"},{color:"Purple",meaning:"Spiritual Insight",description:"Encourages meditation, intuition, and deeper wisdom.",hex:"#c084fc"}],a=[{use:"Meditation Aid",description:"Enhances focus and spiritual connection when meditating under pyramids.",icon:""},{use:"Energy Balancing",description:"Used to align chakras and balance subtle energies.",icon:""},{use:"Vaastu Remedies",description:"Pyramids neutralize negative energy in homes and workspaces.",icon:""},{use:"Healing Amplifier",description:"Placed under water or food, pyramids enhance their positive properties.",icon:""}];return d.jsxs(d.Fragment,{children:[d.jsxs(Qn,{children:[d.jsx("title",{children:"Therapies - Color & Pyramid | Bhaggya Darshhan"}),d.jsx("meta",{name:"description",content:"Explore Color Therapy and Pyramid Therapy to balance your energies and enhance well-being through ancient practices."})]}),d.jsx("div",{className:"min-h-screen py-20",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[d.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white text-shadow mb-4",children:["Explore ",d.jsx("span",{className:"text-black",children:"Healing Therapies"})]}),d.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Discover ancient therapeutic practices to harmonize your energy and enhance well-being"})]}),d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex justify-center mb-12",children:d.jsxs("div",{className:"bg-white rounded-2xl p-2 shadow-lg",children:[d.jsxs("button",{onClick:()=>e("color"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="color"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[d.jsx(jg,{className:"inline-block w-5 h-5 mr-2"}),"Color"]}),d.jsxs("button",{onClick:()=>e("pyramid"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="pyramid"?"orange-gradient text-white":"text-gray-600 hover:text-orange-500"}`,children:[d.jsx(Fg,{className:"inline-block w-5 h-5 mr-2"}),"Pyramid"]})]})}),t==="color"&&d.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[d.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:" What is Color Therapy?"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-700 mb-4",children:"Color Therapy (Chromotherapy) is the holistic use of color frequencies to balance physical, emotional, and spiritual well-being. Each color emits a specific vibration that can positively affect the human body and mind."}),d.jsx("p",{className:"text-gray-700 mb-6",children:"It helps you with:"}),d.jsxs("ul",{className:"space-y-3 text-gray-700",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-600",children:"Emotional Healing"})," - Soothes stress, anxiety, and emotional imbalances using calming colors."]})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-600",children:"Energy Rejuvenation"})," - Stimulates energy levels and vitality through warm, energizing hues."]})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-600",children:"Chakra Alignment"})," - Uses specific colors to balance and harmonize the energy centers."]})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-600",children:"Mental Clarity"})," - Enhances focus and mood by influencing brainwave activity."]})]})]})]}),d.jsx("div",{className:"text-center",children:d.jsx("img",{src:"https://media.istockphoto.com/id/1027020366/vector/human-mind-brain-spirit-energy-connect-to-the-universe-power-abstract-art-watercolor.jpg?s=612x612&w=0&k=20&c=-BW7ZMgDAQvFk4hSLVH_3o5ejQIVNYQpvnWDHxgswyk=",alt:"Color Therapy Illustration",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg"})})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[d.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Color Meanings & Benefits"}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((c,u)=>d.jsxs(Q.div,{className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",style:{borderColor:c.hex},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("div",{className:"text-3xl font-bold",style:{color:c.hex},children:c.color}),d.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:c.meaning})]}),d.jsx("p",{className:"text-gray-600 text-sm text-center",children:c.description})]},u))})]})]}),t==="pyramid"&&d.jsxs(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-12",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[d.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:" What is Pyramid Therapy?"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-700 mb-4",children:"Pyramid Therapy utilizes the sacred geometry of pyramids to harness cosmic energy for healing and personal transformation. The structure of a pyramid amplifies and balances subtle energies."}),d.jsx("p",{className:"text-gray-700 mb-6",children:"It supports you through:"}),d.jsxs("ul",{className:"space-y-3 text-gray-700",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-600",children:"Meditative Enhancement"})," - Pyramids deepen your meditative state by aligning inner frequencies."]})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-600",children:"Energy Purification"})," - Neutralizes negativity and promotes energetic balance."]})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-600",children:"Space Cleansing"})," - Improves Vaastu by correcting energy distortions in your environment."]})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx(Me,{className:"h-4 w-4 text-orange-500 mr-2 mt-1 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-600",children:"Healing Acceleration"})," - Elevates the vibrational quality of food, water, and surroundings."]})]})]})]}),d.jsx("div",{className:"text-center",children:d.jsx("img",{src:"https://dailygalaxy.com/wp-content/uploads/2025/04/The-Great-Pyramid-of-Giza-Has-MORE-Than-Four-Sides.jpg",alt:"Pyramid Therapy Illustration",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg"})})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[d.jsx("h3",{className:"text-2xl font-bold gradient-text mb-8 text-center",children:"Pyramid Applications"}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((c,u)=>d.jsxs(Q.div,{className:"bg-gradient-to-br from-orange-50 to-white p-6 rounded-2xl border border-orange-100 hover:shadow-lg transition-shadow",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("div",{className:"text-3xl mb-2",children:c.icon}),d.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:c.use})]}),d.jsx("p",{className:"text-sm text-gray-600 text-center",children:c.description})]},u))})]})]}),d.jsx(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mt-16",children:d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[d.jsx("h3",{className:"text-2xl font-bold gradient-text mb-4",children:"Want Personalized Therapy Guidance?"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Discover your ideal therapy colors or pyramid placements with our tools"}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[d.jsx(ue,{asChild:!0,className:"orange-gradient text-white transition-transform duration-300 ease-in-out hover:scale-105 hover:orange-gradient-hover rounded-xl",children:d.jsxs(mn,{to:"/calculator",children:[d.jsx(pn,{className:"inline-block w-5 h-5 mr-2"})," Try Calculator"]})}),i?d.jsxs(ti,{open:n,onOpenChange:r,children:[d.jsx(ni,{asChild:!0,children:d.jsx(ue,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Therapy Session"})}),d.jsxs(ir,{className:"sm:max-w-[425px]",children:[d.jsxs(sr,{children:[d.jsx(or,{children:"Book a Therapy Session"}),d.jsx(ar,{children:"Fill out the form below and we'll contact you shortly"})]}),d.jsx(ei,{onSuccess:()=>r(!1)})]})]}):d.jsx(Ft,{mode:"modal",children:d.jsx(ue,{variant:"outline",className:"border-orange-500 text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 hover:bg-orange-500 hover:text-white rounded-xl",children:"Book Therapy Session"})})]})]})})]})})]})},GO=()=>{const[t,e]=v.useState(!1),{isSignedIn:n}=ri(),r=[{title:"Numerology",description:"Discover your life path number and understand your core personality traits, strengths, and challenges through the ancient science of numbers.",img:"https://plus.unsplash.com/premium_photo-1717717670034-0d673f50f895?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8bnVtZXJvbG9neXxlbnwwfHwwfHx8MA%3D%3D",icon:d.jsx(pn,{className:"w-6 h-6"})},{title:"Name Correction",description:"Enhance your luck and align your name's vibrations with your birth number for better life outcomes and success.",img:"https://plus.unsplash.com/premium_photo-1666739032615-ecbd14dfb543?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8YWxwaGFiZXR8ZW58MHx8MHx8fDA%3D",icon:d.jsx(Ub,{className:"w-6 h-6"})},{title:"Residential Vaastu",description:"Align your home's energy to bring peace, prosperity, and good health to your family through proper space arrangement.",img:"https://aurorealty.com/blog/wp-content/uploads/2019/10/vastu-shastra-for-home.jpg",icon:d.jsx(Mg,{className:"w-6 h-6"})},{title:"Commercial Vaastu",description:"Attract success in business by balancing energies in shops, offices, and workspaces for optimal financial growth.",img:"https://www.vasthusubramanyam.com/wp-content/uploads/2019/09/commercial-e1568478793888.jpg",icon:d.jsx(Hd,{className:"w-6 h-6"})},{title:"Industrial Vaastu",description:"Optimize industrial spaces for increased productivity, safety, and positive outcomes through proper energy flow.",img:"https://www.azumuta.com/wp-content/uploads/2024/05/petrochemical-industry-with-twilight-sky-2-1536x1024-1.jpeg",icon:d.jsx(Hd,{className:"w-6 h-6"})},{title:"Color Therapy",description:"Use the vibration of colors to heal, balance emotions, and enhance well-being through chromotherapy techniques.",img:"https://www.shutterstock.com/image-illustration/human-spirit-powerful-energy-connect-600nw-1416917957.jpg",icon:d.jsx(jg,{className:"w-6 h-6"})},{title:"Pyramid Therapy",description:"Harness the ancient power of pyramids to neutralize negativity and amplify positivity in your environment.",img:"https://dailygalaxy.com/wp-content/uploads/2025/04/The-Great-Pyramid-of-Giza-Has-MORE-Than-Four-Sides.jpg",icon:d.jsx(Fg,{className:"w-6 h-6"})}];return d.jsxs(d.Fragment,{children:[d.jsxs(Qn,{children:[d.jsx("title",{children:"Our Services | Vaastu Guru - Numerology & Vaastu Consultancy"}),d.jsx("meta",{name:"description",content:"Explore our range of numerology and vaastu services designed to bring balance, prosperity, and harmony to your life."})]}),d.jsxs("div",{className:"min-h-screen py-20",children:[d.jsx("section",{className:"relative px-4 text-center",children:d.jsx("div",{className:"container mx-auto max-w-6xl",children:d.jsxs(Q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-4",children:[d.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white text-shadow mb-2",children:["Our ",d.jsx("span",{className:"text-black",children:"Services"})]}),d.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Professional numerology and vaastu services to transform your living and working spaces"})]})})}),d.jsx("section",{className:"py-12",children:d.jsx("div",{className:"container mx-auto px-4 text-center",children:d.jsx("div",{className:"bg-white rounded-2xl shadow-md p-8 border border-gray-100",children:d.jsx(Q.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((i,s)=>d.jsxs(Q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:s*.1},whileHover:{y:-5},className:"bg-white max-w-sm mx-auto rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer border border-gray-100",children:[d.jsx("div",{className:"h-45 overflow-hidden",children:d.jsx("img",{src:i.img,alt:i.title,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"bg-orange-100 p-2 rounded-full mr-4",children:i.icon}),d.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:i.title})]}),d.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:i.description})]})]},s))})})})}),d.jsx("section",{className:"py-16",children:d.jsx("div",{className:"container mx-auto px-4 text-center",children:d.jsxs(Q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"bg-white rounded-2xl p-8 shadow-lg card-shadow",children:[d.jsx("h2",{className:"text-3xl font-bold gradient-text mb-4",children:"Personalized Guidance Available"}),d.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Our experts provide customized solutions tailored to your specific needs and challenges."}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[n?d.jsxs(ti,{open:t,onOpenChange:e,children:[d.jsx(ni,{asChild:!0,children:d.jsx(ue,{className:"hover:bg-white transition-transform duration-300 ease-in-out hover:scale-105 orange-gradient text-white hover:orange-gradient-hover px-8 py-3 text-lg rounded-xl",children:"Book Consultation"})}),d.jsxs(ir,{className:"sm:max-w-[425px]",children:[d.jsxs(sr,{children:[d.jsx(or,{children:"Book a Consultation"}),d.jsx(ar,{children:"Fill out the form below and we'll contact you shortly"})]}),d.jsx(ei,{onSuccess:()=>e(!1)})]})]}):d.jsx(Ft,{mode:"modal",children:d.jsx(ue,{className:"hover:bg-white hover:text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105 orange-gradient text-white hover:orange-gradient-hover px-8 py-3 text-lg rounded-xl",children:"Book Consultation"})}),d.jsx(ue,{asChild:!0,variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white px-8 py-3 text-lg rounded-xl hover:bg-white hover:text-orange-500 transition-transform duration-300 ease-in-out hover:scale-105",children:d.jsxs(mn,{to:"/calculator",children:[d.jsx(pn,{className:"inline-block w-5 h-5 mr-2"})," Try Our Analysis Tool"]})})]})]})})})]})]})},KO=()=>{const[t,e]=v.useState([]);return v.useEffect(()=>{const n=()=>{const i=[],s=[1,2,3,4,5,6,7,8,9,11,22,33];for(let o=0;o<25;o++)i.push({id:o,number:s[Math.floor(Math.random()*s.length)],left:Math.random()*100,delay:Math.random()*15,size:Math.random()*2+1});e(i)};n();const r=setInterval(n,15e3);return()=>clearInterval(r)},[]),d.jsx("div",{className:"floating-numbers",children:t.map(n=>d.jsx("div",{className:"floating-number",style:{left:`${n.left}%`,animationDelay:`${n.delay}s`,fontSize:`${n.size}rem`},children:n.number},n.id))})},YO=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState([{id:1,text:"Hello! I'm your AI assistant for Bhaggya Darshhan. I can help you with questions about numerology, vaastu, and our services. How can I assist you today?",isBot:!0}]),[i,s]=v.useState(""),o={numerology:"Numerology is the study of numbers and their mystical relationship with life events. Each number from 1-9 has unique vibrations and meanings. Your birth date and name can reveal insights about your personality, life path, and destiny.",vaastu:"Vaastu Shastra is an ancient Indian science of architecture and space arrangement. It focuses on harmonizing human dwellings with natural forces and cosmic energies to bring prosperity, health, and happiness.",consultants:"Our expert consultants are Yashraj guruji and Rishabh Goel. Both have years of experience in numerology and vaastu consultation, helping thousands of clients achieve harmony in their lives.",contact:"You can contact at mobile number +919650881509 or click on book appointment button to schedule a consultation.",services:"We offer personalized numerology readings, vaastu consultations for homes and offices, name correction suggestions, and guidance for important life decisions based on numerical analysis.",calculator:"Our numerology calculator analyzes your birth date and name to provide insights into your life path number, destiny number, and personality traits. You'll need to sign up to access this feature.",default:"I understand you're interested in learning more. Could you please ask about numerology, vaastu, our consultants, services, or the calculator? I'm here to help with any specific questions!"},a=()=>{if(!i.trim())return;const u={id:Date.now(),text:i,isBot:!1};r(h=>[...h,u]),setTimeout(()=>{const h=i.toLowerCase();let f=o.default;h.includes("numerology")||h.includes("number")?f=o.numerology:h.includes("vaastu")||h.includes("vastu")?f=o.vaastu:h.includes("consultant")||h.includes("expert")?f=o.consultants:h.includes("service")||h.includes("help")?f=o.services:h.includes("calculator")||h.includes("calculate")?f=o.calculator:(h.includes("contact")||h.includes("reach")||h.includes("phone"))&&(f=o.contact);const p={id:Date.now()+1,text:f,isBot:!0};r(y=>[...y,p])},1e3),s("")},c=u=>{u.key==="Enter"&&a()};return d.jsxs(d.Fragment,{children:[d.jsx(Q.button,{onClick:()=>e(!t),className:"fixed bottom-6 right-6 z-50 w-14 h-14 orange-gradient rounded-full shadow-lg flex items-center justify-center text-white hover:orange-gradient-hover transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(fc,{mode:"wait",children:t?d.jsx(Q.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:d.jsx(Bg,{className:"h-6 w-6"})},"close"):d.jsx(Q.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:d.jsx(Fb,{className:"h-6 w-6"})},"chat")})}),d.jsx(fc,{children:t&&d.jsxs(Q.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-24 right-6 z-40 w-80 h-96 bg-white rounded-lg shadow-xl border border-gray-200 flex flex-col",children:[d.jsx("div",{className:"orange-gradient text-white p-4 rounded-t-lg",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(jb,{className:"h-5 w-5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"AI Assistant"}),d.jsx("p",{className:"text-xs opacity-90",children:"Ask me about numerology & vaastu"})]})]})}),d.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:n.map(u=>d.jsx("div",{className:`flex ${u.isBot?"justify-start":"justify-end"}`,children:d.jsx("div",{className:`max-w-xs p-3 rounded-lg text-sm ${u.isBot?"bg-gray-100 text-gray-800":"orange-gradient text-white"}`,children:u.text})},u.id))}),d.jsx("div",{className:"p-4 border-t border-gray-200",children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Zr,{value:i,onChange:u=>s(u.target.value),onKeyPress:c,placeholder:"Ask me anything...",className:"flex-1 text-sm"}),d.jsx(ue,{onClick:a,size:"sm",className:"orange-gradient text-white hover:orange-gradient-hover",children:d.jsx($b,{className:"h-4 w-4"})})]})})]})})]})},QO="pk_test_a25vd2luZy1sb2N1c3QtMjguY2xlcmsuYWNjb3VudHMuZGV2JA";function XO(){return d.jsx(ox,{publishableKey:QO,children:d.jsx(uT,{children:d.jsxs("div",{className:"min-h-screen relative",children:[d.jsx(KO,{}),d.jsx(pC,{}),d.jsx("main",{className:"relative z-1",children:d.jsxs(rT,{children:[d.jsx(Ir,{path:"/",element:d.jsx(UO,{})}),d.jsx(Ir,{path:"/learn",element:d.jsx(BO,{})}),d.jsx(Ir,{path:"/calculator",element:d.jsx(WO,{})}),d.jsx(Ir,{path:"/therapy",element:d.jsx(qO,{})}),d.jsx(Ir,{path:"/services",element:d.jsx(GO,{})})]})}),d.jsx(YO,{}),d.jsx(Xb,{})]})})})}Hl.createRoot(document.getElementById("root")).render(d.jsx(ye.StrictMode,{children:d.jsx(XO,{})}));
